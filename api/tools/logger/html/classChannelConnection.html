<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>COMP_hack Logger: ChannelConnection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="reflogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">COMP_hack Logger
   </div>
   <div id="projectbrief">Shin Megami Tensei Online: IMAGINE Server Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-slots">Protected Slots</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classChannelConnection-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ChannelConnection Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Proxy connection between the logger and the channel server.  
 <a href="classChannelConnection.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ChannelConnection_8h_source.html">ChannelConnection.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ChannelConnection:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classChannelConnection.png" usemap="#ChannelConnection_map" alt=""/>
  <map id="ChannelConnection_map" name="ChannelConnection_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a75d2ac65c5dfc7a275bd88893456a590"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a75d2ac65c5dfc7a275bd88893456a590">ChannelConnection</a> (<a class="el" href="classLoggerServer.html">LoggerServer</a> *server, qintptr socketDescriptor, uint32_t clientID, QObject *parent=0)</td></tr>
<tr class="memdesc:a75d2ac65c5dfc7a275bd88893456a590"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new channel connection.  <a href="#a75d2ac65c5dfc7a275bd88893456a590">More...</a><br /></td></tr>
<tr class="separator:a75d2ac65c5dfc7a275bd88893456a590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0bb50e546f2b0311f366c4cdf54908a"><td class="memItemLeft" align="right" valign="top"><a id="ad0bb50e546f2b0311f366c4cdf54908a"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#ad0bb50e546f2b0311f366c4cdf54908a">~ChannelConnection</a> ()</td></tr>
<tr class="memdesc:ad0bb50e546f2b0311f366c4cdf54908a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the connection. <br /></td></tr>
<tr class="separator:ad0bb50e546f2b0311f366c4cdf54908a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-slots"></a>
Protected Slots</h2></td></tr>
<tr class="memitem:a68f160953168af7ad8672a0ba82d8bf2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a68f160953168af7ad8672a0ba82d8bf2">clientLost</a> ()</td></tr>
<tr class="memdesc:a68f160953168af7ad8672a0ba82d8bf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called when the client closes the connection.  <a href="#a68f160953168af7ad8672a0ba82d8bf2">More...</a><br /></td></tr>
<tr class="separator:a68f160953168af7ad8672a0ba82d8bf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdbf918b549e7a37aeee391364816ceb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#acdbf918b549e7a37aeee391364816ceb">clientReady</a> ()</td></tr>
<tr class="memdesc:acdbf918b549e7a37aeee391364816ceb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called when new data has arrived from the client.  <a href="#acdbf918b549e7a37aeee391364816ceb">More...</a><br /></td></tr>
<tr class="separator:acdbf918b549e7a37aeee391364816ceb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a635dc7ac58bb5da24d91773924a62706"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a635dc7ac58bb5da24d91773924a62706">sendClientHello</a> ()</td></tr>
<tr class="memdesc:a635dc7ac58bb5da24d91773924a62706"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called when the connection to the channel server is opened.  <a href="#a635dc7ac58bb5da24d91773924a62706">More...</a><br /></td></tr>
<tr class="separator:a635dc7ac58bb5da24d91773924a62706"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98861deaadd3eb2af8389cbd2c82e0fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a98861deaadd3eb2af8389cbd2c82e0fc">serverLost</a> ()</td></tr>
<tr class="memdesc:a98861deaadd3eb2af8389cbd2c82e0fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called when the channel server closes the connection.  <a href="#a98861deaadd3eb2af8389cbd2c82e0fc">More...</a><br /></td></tr>
<tr class="separator:a98861deaadd3eb2af8389cbd2c82e0fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b5ef54b846599200689b369b34ea3af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a0b5ef54b846599200689b369b34ea3af">serverReady</a> ()</td></tr>
<tr class="memdesc:a0b5ef54b846599200689b369b34ea3af"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called when new data has arrived from the channel server.  <a href="#a0b5ef54b846599200689b369b34ea3af">More...</a><br /></td></tr>
<tr class="separator:a0b5ef54b846599200689b369b34ea3af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a43e9e32473228783ebdfc00566e0c2f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a43e9e32473228783ebdfc00566e0c2f4">decryptPacket</a> (const BF_KEY *key, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html">libcomp::Packet</a> &amp;p)</td></tr>
<tr class="memdesc:a43e9e32473228783ebdfc00566e0c2f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrypt a packet.  <a href="#a43e9e32473228783ebdfc00566e0c2f4">More...</a><br /></td></tr>
<tr class="separator:a43e9e32473228783ebdfc00566e0c2f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa46c1d9e70241b3a9720e790eaeee23c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#aa46c1d9e70241b3a9720e790eaeee23c">encryptPacket</a> (const BF_KEY *key, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html">libcomp::Packet</a> &amp;p)</td></tr>
<tr class="memdesc:aa46c1d9e70241b3a9720e790eaeee23c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encrypt a packet.  <a href="#aa46c1d9e70241b3a9720e790eaeee23c">More...</a><br /></td></tr>
<tr class="separator:aa46c1d9e70241b3a9720e790eaeee23c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a766840ca28ace22f8139effabb721a01"><td class="memItemLeft" align="right" valign="top"><a id="a766840ca28ace22f8139effabb721a01"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a766840ca28ace22f8139effabb721a01">exchangeKeys</a> ()</td></tr>
<tr class="memdesc:a766840ca28ace22f8139effabb721a01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exchange encryption keys with the channel server. <br /></td></tr>
<tr class="separator:a766840ca28ace22f8139effabb721a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dc8f0f5b42610dec1413014ba07a0c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a4dc8f0f5b42610dec1413014ba07a0c8">logMessage</a> (const QString &amp;msg)</td></tr>
<tr class="memdesc:a4dc8f0f5b42610dec1413014ba07a0c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log a message to the console and GUI.  <a href="#a4dc8f0f5b42610dec1413014ba07a0c8">More...</a><br /></td></tr>
<tr class="separator:a4dc8f0f5b42610dec1413014ba07a0c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5e265f05105969b90ed183324fc5981"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#af5e265f05105969b90ed183324fc5981">logPacket</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html">libcomp::Packet</a> &amp;p, uint8_t source)</td></tr>
<tr class="memdesc:af5e265f05105969b90ed183324fc5981"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log a packet to the capture file and send it to the live capgrep.  <a href="#af5e265f05105969b90ed183324fc5981">More...</a><br /></td></tr>
<tr class="separator:af5e265f05105969b90ed183324fc5981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e6f910eb79e936d7d6076f85e30db10"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a1e6f910eb79e936d7d6076f85e30db10">packetHasServerSwitch</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html">libcomp::Packet</a> &amp;p)</td></tr>
<tr class="memdesc:a1e6f910eb79e936d7d6076f85e30db10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if the packet has a server switch command.  <a href="#a1e6f910eb79e936d7d6076f85e30db10">More...</a><br /></td></tr>
<tr class="separator:a1e6f910eb79e936d7d6076f85e30db10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43d15e55a36f1fed011673096bf810bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a43d15e55a36f1fed011673096bf810bd">rewriteServerSwitchPacket</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html">libcomp::Packet</a> &amp;p)</td></tr>
<tr class="memdesc:a43d15e55a36f1fed011673096bf810bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-write the server switch command contained in the packet.  <a href="#a43d15e55a36f1fed011673096bf810bd">More...</a><br /></td></tr>
<tr class="separator:a43d15e55a36f1fed011673096bf810bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a566a2e9de216157a0bd4bb8493ba3469"><td class="memItemLeft" align="right" valign="top"><a id="a566a2e9de216157a0bd4bb8493ba3469"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a566a2e9de216157a0bd4bb8493ba3469">run</a> ()</td></tr>
<tr class="memdesc:a566a2e9de216157a0bd4bb8493ba3469"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called when the connection thread starts executing. <br /></td></tr>
<tr class="separator:a566a2e9de216157a0bd4bb8493ba3469"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af784c2349338a2ad67ff118ff0652c64"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#af784c2349338a2ad67ff118ff0652c64">timestamp</a> () const</td></tr>
<tr class="memdesc:af784c2349338a2ad67ff118ff0652c64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a timestamp to be used in the log.  <a href="#af784c2349338a2ad67ff118ff0652c64">More...</a><br /></td></tr>
<tr class="separator:af784c2349338a2ad67ff118ff0652c64"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a04525464d61579f943b223558f354a74"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a04525464d61579f943b223558f354a74">ConnectionState</a> { <a class="el" href="classChannelConnection.html#a04525464d61579f943b223558f354a74a540465f8cfeaba069bf201a91cb88dc2">NotConnected</a> = 0, 
<a class="el" href="classChannelConnection.html#a04525464d61579f943b223558f354a74acbcce4dba0bfed153ce1c61088397be8">Connected</a>, 
<a class="el" href="classChannelConnection.html#a04525464d61579f943b223558f354a74a34cf07d6eae1739fb3408453084f90d4">ExchangeStarted</a>, 
<a class="el" href="classChannelConnection.html#a04525464d61579f943b223558f354a74a9f460aba1b90c1a1521b34e6eb22d0fc">Encrypted</a>
 }</td></tr>
<tr class="memdesc:a04525464d61579f943b223558f354a74"><td class="mdescLeft">&#160;</td><td class="mdescRight">State of the channel connection.  <a href="classChannelConnection.html#a04525464d61579f943b223558f354a74">More...</a><br /></td></tr>
<tr class="separator:a04525464d61579f943b223558f354a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2bedcf3cde0f4ba00a2d6a745d4577f5"><td class="memItemLeft" align="right" valign="top"><a id="a2bedcf3cde0f4ba00a2d6a745d4577f5"></a>
QFile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a2bedcf3cde0f4ba00a2d6a745d4577f5">mCaptureLog</a></td></tr>
<tr class="memdesc:a2bedcf3cde0f4ba00a2d6a745d4577f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">File to write the capture log to. <br /></td></tr>
<tr class="separator:a2bedcf3cde0f4ba00a2d6a745d4577f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a3326f9a9d3e98d557333b5d1273949"><td class="memItemLeft" align="right" valign="top"><a id="a6a3326f9a9d3e98d557333b5d1273949"></a>
QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a6a3326f9a9d3e98d557333b5d1273949">mClientAddress</a></td></tr>
<tr class="memdesc:a6a3326f9a9d3e98d557333b5d1273949"><td class="mdescLeft">&#160;</td><td class="mdescRight">IP address of the client connection. <br /></td></tr>
<tr class="separator:a6a3326f9a9d3e98d557333b5d1273949"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7090878bef1589aa618774726283e1b0"><td class="memItemLeft" align="right" valign="top"><a id="a7090878bef1589aa618774726283e1b0"></a>
<a class="el" href="structCryptData.html">CryptData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a7090878bef1589aa618774726283e1b0">mClientCryptData</a></td></tr>
<tr class="memdesc:a7090878bef1589aa618774726283e1b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Crypto data for the connection to the client. <br /></td></tr>
<tr class="separator:a7090878bef1589aa618774726283e1b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d6303bbe70919daead5c4977f0ce523"><td class="memItemLeft" align="right" valign="top"><a id="a1d6303bbe70919daead5c4977f0ce523"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a1d6303bbe70919daead5c4977f0ce523">mClientID</a></td></tr>
<tr class="memdesc:a1d6303bbe70919daead5c4977f0ce523"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unique channel ID of this client connection. <br /></td></tr>
<tr class="separator:a1d6303bbe70919daead5c4977f0ce523"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef7eec027c663c1995160cb157c25a7a"><td class="memItemLeft" align="right" valign="top"><a id="aef7eec027c663c1995160cb157c25a7a"></a>
uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#aef7eec027c663c1995160cb157c25a7a">mClientLoginPacket</a></td></tr>
<tr class="memdesc:aef7eec027c663c1995160cb157c25a7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer to store the login packet before it is sent to the server. <br /></td></tr>
<tr class="separator:aef7eec027c663c1995160cb157c25a7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2699019488f9153ed4ecd982c2a567f9"><td class="memItemLeft" align="right" valign="top"><a id="a2699019488f9153ed4ecd982c2a567f9"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a2699019488f9153ed4ecd982c2a567f9">mClientLoginPacketSize</a></td></tr>
<tr class="memdesc:a2699019488f9153ed4ecd982c2a567f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the login packet that is waiting to be sent to the server. <br /></td></tr>
<tr class="separator:a2699019488f9153ed4ecd982c2a567f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af135f2cdd9af72b386218f4bd3273e1a"><td class="memItemLeft" align="right" valign="top"><a id="af135f2cdd9af72b386218f4bd3273e1a"></a>
QTcpSocket *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#af135f2cdd9af72b386218f4bd3273e1a">mClientSocket</a></td></tr>
<tr class="memdesc:af135f2cdd9af72b386218f4bd3273e1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection to the client. <br /></td></tr>
<tr class="separator:af135f2cdd9af72b386218f4bd3273e1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6901c30221c411eebea542ee1486dd8"><td class="memItemLeft" align="right" valign="top"><a id="ad6901c30221c411eebea542ee1486dd8"></a>
<a class="el" href="classChannelConnection.html#a04525464d61579f943b223558f354a74">ConnectionState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#ad6901c30221c411eebea542ee1486dd8">mClientState</a></td></tr>
<tr class="memdesc:ad6901c30221c411eebea542ee1486dd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection state for the connection to the client. <br /></td></tr>
<tr class="separator:ad6901c30221c411eebea542ee1486dd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea51a0bfb0e0d8ad5aec00323372789c"><td class="memItemLeft" align="right" valign="top"><a id="aea51a0bfb0e0d8ad5aec00323372789c"></a>
<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html">libcomp::Packet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#aea51a0bfb0e0d8ad5aec00323372789c">mKeyExchangePacket</a></td></tr>
<tr class="memdesc:aea51a0bfb0e0d8ad5aec00323372789c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generated packet to be sent to the client upon connection. <br /></td></tr>
<tr class="separator:aea51a0bfb0e0d8ad5aec00323372789c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7063fac128d26d4241c5eba6fbaef2f1"><td class="memItemLeft" align="right" valign="top">QList&lt; QByteArray &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a7063fac128d26d4241c5eba6fbaef2f1">mPacketBuffer</a></td></tr>
<tr class="memdesc:a7063fac128d26d4241c5eba6fbaef2f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of packets to be sent to the target server when the connection is encrypted.  <a href="#a7063fac128d26d4241c5eba6fbaef2f1">More...</a><br /></td></tr>
<tr class="separator:a7063fac128d26d4241c5eba6fbaef2f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7cdc78cf9314dd43f2de9b92f9e5ed4"><td class="memItemLeft" align="right" valign="top"><a id="ad7cdc78cf9314dd43f2de9b92f9e5ed4"></a>
<a class="el" href="classLoggerServer.html">LoggerServer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#ad7cdc78cf9314dd43f2de9b92f9e5ed4">mServer</a></td></tr>
<tr class="memdesc:ad7cdc78cf9314dd43f2de9b92f9e5ed4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logger server this connection belongs to. <br /></td></tr>
<tr class="separator:ad7cdc78cf9314dd43f2de9b92f9e5ed4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bb6dead98fbac9c29932f968d95f5ff"><td class="memItemLeft" align="right" valign="top"><a id="a9bb6dead98fbac9c29932f968d95f5ff"></a>
<a class="el" href="structCryptData.html">CryptData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a9bb6dead98fbac9c29932f968d95f5ff">mServerCryptData</a></td></tr>
<tr class="memdesc:a9bb6dead98fbac9c29932f968d95f5ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Crypto data for the connection to the target server. <br /></td></tr>
<tr class="separator:a9bb6dead98fbac9c29932f968d95f5ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28b15d6306b152464d53d874dd127a19"><td class="memItemLeft" align="right" valign="top"><a id="a28b15d6306b152464d53d874dd127a19"></a>
QTcpSocket *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a28b15d6306b152464d53d874dd127a19">mServerSocket</a></td></tr>
<tr class="memdesc:a28b15d6306b152464d53d874dd127a19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection to the target server. <br /></td></tr>
<tr class="separator:a28b15d6306b152464d53d874dd127a19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d1f9a9d79d9ab6c4a9035d486dd5b4c"><td class="memItemLeft" align="right" valign="top"><a id="a0d1f9a9d79d9ab6c4a9035d486dd5b4c"></a>
<a class="el" href="classChannelConnection.html#a04525464d61579f943b223558f354a74">ConnectionState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a0d1f9a9d79d9ab6c4a9035d486dd5b4c">mServerState</a></td></tr>
<tr class="memdesc:a0d1f9a9d79d9ab6c4a9035d486dd5b4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection state for the connection to the target server. <br /></td></tr>
<tr class="separator:a0d1f9a9d79d9ab6c4a9035d486dd5b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86260e344587db7f9edb38883f245b05"><td class="memItemLeft" align="right" valign="top"><a id="a86260e344587db7f9edb38883f245b05"></a>
qintptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#a86260e344587db7f9edb38883f245b05">mSocketDescriptor</a></td></tr>
<tr class="memdesc:a86260e344587db7f9edb38883f245b05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Socket descriptior of the client connection. <br /></td></tr>
<tr class="separator:a86260e344587db7f9edb38883f245b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae148c64ebdf33c326a8d11494708852a"><td class="memItemLeft" align="right" valign="top"><a id="ae148c64ebdf33c326a8d11494708852a"></a>
<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1String.html">libcomp::String</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChannelConnection.html#ae148c64ebdf33c326a8d11494708852a">mUsername</a></td></tr>
<tr class="memdesc:ae148c64ebdf33c326a8d11494708852a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Username used to log into the channel server. <br /></td></tr>
<tr class="separator:ae148c64ebdf33c326a8d11494708852a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Proxy connection between the logger and the channel server. </p>

<p class="definition">Definition at line <a class="el" href="ChannelConnection_8h_source.html#l00047">47</a> of file <a class="el" href="ChannelConnection_8h_source.html">ChannelConnection.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a04525464d61579f943b223558f354a74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04525464d61579f943b223558f354a74">&#9670;&nbsp;</a></span>ConnectionState</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classChannelConnection.html#a04525464d61579f943b223558f354a74">ChannelConnection::ConnectionState</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State of the channel connection. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a04525464d61579f943b223558f354a74a540465f8cfeaba069bf201a91cb88dc2"></a>NotConnected&#160;</td><td class="fielddoc"><p>Socket is not connected. </p>
</td></tr>
<tr><td class="fieldname"><a id="a04525464d61579f943b223558f354a74acbcce4dba0bfed153ce1c61088397be8"></a>Connected&#160;</td><td class="fielddoc"><p>Socket is connected awaiting data. </p>
</td></tr>
<tr><td class="fieldname"><a id="a04525464d61579f943b223558f354a74a34cf07d6eae1739fb3408453084f90d4"></a>ExchangeStarted&#160;</td><td class="fielddoc"><p>Encryption key exchange has started. </p>
</td></tr>
<tr><td class="fieldname"><a id="a04525464d61579f943b223558f354a74a9f460aba1b90c1a1521b34e6eb22d0fc"></a>Encrypted&#160;</td><td class="fielddoc"><p>Connection is encrypted and running normally. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="ChannelConnection_8h_source.html#l00163">163</a> of file <a class="el" href="ChannelConnection_8h_source.html">ChannelConnection.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a75d2ac65c5dfc7a275bd88893456a590"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75d2ac65c5dfc7a275bd88893456a590">&#9670;&nbsp;</a></span>ChannelConnection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ChannelConnection::ChannelConnection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLoggerServer.html">LoggerServer</a> *&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">qintptr&#160;</td>
          <td class="paramname"><em>socketDescriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>clientID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QObject *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new channel connection. </p>
<ul>
<li>server <a class="el" href="classLoggerServer.html">LoggerServer</a> this connection was made from. </li>
<li>socketDescriptor Netowrk socket for the connection. </li>
<li>clientID ID to identify this client in the log. </li>
<li>parent Parent object that this object belongs to. Should remain 0. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="ChannelConnection_8cpp_source.html#l00080">80</a> of file <a class="el" href="ChannelConnection_8cpp_source.html">ChannelConnection.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a68f160953168af7ad8672a0ba82d8bf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68f160953168af7ad8672a0ba82d8bf2">&#9670;&nbsp;</a></span>clientLost</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ChannelConnection::clientLost </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method is called when the client closes the connection. </p>
<p>The connection to the channel server will be closed and the connection object will be deleted. </p>

<p class="definition">Definition at line <a class="el" href="ChannelConnection_8cpp_source.html#l00181">181</a> of file <a class="el" href="ChannelConnection_8cpp_source.html">ChannelConnection.cpp</a>.</p>

<p class="reference">References <a class="el" href="ChannelConnection_8cpp_source.html#l01023">logMessage()</a>, <a class="el" href="ChannelConnection_8h_source.html#l00254">mCaptureLog</a>, <a class="el" href="ChannelConnection_8h_source.html#l00251">mClientID</a>, <a class="el" href="ChannelConnection_8h_source.html#l00217">mClientLoginPacket</a>, <a class="el" href="ChannelConnection_8h_source.html#l00236">mClientSocket</a>, <a class="el" href="ChannelConnection_8h_source.html#l00211">mClientState</a>, <a class="el" href="ChannelConnection_8h_source.html#l00239">mServerSocket</a>, and <a class="el" href="ChannelConnection_8h_source.html#l00166">NotConnected</a>.</p>

<p class="reference">Referenced by <a class="el" href="ChannelConnection_8cpp_source.html#l00095">run()</a>, and <a class="el" href="ChannelConnection_8cpp_source.html#l00521">serverLost()</a>.</p>

</div>
</div>
<a id="acdbf918b549e7a37aeee391364816ceb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdbf918b549e7a37aeee391364816ceb">&#9670;&nbsp;</a></span>clientReady</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ChannelConnection::clientReady </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method is called when new data has arrived from the client. </p>
<p>The data will be parsed and then sent to the channel server. </p>

<p class="definition">Definition at line <a class="el" href="ChannelConnection_8cpp_source.html#l00292">292</a> of file <a class="el" href="ChannelConnection_8cpp_source.html">ChannelConnection.cpp</a>.</p>

<p class="reference">References <a class="el" href="ChannelConnection_8h_source.html#l00168">Connected</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a7de5ef33a0f76553255f5ed934e08625">libcomp::Packet::Data()</a>, <a class="el" href="ChannelConnection_8cpp_source.html#l00265">decryptPacket()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a0916eed934eb35c12887c702a6ac228e">libcomp::Packet::Direct()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp_1_1Convert.html#acf55d81b176d67bdfa666b3248c16ac4a439ee39e30ecd2cb6dfec4020697eeb7">libcomp::Convert::ENCODING_UTF8</a>, <a class="el" href="ChannelConnection_8h_source.html#l00172">Encrypted</a>, <a class="el" href="ChannelConnection_8cpp_source.html#l00237">encryptPacket()</a>, <a class="el" href="ChannelConnection_8h_source.html#l00170">ExchangeStarted</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp_1_1Decrypt.html#aefb9cdba6e0fd6d393d6c8da72ac3d5b">libcomp::Decrypt::GenDiffieHellman()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a5c701a9829a66368fdb4daad00eab37d">libcomp::Packet::Left()</a>, <a class="el" href="ChannelConnection_8cpp_source.html#l01037">logPacket()</a>, <a class="el" href="ChannelConnection_8h_source.html#l00227">mClientCryptData</a>, <a class="el" href="ChannelConnection_8h_source.html#l00217">mClientLoginPacket</a>, <a class="el" href="ChannelConnection_8h_source.html#l00220">mClientLoginPacketSize</a>, <a class="el" href="ChannelConnection_8h_source.html#l00236">mClientSocket</a>, <a class="el" href="ChannelConnection_8h_source.html#l00211">mClientState</a>, <a class="el" href="ChannelConnection_8h_source.html#l00233">mKeyExchangePacket</a>, <a class="el" href="ChannelConnection_8h_source.html#l00224">mPacketBuffer</a>, <a class="el" href="ChannelConnection_8h_source.html#l00208">mServer</a>, <a class="el" href="ChannelConnection_8h_source.html#l00230">mServerCryptData</a>, <a class="el" href="ChannelConnection_8h_source.html#l00239">mServerSocket</a>, <a class="el" href="ChannelConnection_8h_source.html#l00214">mServerState</a>, <a class="el" href="ChannelConnection_8h_source.html#l00242">mUsername</a>, <a class="el" href="ChannelConnection_8h_source.html#l00166">NotConnected</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a1722ad0ba3efcaf587794e2b08460300">libcomp::Packet::PeekU16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#af2fedfbc3dbd16dcc49fee7e22907b0c">libcomp::Packet::ReadArray()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#afea191b7edfa277902361d699296fba0">libcomp::Packet::ReadString16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#aff8ee23fc537ebb9a1d83c485b373ca1">libcomp::Packet::ReadString32Big()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a41b84f624a22198b54d2c92549baf9a8">libcomp::Packet::ReadU32Big()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a77df6bdb1e70e8fc7c4f4ab6975018ee">libcomp::Packet::ReadU32Little()</a>, <a class="el" href="LoggerServer_8cpp_source.html#l00162">LoggerServer::retrieveChannelKey()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a1149b160e249f2bd537540cf219570ed">libcomp::Packet::Rewind()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a392884f8baef58e545c9559e75733e69">libcomp::Packet::Seek()</a>, <a class="el" href="ChannelConnection_8cpp_source.html#l00514">sendClientHello()</a>, <a class="el" href="ChannelConnection_8cpp_source.html#l00521">serverLost()</a>, <a class="el" href="ChannelConnection_8cpp_source.html#l00527">serverReady()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a1c5c3d40418311ac8f8ff275364aca35">libcomp::Packet::Size()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ChannelConnection_8cpp_source.html#l00095">run()</a>.</p>

</div>
</div>
<a id="a43e9e32473228783ebdfc00566e0c2f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43e9e32473228783ebdfc00566e0c2f4">&#9670;&nbsp;</a></span>decryptPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ChannelConnection::decryptPacket </td>
          <td>(</td>
          <td class="paramtype">const BF_KEY *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html">libcomp::Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decrypt a packet. </p>
<ul>
<li>key Blowfish key to decrypt with. </li>
<li>p Packet to be decrypted. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="ChannelConnection_8cpp_source.html#l00265">265</a> of file <a class="el" href="ChannelConnection_8cpp_source.html">ChannelConnection.cpp</a>.</p>

<p class="reference">References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#af2fedfbc3dbd16dcc49fee7e22907b0c">libcomp::Packet::ReadArray()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a1149b160e249f2bd537540cf219570ed">libcomp::Packet::Rewind()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a392884f8baef58e545c9559e75733e69">libcomp::Packet::Seek()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a1c5c3d40418311ac8f8ff275364aca35">libcomp::Packet::Size()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab48ed3b0bd202fbfe9886097e2c800bc">libcomp::Packet::WriteArray()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ChannelConnection_8cpp_source.html#l00292">clientReady()</a>, and <a class="el" href="ChannelConnection_8cpp_source.html#l00527">serverReady()</a>.</p>

</div>
</div>
<a id="aa46c1d9e70241b3a9720e790eaeee23c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa46c1d9e70241b3a9720e790eaeee23c">&#9670;&nbsp;</a></span>encryptPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ChannelConnection::encryptPacket </td>
          <td>(</td>
          <td class="paramtype">const BF_KEY *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html">libcomp::Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encrypt a packet. </p>
<ul>
<li>key Blowfish key to encrypt with. </li>
<li>p Packet to be encrypted. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="ChannelConnection_8cpp_source.html#l00237">237</a> of file <a class="el" href="ChannelConnection_8cpp_source.html">ChannelConnection.cpp</a>.</p>

<p class="reference">References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#af2fedfbc3dbd16dcc49fee7e22907b0c">libcomp::Packet::ReadArray()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a1149b160e249f2bd537540cf219570ed">libcomp::Packet::Rewind()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a392884f8baef58e545c9559e75733e69">libcomp::Packet::Seek()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a1c5c3d40418311ac8f8ff275364aca35">libcomp::Packet::Size()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab48ed3b0bd202fbfe9886097e2c800bc">libcomp::Packet::WriteArray()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ChannelConnection_8cpp_source.html#l00292">clientReady()</a>, <a class="el" href="ChannelConnection_8cpp_source.html#l00927">exchangeKeys()</a>, and <a class="el" href="ChannelConnection_8cpp_source.html#l00527">serverReady()</a>.</p>

</div>
</div>
<a id="a4dc8f0f5b42610dec1413014ba07a0c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dc8f0f5b42610dec1413014ba07a0c8">&#9670;&nbsp;</a></span>logMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ChannelConnection::logMessage </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Log a message to the console and GUI. </p>
<ul>
<li>msg Message to log. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="ChannelConnection_8cpp_source.html#l01023">1023</a> of file <a class="el" href="ChannelConnection_8cpp_source.html">ChannelConnection.cpp</a>.</p>

<p class="reference">References <a class="el" href="LoggerServer_8cpp_source.html#l00342">LoggerServer::addLogMessage()</a>, <a class="el" href="ChannelConnection_8h_source.html#l00208">mServer</a>, and <a class="el" href="ChannelConnection_8cpp_source.html#l00175">timestamp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ChannelConnection_8cpp_source.html#l00181">clientLost()</a>, <a class="el" href="ChannelConnection_8cpp_source.html#l00714">rewriteServerSwitchPacket()</a>, and <a class="el" href="ChannelConnection_8cpp_source.html#l00095">run()</a>.</p>

</div>
</div>
<a id="af5e265f05105969b90ed183324fc5981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5e265f05105969b90ed183324fc5981">&#9670;&nbsp;</a></span>logPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ChannelConnection::logPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html">libcomp::Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Log a packet to the capture file and send it to the live capgrep. </p>
<ul>
<li>p Packet to log. </li>
<li>source Source of the packet. 0 if the packet came from the client, 1 if the packet came from the server. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="ChannelConnection_8cpp_source.html#l01037">1037</a> of file <a class="el" href="ChannelConnection_8cpp_source.html">ChannelConnection.cpp</a>.</p>

<p class="reference">References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a41b84f624a22198b54d2c92549baf9a8">libcomp::Packet::ReadU32Big()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a1149b160e249f2bd537540cf219570ed">libcomp::Packet::Rewind()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a1c5c3d40418311ac8f8ff275364aca35">libcomp::Packet::Size()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ChannelConnection_8cpp_source.html#l00292">clientReady()</a>, and <a class="el" href="ChannelConnection_8cpp_source.html#l00527">serverReady()</a>.</p>

</div>
</div>
<a id="a1e6f910eb79e936d7d6076f85e30db10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e6f910eb79e936d7d6076f85e30db10">&#9670;&nbsp;</a></span>packetHasServerSwitch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> ChannelConnection::packetHasServerSwitch </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html">libcomp::Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine if the packet has a server switch command. </p>
<ul>
<li>p Packet to examine. <dl class="section return"><dt>Returns</dt><dd>true if the packet contains a server switch command, false otherwise. </dd></dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="ChannelConnection_8cpp_source.html#l00614">614</a> of file <a class="el" href="ChannelConnection_8cpp_source.html">ChannelConnection.cpp</a>.</p>

<p class="reference">References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a7de5ef33a0f76553255f5ed934e08625">libcomp::Packet::Data()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a73a86b9fba0704a00ac248b2f46660b4">libcomp::Packet::Decompress()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a5c701a9829a66368fdb4daad00eab37d">libcomp::Packet::Left()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a07d26e7750f1cf1044be11dd19f77f52">libcomp::Packet::ReadS32Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#aff045cd1e5bd210b1b4b0b5aa87d5e44">libcomp::Packet::ReadU16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a41b84f624a22198b54d2c92549baf9a8">libcomp::Packet::ReadU32Big()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a1149b160e249f2bd537540cf219570ed">libcomp::Packet::Rewind()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a392884f8baef58e545c9559e75733e69">libcomp::Packet::Seek()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a1c5c3d40418311ac8f8ff275364aca35">libcomp::Packet::Size()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a0889d24e27f40dbb478c6b3ac5553091">libcomp::Packet::Skip()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a60fb2a55fe259f20a873003a53fdaa38">libcomp::Packet::Tell()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ChannelConnection_8cpp_source.html#l00527">serverReady()</a>.</p>

</div>
</div>
<a id="a43d15e55a36f1fed011673096bf810bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43d15e55a36f1fed011673096bf810bd">&#9670;&nbsp;</a></span>rewriteServerSwitchPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ChannelConnection::rewriteServerSwitchPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html">libcomp::Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Re-write the server switch command contained in the packet. </p>
<ul>
<li>p Packet to rewrite. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="ChannelConnection_8cpp_source.html#l00714">714</a> of file <a class="el" href="ChannelConnection_8cpp_source.html">ChannelConnection.cpp</a>.</p>

<p class="reference">References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1String.html#a08630692463337b0a64c8fbab2c0ae7f">libcomp::String::C()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a18fe5254e32ac247d9a254f0c713d6b6">libcomp::Packet::Clear()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a8e9c77c30d05345ec3af948d7f29bcb8">libcomp::Packet::Compress()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a7de5ef33a0f76553255f5ed934e08625">libcomp::Packet::Data()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a73a86b9fba0704a00ac248b2f46660b4">libcomp::Packet::Decompress()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp_1_1Convert.html#acf55d81b176d67bdfa666b3248c16ac4a439ee39e30ecd2cb6dfec4020697eeb7">libcomp::Convert::ENCODING_UTF8</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#af8821a03ec77ef8482dc1397ce4e7b04">libcomp::Packet::End()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a5c701a9829a66368fdb4daad00eab37d">libcomp::Packet::Left()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1String.html#ad8553f4bdd42999cfd861e391859b3d6">libcomp::String::Length()</a>, <a class="el" href="ChannelConnection_8cpp_source.html#l01023">logMessage()</a>, <a class="el" href="ChannelConnection_8h_source.html#l00236">mClientSocket</a>, <a class="el" href="ChannelConnection_8h_source.html#l00208">mServer</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a07d26e7750f1cf1044be11dd19f77f52">libcomp::Packet::ReadS32Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#aff045cd1e5bd210b1b4b0b5aa87d5e44">libcomp::Packet::ReadU16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a41b84f624a22198b54d2c92549baf9a8">libcomp::Packet::ReadU32Big()</a>, <a class="el" href="LoggerServer_8cpp_source.html#l00172">LoggerServer::registerChannelKey()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a1149b160e249f2bd537540cf219570ed">libcomp::Packet::Rewind()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a392884f8baef58e545c9559e75733e69">libcomp::Packet::Seek()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a1c5c3d40418311ac8f8ff275364aca35">libcomp::Packet::Size()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a0889d24e27f40dbb478c6b3ac5553091">libcomp::Packet::Skip()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a60fb2a55fe259f20a873003a53fdaa38">libcomp::Packet::Tell()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab48ed3b0bd202fbfe9886097e2c800bc">libcomp::Packet::WriteArray()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a7b1c4b4277c89aa3fb079a74dbdfca63">libcomp::Packet::WriteBlank()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab7f2381548009b30746d4d8717bdcd7f">libcomp::Packet::WriteString16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a86578628a7f326ff6b691042313f8af6">libcomp::Packet::WriteU16Big()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a170e6cd6bb4f2a3f28d2a892beb633d8">libcomp::Packet::WriteU16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a84c15301fecbc20bfc04a7ad1ff92014">libcomp::Packet::WriteU32Big()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ad995a520b3f035ccb13860b4801666f6">libcomp::Packet::WriteU32Little()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ChannelConnection_8cpp_source.html#l00527">serverReady()</a>.</p>

</div>
</div>
<a id="a635dc7ac58bb5da24d91773924a62706"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a635dc7ac58bb5da24d91773924a62706">&#9670;&nbsp;</a></span>sendClientHello</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ChannelConnection::sendClientHello </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method is called when the connection to the channel server is opened. </p>
<p>The client hello packet will be sent to the channel server. </p>

<p class="definition">Definition at line <a class="el" href="ChannelConnection_8cpp_source.html#l00514">514</a> of file <a class="el" href="ChannelConnection_8cpp_source.html">ChannelConnection.cpp</a>.</p>

<p class="reference">References <a class="el" href="ChannelConnection_8h_source.html#l00239">mServerSocket</a>.</p>

<p class="reference">Referenced by <a class="el" href="ChannelConnection_8cpp_source.html#l00292">clientReady()</a>.</p>

</div>
</div>
<a id="a98861deaadd3eb2af8389cbd2c82e0fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98861deaadd3eb2af8389cbd2c82e0fc">&#9670;&nbsp;</a></span>serverLost</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ChannelConnection::serverLost </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method is called when the channel server closes the connection. </p>
<p>The connection to the client will be closed and the connection object will be deleted. </p>

<p class="definition">Definition at line <a class="el" href="ChannelConnection_8cpp_source.html#l00521">521</a> of file <a class="el" href="ChannelConnection_8cpp_source.html">ChannelConnection.cpp</a>.</p>

<p class="reference">References <a class="el" href="ChannelConnection_8cpp_source.html#l00181">clientLost()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ChannelConnection_8cpp_source.html#l00292">clientReady()</a>, and <a class="el" href="ChannelConnection_8cpp_source.html#l00927">exchangeKeys()</a>.</p>

</div>
</div>
<a id="a0b5ef54b846599200689b369b34ea3af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b5ef54b846599200689b369b34ea3af">&#9670;&nbsp;</a></span>serverReady</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ChannelConnection::serverReady </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method is called when new data has arrived from the channel server. </p>
<p>The data will be parsed and then sent to the client. </p>

<p class="definition">Definition at line <a class="el" href="ChannelConnection_8cpp_source.html#l00527">527</a> of file <a class="el" href="ChannelConnection_8cpp_source.html">ChannelConnection.cpp</a>.</p>

<p class="reference">References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a7de5ef33a0f76553255f5ed934e08625">libcomp::Packet::Data()</a>, <a class="el" href="ChannelConnection_8cpp_source.html#l00265">decryptPacket()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a0916eed934eb35c12887c702a6ac228e">libcomp::Packet::Direct()</a>, <a class="el" href="ChannelConnection_8h_source.html#l00172">Encrypted</a>, <a class="el" href="ChannelConnection_8cpp_source.html#l00237">encryptPacket()</a>, <a class="el" href="ChannelConnection_8cpp_source.html#l00927">exchangeKeys()</a>, <a class="el" href="ChannelConnection_8cpp_source.html#l01037">logPacket()</a>, <a class="el" href="ChannelConnection_8h_source.html#l00227">mClientCryptData</a>, <a class="el" href="ChannelConnection_8h_source.html#l00236">mClientSocket</a>, <a class="el" href="ChannelConnection_8h_source.html#l00230">mServerCryptData</a>, <a class="el" href="ChannelConnection_8h_source.html#l00239">mServerSocket</a>, <a class="el" href="ChannelConnection_8h_source.html#l00214">mServerState</a>, <a class="el" href="ChannelConnection_8cpp_source.html#l00614">packetHasServerSwitch()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a41b84f624a22198b54d2c92549baf9a8">libcomp::Packet::ReadU32Big()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a1149b160e249f2bd537540cf219570ed">libcomp::Packet::Rewind()</a>, <a class="el" href="ChannelConnection_8cpp_source.html#l00714">rewriteServerSwitchPacket()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a1c5c3d40418311ac8f8ff275364aca35">libcomp::Packet::Size()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab48ed3b0bd202fbfe9886097e2c800bc">libcomp::Packet::WriteArray()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ChannelConnection_8cpp_source.html#l00292">clientReady()</a>.</p>

</div>
</div>
<a id="af784c2349338a2ad67ff118ff0652c64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af784c2349338a2ad67ff118ff0652c64">&#9670;&nbsp;</a></span>timestamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString ChannelConnection::timestamp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate a timestamp to be used in the log. </p>
<dl class="section return"><dt>Returns</dt><dd>The timestamp string. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ChannelConnection_8cpp_source.html#l00175">175</a> of file <a class="el" href="ChannelConnection_8cpp_source.html">ChannelConnection.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ChannelConnection_8cpp_source.html#l01023">logMessage()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a7063fac128d26d4241c5eba6fbaef2f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7063fac128d26d4241c5eba6fbaef2f1">&#9670;&nbsp;</a></span>mPacketBuffer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt;QByteArray&gt; ChannelConnection::mPacketBuffer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of packets to be sent to the target server when the connection is encrypted. </p>

<p class="definition">Definition at line <a class="el" href="ChannelConnection_8h_source.html#l00224">224</a> of file <a class="el" href="ChannelConnection_8h_source.html">ChannelConnection.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ChannelConnection_8cpp_source.html#l00292">clientReady()</a>, and <a class="el" href="ChannelConnection_8cpp_source.html#l00927">exchangeKeys()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="ChannelConnection_8h_source.html">ChannelConnection.h</a></li>
<li><a class="el" href="ChannelConnection_8cpp_source.html">ChannelConnection.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
