<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>COMP_hack: libcomp::BaseServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="reflogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">COMP_hack
   </div>
   <div id="projectbrief">Shin Megami Tensei Online: IMAGINE Server Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacelibcomp.html">libcomp</a></li><li class="navelem"><a class="el" href="classlibcomp_1_1BaseServer.html">BaseServer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="classlibcomp_1_1BaseServer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">libcomp::BaseServer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Base class for all servers that run workers to handle incoming messages in the message queue.  
 <a href="classlibcomp_1_1BaseServer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="BaseServer_8h_source.html">BaseServer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for libcomp::BaseServer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classlibcomp_1_1BaseServer.png" usemap="#libcomp::BaseServer_map" alt=""/>
  <map id="libcomp::BaseServer_map" name="libcomp::BaseServer_map">
<area href="classlibcomp_1_1TcpServer.html" title="Listen for new TCP/IP connections. " alt="libcomp::TcpServer" shape="rect" coords="0,0,267,24"/>
<area href="classlibcomp_1_1Manager.html" title="Abstract base class used to represent a Message handler. " alt="libcomp::Manager" shape="rect" coords="277,0,544,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ab00d1dd4d6e965d76c482ef854459d03"><td class="memItemLeft" align="right" valign="top">typedef std::unordered_map&lt; std::string, std::list&lt; std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">libcomp::PersistentObject</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#ab00d1dd4d6e965d76c482ef854459d03">PersistentObjectMap</a></td></tr>
<tr class="memdesc:ab00d1dd4d6e965d76c482ef854459d03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map of <a class="el" href="classlibcomp_1_1PersistentObject.html" title="Base class of a all dynamically generated objects that persist in the database. ">PersistentObject</a> pointers by object type name.  <a href="#ab00d1dd4d6e965d76c482ef854459d03">More...</a><br /></td></tr>
<tr class="separator:ab00d1dd4d6e965d76c482ef854459d03"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a66f84ef85d0c9f6c1c7826f37bdb498f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#a66f84ef85d0c9f6c1c7826f37bdb498f">BaseServer</a> (const char *szProgram, std::shared_ptr&lt; objects::ServerConfig &gt; config, std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1ServerCommandLineParser.html">ServerCommandLineParser</a> &gt; commandLine)</td></tr>
<tr class="memdesc:a66f84ef85d0c9f6c1c7826f37bdb498f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new base server.  <a href="#a66f84ef85d0c9f6c1c7826f37bdb498f">More...</a><br /></td></tr>
<tr class="separator:a66f84ef85d0c9f6c1c7826f37bdb498f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af26a04f6b9e4a614157bf92b69765979"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#af26a04f6b9e4a614157bf92b69765979">~BaseServer</a> ()</td></tr>
<tr class="memdesc:af26a04f6b9e4a614157bf92b69765979"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean up the server workers and send out the the server shutdown message.  <a href="#af26a04f6b9e4a614157bf92b69765979">More...</a><br /></td></tr>
<tr class="separator:af26a04f6b9e4a614157bf92b69765979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a558ac503ff5aef83d5b08cc0b7449722"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#a558ac503ff5aef83d5b08cc0b7449722">Cleanup</a> ()</td></tr>
<tr class="memdesc:a558ac503ff5aef83d5b08cc0b7449722"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is called before <a class="el" href="classlibcomp_1_1BaseServer.html#ab8242184f16ac6379b0deb827ca7920f" title="Runs the server until a shutdown message is received or the program is forcefully closed...">Run()</a> ends giving a derived class the chance to do additional cleanup.  <a href="#a558ac503ff5aef83d5b08cc0b7449722">More...</a><br /></td></tr>
<tr class="separator:a558ac503ff5aef83d5b08cc0b7449722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0196923ac5f81b1f56e6d9502d2cfc00"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#a0196923ac5f81b1f56e6d9502d2cfc00">FinishInitialize</a> ()</td></tr>
<tr class="memdesc:a0196923ac5f81b1f56e6d9502d2cfc00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do any initialize that should happen after the server is listening and fully started.  <a href="#a0196923ac5f81b1f56e6d9502d2cfc00">More...</a><br /></td></tr>
<tr class="separator:a0196923ac5f81b1f56e6d9502d2cfc00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f136d3503bef43fc0001c8a9eb8d682"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; objects::ServerConfig &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#a3f136d3503bef43fc0001c8a9eb8d682">GetConfig</a> () const </td></tr>
<tr class="memdesc:a3f136d3503bef43fc0001c8a9eb8d682"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the server config file read during the constructor steps.  <a href="#a3f136d3503bef43fc0001c8a9eb8d682">More...</a><br /></td></tr>
<tr class="separator:a3f136d3503bef43fc0001c8a9eb8d682"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7ad9103ec078bca8aba6ec87d82af35"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1Database.html">Database</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#ad7ad9103ec078bca8aba6ec87d82af35">GetDatabase</a> (const <a class="el" href="namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">EnumMap</a>&lt; objects::ServerConfig::DatabaseType_t, std::shared_ptr&lt; objects::DatabaseConfig &gt;&gt; &amp;configMap, <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> performSetup)</td></tr>
<tr class="memdesc:ad7ad9103ec078bca8aba6ec87d82af35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an open database connection of the database type associated to the server.  <a href="#ad7ad9103ec078bca8aba6ec87d82af35">More...</a><br /></td></tr>
<tr class="separator:ad7ad9103ec078bca8aba6ec87d82af35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8d279d27d0b9b9f03ba396bac53e144"><td class="memItemLeft" align="right" valign="top">gsl::not_null&lt; <a class="el" href="classlibcomp_1_1DataStore.html">DataStore</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#ae8d279d27d0b9b9f03ba396bac53e144">GetDataStore</a> ()</td></tr>
<tr class="memdesc:ae8d279d27d0b9b9f03ba396bac53e144"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the data store for the server.  <a href="#ae8d279d27d0b9b9f03ba396bac53e144">More...</a><br /></td></tr>
<tr class="separator:ae8d279d27d0b9b9f03ba396bac53e144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d82da53eed26d1a3de1240e66789601"><td class="memItemLeft" align="right" valign="top">virtual std::list&lt; <a class="el" href="namespacelibcomp_1_1Message.html#a45d3b2b97b15c0844026394f22aaace7">libcomp::Message::MessageType</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#a2d82da53eed26d1a3de1240e66789601">GetSupportedTypes</a> () const </td></tr>
<tr class="memdesc:a2d82da53eed26d1a3de1240e66789601"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the different types of messages handled by this manager.  <a href="#a2d82da53eed26d1a3de1240e66789601">More...</a><br /></td></tr>
<tr class="separator:a2d82da53eed26d1a3de1240e66789601"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03a0f7c920ee9a45f64bd4e77d8b17b4"><td class="memItemLeft" align="right" valign="top">gsl::not_null&lt; <a class="el" href="classlibcomp_1_1TimerManager.html">TimerManager</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#a03a0f7c920ee9a45f64bd4e77d8b17b4">GetTimerManager</a> ()</td></tr>
<tr class="memdesc:a03a0f7c920ee9a45f64bd4e77d8b17b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the timer manager for the server.  <a href="#a03a0f7c920ee9a45f64bd4e77d8b17b4">More...</a><br /></td></tr>
<tr class="separator:a03a0f7c920ee9a45f64bd4e77d8b17b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada464b9076e97ea48fd7c747d5de41c8"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#ada464b9076e97ea48fd7c747d5de41c8">Initialize</a> ()</td></tr>
<tr class="memdesc:ada464b9076e97ea48fd7c747d5de41c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the database connection and do anything else that can fail to execute that needs to be handled outside of a constructor.  <a href="#ada464b9076e97ea48fd7c747d5de41c8">More...</a><br /></td></tr>
<tr class="separator:ada464b9076e97ea48fd7c747d5de41c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad20402790af9e5c1b221bb784f3c9339"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#ad20402790af9e5c1b221bb784f3c9339">ProcessMessage</a> (const <a class="el" href="classlibcomp_1_1Message_1_1Message.html">libcomp::Message::Message</a> *pMessage)</td></tr>
<tr class="memdesc:ad20402790af9e5c1b221bb784f3c9339"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a message from the queue.  <a href="#ad20402790af9e5c1b221bb784f3c9339">More...</a><br /></td></tr>
<tr class="separator:ad20402790af9e5c1b221bb784f3c9339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedfc887738ff281ce6b5ae20c64318bc"><td class="memTemplParams" colspan="2">template&lt;typename Function , typename... Args&gt; </td></tr>
<tr class="memitem:aedfc887738ff281ce6b5ae20c64318bc"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#aedfc887738ff281ce6b5ae20c64318bc">QueueWork</a> (Function &amp;&amp;f, Args &amp;&amp;...args) const </td></tr>
<tr class="memdesc:aedfc887738ff281ce6b5ae20c64318bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue up code to be executed in the main worker thread.  <a href="#aedfc887738ff281ce6b5ae20c64318bc">More...</a><br /></td></tr>
<tr class="separator:aedfc887738ff281ce6b5ae20c64318bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72bc46aa57e7b0fa194be6bb3cfe9ef4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1TcpServer.html#a72bc46aa57e7b0fa194be6bb3cfe9ef4">RemoveConnection</a> (std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1TcpConnection.html">TcpConnection</a> &gt; &amp;connection)</td></tr>
<tr class="memdesc:a72bc46aa57e7b0fa194be6bb3cfe9ef4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a connection from the list of client connections.  <a href="#a72bc46aa57e7b0fa194be6bb3cfe9ef4">More...</a><br /></td></tr>
<tr class="separator:a72bc46aa57e7b0fa194be6bb3cfe9ef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad74f7a784b5eb617e096dcf8ff8e76e4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#ad74f7a784b5eb617e096dcf8ff8e76e4">Shutdown</a> ()</td></tr>
<tr class="memdesc:ad74f7a784b5eb617e096dcf8ff8e76e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call the <a class="el" href="namespacelibcomp_1_1Shutdown.html">Shutdown</a> function on each worker.  <a href="#ad74f7a784b5eb617e096dcf8ff8e76e4">More...</a><br /></td></tr>
<tr class="separator:ad74f7a784b5eb617e096dcf8ff8e76e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad41e8f0ede0549eef18b2ecb769aca22"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1TcpServer.html#ad41e8f0ede0549eef18b2ecb769aca22">Start</a> ()</td></tr>
<tr class="memdesc:ad41e8f0ede0549eef18b2ecb769aca22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a thread that listens for incoming network connections.  <a href="#ad41e8f0ede0549eef18b2ecb769aca22">More...</a><br /></td></tr>
<tr class="separator:ad41e8f0ede0549eef18b2ecb769aca22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad2e679a1c5363ebee90d4d0a89802489"><td class="memItemLeft" align="right" valign="top">static DH *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1TcpServer.html#ad2e679a1c5363ebee90d4d0a89802489">CopyDiffieHellman</a> (const DH *pDiffieHellman)</td></tr>
<tr class="memdesc:ad2e679a1c5363ebee90d4d0a89802489"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a Diffie-Hellman key pair.  <a href="#ad2e679a1c5363ebee90d4d0a89802489">More...</a><br /></td></tr>
<tr class="separator:ad2e679a1c5363ebee90d4d0a89802489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf76af06441fe69de36b9ead4ed5420d"><td class="memItemLeft" align="right" valign="top">static DH *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1TcpServer.html#abf76af06441fe69de36b9ead4ed5420d">GenerateDiffieHellman</a> ()</td></tr>
<tr class="memdesc:abf76af06441fe69de36b9ead4ed5420d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a Diffie-Hellman key pair.  <a href="#abf76af06441fe69de36b9ead4ed5420d">More...</a><br /></td></tr>
<tr class="separator:abf76af06441fe69de36b9ead4ed5420d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0644cb1881fdf1da8a3c5ecb7e8787e0"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#a0644cb1881fdf1da8a3c5ecb7e8787e0">GetConfigPath</a> ()</td></tr>
<tr class="memdesc:a0644cb1881fdf1da8a3c5ecb7e8787e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current config directory path to use.  <a href="#a0644cb1881fdf1da8a3c5ecb7e8787e0">More...</a><br /></td></tr>
<tr class="separator:a0644cb1881fdf1da8a3c5ecb7e8787e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb5525c3a3345fbec81add914178e9ec"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1Database.html">Database</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#abb5525c3a3345fbec81add914178e9ec">GetDatabase</a> (objects::ServerConfig::DatabaseType_t dbType, const <a class="el" href="namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">EnumMap</a>&lt; objects::ServerConfig::DatabaseType_t, std::shared_ptr&lt; objects::DatabaseConfig &gt;&gt; &amp;configMap)</td></tr>
<tr class="memdesc:abb5525c3a3345fbec81add914178e9ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an open database connection of the database type associated to the server.  <a href="#abb5525c3a3345fbec81add914178e9ec">More...</a><br /></td></tr>
<tr class="separator:abb5525c3a3345fbec81add914178e9ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d8fcad71d3ff477fb1ba16457292639"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#a0d8fcad71d3ff477fb1ba16457292639">GetDefaultConfigPath</a> ()</td></tr>
<tr class="memdesc:a0d8fcad71d3ff477fb1ba16457292639"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the OS specific default path to look for config files.  <a href="#a0d8fcad71d3ff477fb1ba16457292639">More...</a><br /></td></tr>
<tr class="separator:a0d8fcad71d3ff477fb1ba16457292639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a762340794ef442a6477f370c7cb00c70"><td class="memItemLeft" align="right" valign="top">static DH *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1TcpServer.html#a762340794ef442a6477f370c7cb00c70">LoadDiffieHellman</a> (const <a class="el" href="classlibcomp_1_1String.html">String</a> &amp;prime)</td></tr>
<tr class="memdesc:a762340794ef442a6477f370c7cb00c70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a Diffie-Helman key pair given the hex encoded prime.  <a href="#a762340794ef442a6477f370c7cb00c70">More...</a><br /></td></tr>
<tr class="separator:a762340794ef442a6477f370c7cb00c70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66426e49934f99b1d87e100a4dfa2697"><td class="memItemLeft" align="right" valign="top">static DH *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1TcpServer.html#a66426e49934f99b1d87e100a4dfa2697">LoadDiffieHellman</a> (const std::vector&lt; char &gt; &amp;data)</td></tr>
<tr class="memdesc:a66426e49934f99b1d87e100a4dfa2697"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a Diffie-Helman key pair given the binary encoded prime.  <a href="#a66426e49934f99b1d87e100a4dfa2697">More...</a><br /></td></tr>
<tr class="separator:a66426e49934f99b1d87e100a4dfa2697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad28f9e6c36e81c78ab1ffdd77d719b8a"><td class="memItemLeft" align="right" valign="top">static DH *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1TcpServer.html#ad28f9e6c36e81c78ab1ffdd77d719b8a">LoadDiffieHellman</a> (const void *pData, size_t dataSize)</td></tr>
<tr class="memdesc:ad28f9e6c36e81c78ab1ffdd77d719b8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a Diffie-Helman key pair given the binary encoded prime.  <a href="#ad28f9e6c36e81c78ab1ffdd77d719b8a">More...</a><br /></td></tr>
<tr class="separator:ad28f9e6c36e81c78ab1ffdd77d719b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55ba372dd22d9c29a74ed61a024684e1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#a55ba372dd22d9c29a74ed61a024684e1">ReadConfig</a> (std::shared_ptr&lt; objects::ServerConfig &gt; config, <a class="el" href="classlibcomp_1_1String.html">libcomp::String</a> filePath)</td></tr>
<tr class="memdesc:a55ba372dd22d9c29a74ed61a024684e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the config file from the path and parse into an XML document to be read in the virtual ReadConfig function.  <a href="#a55ba372dd22d9c29a74ed61a024684e1">More...</a><br /></td></tr>
<tr class="separator:a55ba372dd22d9c29a74ed61a024684e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ff99d04baf9d19b5b33098196977c2d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#a7ff99d04baf9d19b5b33098196977c2d">ReadConfig</a> (std::shared_ptr&lt; objects::ServerConfig &gt; config, tinyxml2::XMLDocument &amp;doc)</td></tr>
<tr class="memdesc:a7ff99d04baf9d19b5b33098196977c2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the config file values from an XML document and populates the config passed in.  <a href="#a7ff99d04baf9d19b5b33098196977c2d">More...</a><br /></td></tr>
<tr class="separator:a7ff99d04baf9d19b5b33098196977c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03b5b8da2d9792b1b29ad02e094ee118"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; char &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1TcpServer.html#a03b5b8da2d9792b1b29ad02e094ee118">SaveDiffieHellman</a> (const DH *pDiffieHellman)</td></tr>
<tr class="memdesc:a03b5b8da2d9792b1b29ad02e094ee118"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save a Diffie-Hellman key pair (the prime) to a binary buffer.  <a href="#a03b5b8da2d9792b1b29ad02e094ee118">More...</a><br /></td></tr>
<tr class="separator:a03b5b8da2d9792b1b29ad02e094ee118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a369f8983cada7f2daf5cfb0b664c6128"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#a369f8983cada7f2daf5cfb0b664c6128">SetConfigPath</a> (const std::string &amp;path)</td></tr>
<tr class="memdesc:a369f8983cada7f2daf5cfb0b664c6128"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a custom config directory path.  <a href="#a369f8983cada7f2daf5cfb0b664c6128">More...</a><br /></td></tr>
<tr class="separator:a369f8983cada7f2daf5cfb0b664c6128"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a463bff4fbe9cf9b703bf1b8919c7ea80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1TcpServer.html#a463bff4fbe9cf9b703bf1b8919c7ea80">AcceptHandler</a> (asio::error_code errorCode, asio::ip::tcp::socket &amp;socket)</td></tr>
<tr class="memdesc:a463bff4fbe9cf9b703bf1b8919c7ea80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called to handle a new connection to the server.  <a href="#a463bff4fbe9cf9b703bf1b8919c7ea80">More...</a><br /></td></tr>
<tr class="separator:a463bff4fbe9cf9b703bf1b8919c7ea80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9978ae51f0f7986e284b7f559c7875b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#ab9978ae51f0f7986e284b7f559c7875b">AssignMessageQueue</a> (const std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1EncryptedConnection.html">libcomp::EncryptedConnection</a> &gt; &amp;connection)</td></tr>
<tr class="memdesc:ab9978ae51f0f7986e284b7f559c7875b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve and assign a message queue to use for a new connection.  <a href="#ab9978ae51f0f7986e284b7f559c7875b">More...</a><br /></td></tr>
<tr class="separator:ab9978ae51f0f7986e284b7f559c7875b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9e38654d84b3c3902d208f1cf6db2f1"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1TcpConnection.html">TcpConnection</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1TcpServer.html#ad9e38654d84b3c3902d208f1cf6db2f1">CreateConnection</a> (asio::ip::tcp::socket &amp;socket)</td></tr>
<tr class="memdesc:ad9e38654d84b3c3902d208f1cf6db2f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a connection to a newly active socket.  <a href="#ad9e38654d84b3c3902d208f1cf6db2f1">More...</a><br /></td></tr>
<tr class="separator:ad9e38654d84b3c3902d208f1cf6db2f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7d6736d53c4c6c49a1bc856d0cddeb2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#ae7d6736d53c4c6c49a1bc856d0cddeb2">CreateWorkers</a> ()</td></tr>
<tr class="memdesc:ae7d6736d53c4c6c49a1bc856d0cddeb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create one or many workers to handle connection requests based upon the server config allowing mutliple workers as well as how many cores are available on the executing machine's CPU.  <a href="#ae7d6736d53c4c6c49a1bc856d0cddeb2">More...</a><br /></td></tr>
<tr class="separator:ae7d6736d53c4c6c49a1bc856d0cddeb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadaa6bdc45b7ffd97493c9002c8d5e53"><td class="memItemLeft" align="right" valign="top">const DH *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1TcpServer.html#aadaa6bdc45b7ffd97493c9002c8d5e53">GetDiffieHellman</a> () const </td></tr>
<tr class="memdesc:aadaa6bdc45b7ffd97493c9002c8d5e53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Diffie-Hellman key pair used by this server.  <a href="#aadaa6bdc45b7ffd97493c9002c8d5e53">More...</a><br /></td></tr>
<tr class="separator:aadaa6bdc45b7ffd97493c9002c8d5e53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad13b43c1005ae85f5a81f331aee199ce"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1Worker.html">libcomp::Worker</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#ad13b43c1005ae85f5a81f331aee199ce">GetNextConnectionWorker</a> ()</td></tr>
<tr class="memdesc:ad13b43c1005ae85f5a81f331aee199ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the next worker to use for new connections.  <a href="#ad13b43c1005ae85f5a81f331aee199ce">More...</a><br /></td></tr>
<tr class="separator:ad13b43c1005ae85f5a81f331aee199ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8571c58c0d1aa351fb584119175c29e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#ac8571c58c0d1aa351fb584119175c29e">InsertDataFromFile</a> (const <a class="el" href="classlibcomp_1_1String.html">libcomp::String</a> &amp;filePath, const std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1Database.html">Database</a> &gt; &amp;db, const std::set&lt; std::string &gt; &amp;specificTypes={})</td></tr>
<tr class="memdesc:ac8571c58c0d1aa351fb584119175c29e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dynamicaly instantiate and insert data from an XML config file.  <a href="#ac8571c58c0d1aa351fb584119175c29e">More...</a><br /></td></tr>
<tr class="separator:ac8571c58c0d1aa351fb584119175c29e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30ffbbe25582b0bdee423083593158eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#a30ffbbe25582b0bdee423083593158eb">LoadDataFromFile</a> (const <a class="el" href="classlibcomp_1_1String.html">libcomp::String</a> &amp;filePath, <a class="el" href="classlibcomp_1_1BaseServer.html#ab00d1dd4d6e965d76c482ef854459d03">PersistentObjectMap</a> &amp;records, <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> registerRecords, const std::set&lt; std::string &gt; &amp;specificTypes={})</td></tr>
<tr class="memdesc:a30ffbbe25582b0bdee423083593158eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dynamicaly instantiate data from an XML config file.  <a href="#a30ffbbe25582b0bdee423083593158eb">More...</a><br /></td></tr>
<tr class="separator:a30ffbbe25582b0bdee423083593158eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8242184f16ac6379b0deb827ca7920f"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#ab8242184f16ac6379b0deb827ca7920f">Run</a> ()</td></tr>
<tr class="memdesc:ab8242184f16ac6379b0deb827ca7920f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the server until a shutdown message is received or the program is forcefully closed.  <a href="#ab8242184f16ac6379b0deb827ca7920f">More...</a><br /></td></tr>
<tr class="separator:ab8242184f16ac6379b0deb827ca7920f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a724620208dfb4a16fd5bff8e330c7ea0"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#a724620208dfb4a16fd5bff8e330c7ea0">ServerReady</a> ()</td></tr>
<tr class="memdesc:a724620208dfb4a16fd5bff8e330c7ea0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the server has started.  <a href="#a724620208dfb4a16fd5bff8e330c7ea0">More...</a><br /></td></tr>
<tr class="separator:a724620208dfb4a16fd5bff8e330c7ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa7fa058f68c10fc7d8300c50cbf2ba9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1TcpServer.html#aaa7fa058f68c10fc7d8300c50cbf2ba9">SetDiffieHellman</a> (DH *pDiffieHellman)</td></tr>
<tr class="memdesc:aaa7fa058f68c10fc7d8300c50cbf2ba9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the Diffie-Hellman key pair used by this server.  <a href="#aaa7fa058f68c10fc7d8300c50cbf2ba9">More...</a><br /></td></tr>
<tr class="separator:aaa7fa058f68c10fc7d8300c50cbf2ba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a40ceb65d4fb3f324ffd75841ac51f4a7"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1ServerCommandLineParser.html">ServerCommandLineParser</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#a40ceb65d4fb3f324ffd75841ac51f4a7">mCommandLine</a></td></tr>
<tr class="memdesc:a40ceb65d4fb3f324ffd75841ac51f4a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command line options for the server.  <a href="#a40ceb65d4fb3f324ffd75841ac51f4a7">More...</a><br /></td></tr>
<tr class="separator:a40ceb65d4fb3f324ffd75841ac51f4a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1464941c745d75dcc84e34819066e03e"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; objects::ServerConfig &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#a1464941c745d75dcc84e34819066e03e">mConfig</a></td></tr>
<tr class="memdesc:a1464941c745d75dcc84e34819066e03e"><td class="mdescLeft">&#160;</td><td class="mdescRight">A shared pointer to the config used to set up the server.  <a href="#a1464941c745d75dcc84e34819066e03e">More...</a><br /></td></tr>
<tr class="separator:a1464941c745d75dcc84e34819066e03e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82759a0ab288cad1d998a3fff79f4711"><td class="memItemLeft" align="right" valign="top">std::list&lt; std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1TcpConnection.html">TcpConnection</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1TcpServer.html#a82759a0ab288cad1d998a3fff79f4711">mConnections</a></td></tr>
<tr class="memdesc:a82759a0ab288cad1d998a3fff79f4711"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of connections managed by this server.  <a href="#a82759a0ab288cad1d998a3fff79f4711">More...</a><br /></td></tr>
<tr class="separator:a82759a0ab288cad1d998a3fff79f4711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7380cea26de0412af121ec8356c5fc3"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1TcpServer.html#af7380cea26de0412af121ec8356c5fc3">mConnectionsLock</a></td></tr>
<tr class="memdesc:af7380cea26de0412af121ec8356c5fc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock for the connection list.  <a href="#af7380cea26de0412af121ec8356c5fc3">More...</a><br /></td></tr>
<tr class="separator:af7380cea26de0412af121ec8356c5fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ed20d3bff93f7b9c8d453ebfce149b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibcomp_1_1DataStore.html">libcomp::DataStore</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#a0ed20d3bff93f7b9c8d453ebfce149b5">mDataStore</a></td></tr>
<tr class="memdesc:a0ed20d3bff93f7b9c8d453ebfce149b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data store for the server.  <a href="#a0ed20d3bff93f7b9c8d453ebfce149b5">More...</a><br /></td></tr>
<tr class="separator:a0ed20d3bff93f7b9c8d453ebfce149b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade237f520f624d480e02a7235c411809"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibcomp_1_1Worker.html">libcomp::Worker</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#ade237f520f624d480e02a7235c411809">mMainWorker</a></td></tr>
<tr class="memdesc:ade237f520f624d480e02a7235c411809"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classlibcomp_1_1Worker.html" title="Generic worker assigned to a message queue used to handle messages as they are received. ">Worker</a> that blocks and runs in the main thread.  <a href="#ade237f520f624d480e02a7235c411809">More...</a><br /></td></tr>
<tr class="separator:ade237f520f624d480e02a7235c411809"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfe2403fc7925ba4d899ce5acf3978df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibcomp_1_1Worker.html">libcomp::Worker</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#acfe2403fc7925ba4d899ce5acf3978df">mQueueWorker</a></td></tr>
<tr class="memdesc:acfe2403fc7925ba4d899ce5acf3978df"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classlibcomp_1_1Worker.html" title="Generic worker assigned to a message queue used to handle messages as they are received. ">Worker</a> used for async processing.  <a href="#acfe2403fc7925ba4d899ce5acf3978df">More...</a><br /></td></tr>
<tr class="separator:acfe2403fc7925ba4d899ce5acf3978df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09f3da6ea1d1fb1fc3c3131aef334fb0"><td class="memItemLeft" align="right" valign="top">asio::io_service&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1TcpServer.html#a09f3da6ea1d1fb1fc3c3131aef334fb0">mService</a></td></tr>
<tr class="memdesc:a09f3da6ea1d1fb1fc3c3131aef334fb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">ASIO service used to handle network operations.  <a href="#a09f3da6ea1d1fb1fc3c3131aef334fb0">More...</a><br /></td></tr>
<tr class="separator:a09f3da6ea1d1fb1fc3c3131aef334fb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cc084558cb650669a9fdc1c0aba328c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibcomp_1_1TimerManager.html">libcomp::TimerManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#a0cc084558cb650669a9fdc1c0aba328c">mTimerManager</a></td></tr>
<tr class="memdesc:a0cc084558cb650669a9fdc1c0aba328c"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classlibcomp_1_1Manager.html" title="Abstract base class used to represent a Message handler. ">Manager</a> for timer events.  <a href="#a0cc084558cb650669a9fdc1c0aba328c">More...</a><br /></td></tr>
<tr class="separator:a0cc084558cb650669a9fdc1c0aba328c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a084ec4211d2b1098bb53e41b6cbe13b6"><td class="memItemLeft" align="right" valign="top">std::list&lt; std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1Worker.html">libcomp::Worker</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#a084ec4211d2b1098bb53e41b6cbe13b6">mWorkers</a></td></tr>
<tr class="memdesc:a084ec4211d2b1098bb53e41b6cbe13b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of workers to handle incoming connection packet based work.  <a href="#a084ec4211d2b1098bb53e41b6cbe13b6">More...</a><br /></td></tr>
<tr class="separator:a084ec4211d2b1098bb53e41b6cbe13b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a74e04a09f874ca344ba0359ae2fc5d1d"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1BaseServer.html#a74e04a09f874ca344ba0359ae2fc5d1d">sConfigPath</a></td></tr>
<tr class="memdesc:a74e04a09f874ca344ba0359ae2fc5d1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom config path to use during execution.  <a href="#a74e04a09f874ca344ba0359ae2fc5d1d">More...</a><br /></td></tr>
<tr class="separator:a74e04a09f874ca344ba0359ae2fc5d1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base class for all servers that run workers to handle incoming messages in the message queue. </p>
<p>Each of these servers is instantiated via a dedicated config file and are responsible for choosing which of the workers it manages will be assigned to each incoming connection. </p>

<p>Definition at line <a class="el" href="BaseServer_8h_source.html#l00056">56</a> of file <a class="el" href="BaseServer_8h_source.html">BaseServer.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="ab00d1dd4d6e965d76c482ef854459d03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::unordered_map&lt;std::string, std::list&lt; std::shared_ptr&lt;<a class="el" href="classlibcomp_1_1PersistentObject.html">libcomp::PersistentObject</a>&gt; &gt; &gt; <a class="el" href="classlibcomp_1_1BaseServer.html#ab00d1dd4d6e965d76c482ef854459d03">libcomp::BaseServer::PersistentObjectMap</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Map of <a class="el" href="classlibcomp_1_1PersistentObject.html" title="Base class of a all dynamically generated objects that persist in the database. ">PersistentObject</a> pointers by object type name. </p>

<p>Definition at line <a class="el" href="BaseServer_8h_source.html#l00062">62</a> of file <a class="el" href="BaseServer_8h_source.html">BaseServer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a66f84ef85d0c9f6c1c7826f37bdb498f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BaseServer::BaseServer </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szProgram</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::ServerConfig &gt;&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1ServerCommandLineParser.html">ServerCommandLineParser</a> &gt;&#160;</td>
          <td class="paramname"><em>commandLine</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new base server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">szProgram</td><td>First command line argument for the application. </td></tr>
    <tr><td class="paramname">config</td><td>Pointer to a config container that will hold properties every server has in common. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00053">53</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af26a04f6b9e4a614157bf92b69765979"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BaseServer::~BaseServer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clean up the server workers and send out the the server shutdown message. </p>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00262">262</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="BaseServer_8h_source.html#l00293">mWorkers</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a463bff4fbe9cf9b703bf1b8919c7ea80"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TcpServer::AcceptHandler </td>
          <td>(</td>
          <td class="paramtype">asio::error_code&#160;</td>
          <td class="paramname"><em>errorCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">asio::ip::tcp::socket &amp;&#160;</td>
          <td class="paramname"><em>socket</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called to handle a new connection to the server. </p>
<p>This will call <a class="el" href="classlibcomp_1_1TcpServer.html#ad9e38654d84b3c3902d208f1cf6db2f1">CreateConnection</a> and then add the connection to the list. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">errorCode</td><td>Error code of the last accept operation. </td></tr>
    <tr><td class="paramname">socket</td><td>Socket that was bound to the new connection. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="TcpServer_8cpp_source.html#l00164">164</a> of file <a class="el" href="TcpServer_8cpp_source.html">TcpServer.cpp</a>.</p>

<p>References <a class="el" href="TcpServer_8cpp_source.html#l00157">libcomp::TcpServer::CreateConnection()</a>, <a class="el" href="Log_8h_source.html#l00255">LOG_CRITICAL</a>, <a class="el" href="Log_8h_source.html#l00291">LOG_DEBUG</a>, <a class="el" href="Log_8h_source.html#l00264">LOG_ERROR</a>, <a class="el" href="TcpServer_8h_source.html#l00186">libcomp::TcpServer::mAcceptor</a>, <a class="el" href="TcpServer_8h_source.html#l00179">libcomp::TcpServer::mConnections</a>, <a class="el" href="TcpServer_8h_source.html#l00176">libcomp::TcpServer::mConnectionsLock</a>, and <a class="el" href="TcpServer_8h_source.html#l00192">libcomp::TcpServer::mDiffieHellman</a>.</p>

<p>Referenced by <a class="el" href="TcpServer_8cpp_source.html#l00058">libcomp::TcpServer::Start()</a>.</p>

</div>
</div>
<a class="anchor" id="ab9978ae51f0f7986e284b7f559c7875b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> BaseServer::AssignMessageQueue </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1EncryptedConnection.html">libcomp::EncryptedConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>connection</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve and assign a message queue to use for a new connection. </p>
<p>The method of deciding which worker to use is not contained in this function but the actual assignment and starting of workers not yet running is handled. </p><dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00446">446</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="BaseServer_8cpp_source.html#l00462">GetNextConnectionWorker()</a>, <a class="el" href="Log_8h_source.html#l00255">LOG_CRITICAL</a>, and <a class="el" href="BaseServer_8h_source.html#l00293">mWorkers</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8h_source.html#l00208">QueueWork()</a>.</p>

</div>
</div>
<a class="anchor" id="a558ac503ff5aef83d5b08cc0b7449722"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BaseServer::Cleanup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is called before <a class="el" href="classlibcomp_1_1BaseServer.html#ab8242184f16ac6379b0deb827ca7920f" title="Runs the server until a shutdown message is received or the program is forcefully closed...">Run()</a> ends giving a derived class the chance to do additional cleanup. </p>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00635">635</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00282">Run()</a>.</p>

</div>
</div>
<a class="anchor" id="ad2e679a1c5363ebee90d4d0a89802489"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DH * TcpServer::CopyDiffieHellman </td>
          <td>(</td>
          <td class="paramtype">const DH *&#160;</td>
          <td class="paramname"><em>pDiffieHellman</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy a Diffie-Hellman key pair. </p>
<dl class="section note"><dt>Note</dt><dd>This will not copy the private key (just the base and prime). </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pDiffieHellman</td><td>Diffie-Hellman key pair to copy. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Copied key pair or nullptr on failure. </dd></dl>

<p>Definition at line <a class="el" href="TcpServer_8cpp_source.html#l00334">334</a> of file <a class="el" href="TcpServer_8cpp_source.html">TcpServer.cpp</a>.</p>

<p>Referenced by <a class="el" href="TcpServer_8cpp_source.html#l00157">libcomp::TcpServer::CreateConnection()</a>, and <a class="el" href="DiffieHellman_8cpp_source.html#l00036">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="ad9e38654d84b3c3902d208f1cf6db2f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1TcpConnection.html">TcpConnection</a> &gt; TcpServer::CreateConnection </td>
          <td>(</td>
          <td class="paramtype">asio::ip::tcp::socket &amp;&#160;</td>
          <td class="paramname"><em>socket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a connection to a newly active socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>A new socket connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the newly created connection </dd></dl>

<p>Definition at line <a class="el" href="TcpServer_8cpp_source.html#l00157">157</a> of file <a class="el" href="TcpServer_8cpp_source.html">TcpServer.cpp</a>.</p>

<p>References <a class="el" href="TcpServer_8cpp_source.html#l00334">libcomp::TcpServer::CopyDiffieHellman()</a>, and <a class="el" href="TcpServer_8h_source.html#l00192">libcomp::TcpServer::mDiffieHellman</a>.</p>

<p>Referenced by <a class="el" href="TcpServer_8cpp_source.html#l00164">libcomp::TcpServer::AcceptHandler()</a>.</p>

</div>
</div>
<a class="anchor" id="ae7d6736d53c4c6c49a1bc856d0cddeb2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BaseServer::CreateWorkers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create one or many workers to handle connection requests based upon the server config allowing mutliple workers as well as how many cores are available on the executing machine's CPU. </p>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00415">415</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="Log_8h_source.html#l00273">LOG_WARNING</a>, <a class="el" href="BaseServer_8h_source.html#l00281">mConfig</a>, and <a class="el" href="BaseServer_8h_source.html#l00293">mWorkers</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00061">Initialize()</a>, and <a class="el" href="BaseServer_8h_source.html#l00208">QueueWork()</a>.</p>

</div>
</div>
<a class="anchor" id="a0196923ac5f81b1f56e6d9502d2cfc00"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BaseServer::FinishInitialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do any initialize that should happen after the server is listening and fully started. </p>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00146">146</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00500">ProcessMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="abf76af06441fe69de36b9ead4ed5420d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DH * TcpServer::GenerateDiffieHellman </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate a Diffie-Hellman key pair. </p>
<dl class="section return"><dt>Returns</dt><dd>Generated key pair or nullptr on failure. </dd></dl>

<p>Definition at line <a class="el" href="TcpServer_8cpp_source.html#l00225">225</a> of file <a class="el" href="TcpServer_8cpp_source.html">TcpServer.cpp</a>.</p>

<p>References <a class="el" href="Constants_8h_source.html#l00082">DH_BASE_INT</a>, <a class="el" href="Constants_8h_source.html#l00073">DH_KEY_BIT_SIZE</a>, and <a class="el" href="Constants_8h_source.html#l00079">DH_SHARED_DATA_SIZE</a>.</p>

<p>Referenced by <a class="el" href="TcpServer_8cpp_source.html#l00058">libcomp::TcpServer::Start()</a>, and <a class="el" href="DiffieHellman_8cpp_source.html#l00036">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="a3f136d3503bef43fc0001c8a9eb8d682"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; objects::ServerConfig &gt; BaseServer::GetConfig </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the server config file read during the constructor steps. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the server config </dd></dl>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00486">486</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="BaseServer_8h_source.html#l00281">mConfig</a>.</p>

</div>
</div>
<a class="anchor" id="a0644cb1881fdf1da8a3c5ecb7e8787e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string BaseServer::GetConfigPath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the current config directory path to use. </p>
<p>If a value is passed to SetConfigPath, that will be used, if not GetDefaultConfigPath will be used instead. </p><dl class="section return"><dt>Returns</dt><dd>Current config directory path to use </dd></dl>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00327">327</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="BaseServer_8cpp_source.html#l00344">GetDefaultConfigPath()</a>, and <a class="el" href="BaseServer_8h_source.html#l00302">sConfigPath</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00208">GetDatabase()</a>, and <a class="el" href="BaseServer_8cpp_source.html#l00061">Initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="abb5525c3a3345fbec81add914178e9ec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1Database.html">Database</a> &gt; BaseServer::GetDatabase </td>
          <td>(</td>
          <td class="paramtype">objects::ServerConfig::DatabaseType_t&#160;</td>
          <td class="paramname"><em>dbType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">EnumMap</a>&lt; objects::ServerConfig::DatabaseType_t, std::shared_ptr&lt; objects::DatabaseConfig &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>configMap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get an open database connection of the database type associated to the server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dbType</td><td><a class="el" href="classlibcomp_1_1Database.html" title="Abstract base class that represents a database to use for loading and modifying PersistentObject inst...">Database</a> type to use. </td></tr>
    <tr><td class="paramname">configMap</td><td>Map of the available database configs by type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the new database connection or nullptr on failure </dd></dl>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00150">150</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="Log_8h_source.html#l00255">LOG_CRITICAL</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00208">GetDatabase()</a>.</p>

</div>
</div>
<a class="anchor" id="ad7ad9103ec078bca8aba6ec87d82af35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1Database.html">Database</a> &gt; BaseServer::GetDatabase </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">EnumMap</a>&lt; objects::ServerConfig::DatabaseType_t, std::shared_ptr&lt; objects::DatabaseConfig &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>configMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>performSetup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an open database connection of the database type associated to the server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">configMap</td><td>Map of the available database configs by type </td></tr>
    <tr><td class="paramname">performSetup</td><td>If true, <a class="el" href="classlibcomp_1_1Database.html#afa6813e428800934d4d9dcc2b4294a50">Database::Setup</a> will be executed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the new database connection or nullptr on failure </dd></dl>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00208">208</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="BaseServer_8cpp_source.html#l00327">GetConfigPath()</a>, <a class="el" href="BaseServer_8cpp_source.html#l00150">GetDatabase()</a>, <a class="el" href="BaseServer_8cpp_source.html#l00515">InsertDataFromFile()</a>, <a class="el" href="Log_8h_source.html#l00255">LOG_CRITICAL</a>, and <a class="el" href="BaseServer_8h_source.html#l00281">mConfig</a>.</p>

</div>
</div>
<a class="anchor" id="ae8d279d27d0b9b9f03ba396bac53e144"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gsl::not_null&lt; <a class="el" href="classlibcomp_1_1DataStore.html">DataStore</a> * &gt; BaseServer::GetDataStore </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the data store for the server. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the data store. This shold never be deleted. </dd></dl>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00272">272</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="BaseServer_8h_source.html#l00296">mDataStore</a>.</p>

</div>
</div>
<a class="anchor" id="a0d8fcad71d3ff477fb1ba16457292639"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string BaseServer::GetDefaultConfigPath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the OS specific default path to look for config files. </p>
<dl class="section return"><dt>Returns</dt><dd>The default path to a config folder </dd></dl>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00344">344</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00327">GetConfigPath()</a>.</p>

</div>
</div>
<a class="anchor" id="aadaa6bdc45b7ffd97493c9002c8d5e53"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const DH * TcpServer::GetDiffieHellman </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the Diffie-Hellman key pair used by this server. </p>
<dl class="section return"><dt>Returns</dt><dd>Key pair or nullptr if one is not set. </dd></dl>

<p>Definition at line <a class="el" href="TcpServer_8cpp_source.html#l00210">210</a> of file <a class="el" href="TcpServer_8cpp_source.html">TcpServer.cpp</a>.</p>

<p>References <a class="el" href="TcpServer_8h_source.html#l00192">libcomp::TcpServer::mDiffieHellman</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00061">Initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="ad13b43c1005ae85f5a81f331aee199ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1Worker.html">libcomp::Worker</a> &gt; BaseServer::GetNextConnectionWorker </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the next worker to use for new connections. </p>
<p>This implementation uses a "least busy" method to decide which worker to assign but it is meant to be overridden by anything with a different method of assignment. </p><dl class="section return"><dt>Returns</dt><dd>Pointer to the worker whose message queue should be assigned to a new connection </dd></dl>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00462">462</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="BaseServer_8h_source.html#l00293">mWorkers</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00446">AssignMessageQueue()</a>, and <a class="el" href="BaseServer_8h_source.html#l00208">QueueWork()</a>.</p>

</div>
</div>
<a class="anchor" id="a2d82da53eed26d1a3de1240e66789601"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="namespacelibcomp_1_1Message.html#a45d3b2b97b15c0844026394f22aaace7">libcomp::Message::MessageType</a> &gt; BaseServer::GetSupportedTypes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the different types of messages handled by this manager. </p>
<dl class="section return"><dt>Returns</dt><dd>List of supported message types </dd></dl>

<p>Implements <a class="el" href="classlibcomp_1_1Manager.html#a28d6701fa90856fd1038119989cf8853">libcomp::Manager</a>.</p>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00491">491</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="namespacelibcomp_1_1Message.html#a45d3b2b97b15c0844026394f22aaace7a1e34573d4b8e31c2c6e8f61e5be8c3a5">libcomp::Message::MESSAGE_TYPE_SYSTEM</a>.</p>

</div>
</div>
<a class="anchor" id="a03a0f7c920ee9a45f64bd4e77d8b17b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gsl::not_null&lt; <a class="el" href="classlibcomp_1_1TimerManager.html">TimerManager</a> * &gt; BaseServer::GetTimerManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the timer manager for the server. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the timer manager. This shold never be deleted. </dd></dl>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00277">277</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="BaseServer_8h_source.html#l00299">mTimerManager</a>.</p>

</div>
</div>
<a class="anchor" id="ada464b9076e97ea48fd7c747d5de41c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> BaseServer::Initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the database connection and do anything else that can fail to execute that needs to be handled outside of a constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>Pointer to this server to be used as a reference in packet handling code. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00061">61</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="Worker_8cpp_source.html#l00049">libcomp::Worker::AddManager()</a>, <a class="el" href="DataStore_8cpp_source.html#l00067">libcomp::DataStore::AddSearchPaths()</a>, <a class="el" href="CString_8cpp_source.html#l00561">libcomp::String::Arg()</a>, <a class="el" href="BaseServer_8cpp_source.html#l00415">CreateWorkers()</a>, <a class="el" href="BaseServer_8cpp_source.html#l00327">GetConfigPath()</a>, <a class="el" href="TcpServer_8cpp_source.html#l00210">libcomp::TcpServer::GetDiffieHellman()</a>, <a class="el" href="Worker_8cpp_source.html#l00193">libcomp::Worker::GetMessageQueue()</a>, <a class="el" href="ServerConstants_8cpp_source.html#l00045">libcomp::ServerConstants::Initialize()</a>, <a class="el" href="CString_8cpp_source.html#l00486">libcomp::String::IsEmpty()</a>, <a class="el" href="TcpServer_8cpp_source.html#l00247">libcomp::TcpServer::LoadDiffieHellman()</a>, <a class="el" href="Log_8h_source.html#l00255">LOG_CRITICAL</a>, <a class="el" href="Log_8h_source.html#l00291">LOG_DEBUG</a>, <a class="el" href="Log_8h_source.html#l00273">LOG_WARNING</a>, <a class="el" href="BaseServer_8h_source.html#l00281">mConfig</a>, <a class="el" href="BaseServer_8h_source.html#l00296">mDataStore</a>, <a class="el" href="BaseServer_8h_source.html#l00287">mMainWorker</a>, and <a class="el" href="TcpServer_8cpp_source.html#l00215">libcomp::TcpServer::SetDiffieHellman()</a>.</p>

</div>
</div>
<a class="anchor" id="ac8571c58c0d1aa351fb584119175c29e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> BaseServer::InsertDataFromFile </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibcomp_1_1String.html">libcomp::String</a> &amp;&#160;</td>
          <td class="paramname"><em>filePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1Database.html">Database</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>specificTypes</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dynamicaly instantiate and insert data from an XML config file. </p>
<p>Records will be created in the order they are listed in the file and are assumed to be valid for the database loaded for the server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filePath</td><td>Path to the XML config file </td></tr>
    <tr><td class="paramname">db</td><td>Pointer to the database connection </td></tr>
    <tr><td class="paramname">specificTypes</td><td>Optional parameter to only load the specified types </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false if an error occurred </dd></dl>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00515">515</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="CString_8cpp_source.html#l00753">libcomp::String::C()</a>, <a class="el" href="BaseServer_8cpp_source.html#l00545">LoadDataFromFile()</a>, and <a class="el" href="Log_8h_source.html#l00291">LOG_DEBUG</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00208">GetDatabase()</a>, and <a class="el" href="BaseServer_8h_source.html#l00208">QueueWork()</a>.</p>

</div>
</div>
<a class="anchor" id="a30ffbbe25582b0bdee423083593158eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> BaseServer::LoadDataFromFile </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibcomp_1_1String.html">libcomp::String</a> &amp;&#160;</td>
          <td class="paramname"><em>filePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibcomp_1_1BaseServer.html#ab00d1dd4d6e965d76c482ef854459d03">PersistentObjectMap</a> &amp;&#160;</td>
          <td class="paramname"><em>records</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>registerRecords</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>specificTypes</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dynamicaly instantiate data from an XML config file. </p>
<p>Records will be created in the order they are listed in the file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filePath</td><td>Path to the XML config file </td></tr>
    <tr><td class="paramname">records</td><td>Output map of records created by object type </td></tr>
    <tr><td class="paramname">registerRecords</td><td>If true the loaded records will be registered in the cache when the UID is specified </td></tr>
    <tr><td class="paramname">specificTypes</td><td>Optional parameter to only load the specified types </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false if an error occurred </dd></dl>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00545">545</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="CString_8cpp_source.html#l00753">libcomp::String::C()</a>, <a class="el" href="src_2Decrypt_8cpp_source.html#l00255">libcomp::Decrypt::GenerateRandom()</a>, <a class="el" href="PersistentObject_8cpp_source.html#l00250">libcomp::PersistentObject::GetTypeHashByName()</a>, <a class="el" href="src_2Decrypt_8cpp_source.html#l00747">libcomp::Decrypt::HashPassword()</a>, <a class="el" href="Log_8h_source.html#l00291">LOG_DEBUG</a>, <a class="el" href="Log_8h_source.html#l00264">LOG_ERROR</a>, and <a class="el" href="PersistentObject_8h_source.html#l00253">libcomp::PersistentObject::New()</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00515">InsertDataFromFile()</a>, and <a class="el" href="BaseServer_8h_source.html#l00208">QueueWork()</a>.</p>

</div>
</div>
<a class="anchor" id="a762340794ef442a6477f370c7cb00c70"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DH * TcpServer::LoadDiffieHellman </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibcomp_1_1String.html">String</a> &amp;&#160;</td>
          <td class="paramname"><em>prime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a Diffie-Helman key pair given the hex encoded prime. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prime</td><td>Hex encoded string representing the prime. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Generated key pair or nullptr on failure. </dd></dl>

<p>Definition at line <a class="el" href="TcpServer_8cpp_source.html#l00247">247</a> of file <a class="el" href="TcpServer_8cpp_source.html">TcpServer.cpp</a>.</p>

<p>References <a class="el" href="CString_8cpp_source.html#l00753">libcomp::String::C()</a>, <a class="el" href="Constants_8h_source.html#l00085">DH_BASE_STRING</a>, <a class="el" href="Constants_8h_source.html#l00076">DH_KEY_HEX_SIZE</a>, <a class="el" href="Constants_8h_source.html#l00079">DH_SHARED_DATA_SIZE</a>, <a class="el" href="CString_8cpp_source.html#l00476">libcomp::String::Length()</a>, <a class="el" href="Log_8h_source.html#l00291">LOG_DEBUG</a>, and <a class="el" href="Log_8h_source.html#l00264">LOG_ERROR</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00061">Initialize()</a>, <a class="el" href="TcpServer_8cpp_source.html#l00285">libcomp::TcpServer::LoadDiffieHellman()</a>, <a class="el" href="EncryptedConnection_8cpp_source.html#l00247">libcomp::EncryptedConnection::ParseClientEncryptionStart()</a>, and <a class="el" href="DiffieHellman_8cpp_source.html#l00036">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="a66426e49934f99b1d87e100a4dfa2697"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DH * TcpServer::LoadDiffieHellman </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; char &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a Diffie-Helman key pair given the binary encoded prime. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Binary data representing the prime. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Generated key pair or nullptr on failure. </dd></dl>

<p>Definition at line <a class="el" href="TcpServer_8cpp_source.html#l00285">285</a> of file <a class="el" href="TcpServer_8cpp_source.html">TcpServer.cpp</a>.</p>

<p>References <a class="el" href="TcpServer_8cpp_source.html#l00247">libcomp::TcpServer::LoadDiffieHellman()</a>.</p>

</div>
</div>
<a class="anchor" id="ad28f9e6c36e81c78ab1ffdd77d719b8a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DH * TcpServer::LoadDiffieHellman </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>dataSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a Diffie-Helman key pair given the binary encoded prime. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pData</td><td>Pointer to buffer containing data representing the prime. </td></tr>
    <tr><td class="paramname">dataSize</td><td>Size of the data buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Generated key pair or nullptr on failure. </dd></dl>

<p>Definition at line <a class="el" href="TcpServer_8cpp_source.html#l00290">290</a> of file <a class="el" href="TcpServer_8cpp_source.html">TcpServer.cpp</a>.</p>

<p>References <a class="el" href="Constants_8h_source.html#l00085">DH_BASE_STRING</a>, and <a class="el" href="Constants_8h_source.html#l00079">DH_SHARED_DATA_SIZE</a>.</p>

</div>
</div>
<a class="anchor" id="ad20402790af9e5c1b221bb784f3c9339"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> BaseServer::ProcessMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibcomp_1_1Message_1_1Message.html">libcomp::Message::Message</a> *&#160;</td>
          <td class="paramname"><em>pMessage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process a message from the queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pMessage</td><td><a class="el" href="namespacelibcomp_1_1Message.html">Message</a> to be processed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

<p>Implements <a class="el" href="classlibcomp_1_1Manager.html#af25967f12f0d27579511368a267e85e6">libcomp::Manager</a>.</p>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00500">500</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="BaseServer_8cpp_source.html#l00146">FinishInitialize()</a>.</p>

</div>
</div>
<a class="anchor" id="aedfc887738ff281ce6b5ae20c64318bc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Function , typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> libcomp::BaseServer::QueueWork </td>
          <td>(</td>
          <td class="paramtype">Function &amp;&amp;&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queue up code to be executed in the main worker thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>Function (lambda) to execute in the worker thread. </td></tr>
    <tr><td class="paramname">args</td><td>Arguments to pass to the function when it is executed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

<p>Definition at line <a class="el" href="BaseServer_8h_source.html#l00208">208</a> of file <a class="el" href="BaseServer_8h_source.html">BaseServer.h</a>.</p>

<p>References <a class="el" href="BaseServer_8cpp_source.html#l00446">AssignMessageQueue()</a>, <a class="el" href="BaseServer_8cpp_source.html#l00415">CreateWorkers()</a>, <a class="el" href="Worker_8h_source.html#l00126">libcomp::Worker::ExecuteInWorker()</a>, <a class="el" href="BaseServer_8cpp_source.html#l00462">GetNextConnectionWorker()</a>, <a class="el" href="BaseServer_8cpp_source.html#l00515">InsertDataFromFile()</a>, <a class="el" href="BaseServer_8cpp_source.html#l00545">LoadDataFromFile()</a>, <a class="el" href="BaseServer_8h_source.html#l00290">mQueueWorker</a>, <a class="el" href="BaseServer_8cpp_source.html#l00282">Run()</a>, and <a class="el" href="BaseServer_8cpp_source.html#l00299">ServerReady()</a>.</p>

</div>
</div>
<a class="anchor" id="a55ba372dd22d9c29a74ed61a024684e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> BaseServer::ReadConfig </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; objects::ServerConfig &gt;&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibcomp_1_1String.html">libcomp::String</a>&#160;</td>
          <td class="paramname"><em>filePath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read the config file from the path and parse into an XML document to be read in the virtual ReadConfig function. </p>
<p>Messages will print to the console on both success and failure. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>Pointer to a config file that will contain properties every server has in common. </td></tr>
    <tr><td class="paramname">configPath</td><td>File path to the location of the config to be loaded. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00359">359</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="CString_8cpp_source.html#l00753">libcomp::String::C()</a>, <a class="el" href="Log_8h_source.html#l00291">LOG_DEBUG</a>, and <a class="el" href="Log_8h_source.html#l00273">LOG_WARNING</a>.</p>

</div>
</div>
<a class="anchor" id="a7ff99d04baf9d19b5b33098196977c2d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> BaseServer::ReadConfig </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; objects::ServerConfig &gt;&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tinyxml2::XMLDocument &amp;&#160;</td>
          <td class="paramname"><em>doc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read the config file values from an XML document and populates the config passed in. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>Pointer to a config file that will contain properties every server has in common. </td></tr>
    <tr><td class="paramname">doc</td><td>XML file containing the config values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00376">376</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="Log_8cpp_source.html#l00214">libcomp::Log::GetSingletonPtr()</a>, <a class="el" href="Log_8h_source.html#l00080">libcomp::Log::LOG_LEVEL_CRITICAL</a>, <a class="el" href="Log_8h_source.html#l00076">libcomp::Log::LOG_LEVEL_DEBUG</a>, <a class="el" href="Log_8h_source.html#l00079">libcomp::Log::LOG_LEVEL_ERROR</a>, <a class="el" href="Log_8h_source.html#l00077">libcomp::Log::LOG_LEVEL_INFO</a>, and <a class="el" href="Log_8h_source.html#l00078">libcomp::Log::LOG_LEVEL_WARNING</a>.</p>

</div>
</div>
<a class="anchor" id="a72bc46aa57e7b0fa194be6bb3cfe9ef4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TcpServer::RemoveConnection </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1TcpConnection.html">TcpConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>connection</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove a connection from the list of client connections. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>Connection to remove. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="TcpServer_8cpp_source.html#l00127">127</a> of file <a class="el" href="TcpServer_8cpp_source.html">TcpServer.cpp</a>.</p>

<p>References <a class="el" href="TcpServer_8h_source.html#l00179">libcomp::TcpServer::mConnections</a>, and <a class="el" href="TcpServer_8h_source.html#l00176">libcomp::TcpServer::mConnectionsLock</a>.</p>

</div>
</div>
<a class="anchor" id="ab8242184f16ac6379b0deb827ca7920f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int BaseServer::Run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs the server until a shutdown message is received or the program is forcefully closed. </p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, 1 on failure </dd></dl>

<p>Reimplemented from <a class="el" href="classlibcomp_1_1TcpServer.html#a927c8c1b17bb5a6832802ebc3b251d12">libcomp::TcpServer</a>.</p>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00282">282</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="BaseServer_8cpp_source.html#l00635">Cleanup()</a>, <a class="el" href="BaseServer_8h_source.html#l00287">mMainWorker</a>, <a class="el" href="BaseServer_8h_source.html#l00290">mQueueWorker</a>, <a class="el" href="TcpServer_8h_source.html#l00182">libcomp::TcpServer::mService</a>, and <a class="el" href="Worker_8cpp_source.html#l00057">libcomp::Worker::Start()</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8h_source.html#l00208">QueueWork()</a>.</p>

</div>
</div>
<a class="anchor" id="a03b5b8da2d9792b1b29ad02e094ee118"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; char &gt; TcpServer::SaveDiffieHellman </td>
          <td>(</td>
          <td class="paramtype">const DH *&#160;</td>
          <td class="paramname"><em>pDiffieHellman</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Save a Diffie-Hellman key pair (the prime) to a binary buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pDiffieHellman</td><td>Key pair to save. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Buffer containing the prime (empty on failure). </dd></dl>

<p>Definition at line <a class="el" href="TcpServer_8cpp_source.html#l00317">317</a> of file <a class="el" href="TcpServer_8cpp_source.html">TcpServer.cpp</a>.</p>

<p>References <a class="el" href="Constants_8h_source.html#l00079">DH_SHARED_DATA_SIZE</a>.</p>

<p>Referenced by <a class="el" href="DiffieHellman_8cpp_source.html#l00036">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="a724620208dfb4a16fd5bff8e330c7ea0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BaseServer::ServerReady </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when the server has started. </p>

<p>Reimplemented from <a class="el" href="classlibcomp_1_1TcpServer.html#a7078e7c1394ba269348d03f1ab716078">libcomp::TcpServer</a>.</p>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00299">299</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="Log_8h_source.html#l00291">LOG_DEBUG</a>, <a class="el" href="BaseServer_8h_source.html#l00284">mCommandLine</a>, and <a class="el" href="TcpServer_8cpp_source.html#l00144">libcomp::TcpServer::ServerReady()</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8h_source.html#l00208">QueueWork()</a>.</p>

</div>
</div>
<a class="anchor" id="a369f8983cada7f2daf5cfb0b664c6128"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BaseServer::SetConfigPath </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a custom config directory path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td><a class="el" href="namespacelibcomp_1_1Config.html">Config</a> directory path to use during execution </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00339">339</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="BaseServer_8h_source.html#l00302">sConfigPath</a>.</p>

</div>
</div>
<a class="anchor" id="aaa7fa058f68c10fc7d8300c50cbf2ba9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TcpServer::SetDiffieHellman </td>
          <td>(</td>
          <td class="paramtype">DH *&#160;</td>
          <td class="paramname"><em>pDiffieHellman</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the Diffie-Hellman key pair used by this server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pDiffieHellman</td><td>Pointer to the key pair to use. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="TcpServer_8cpp_source.html#l00215">215</a> of file <a class="el" href="TcpServer_8cpp_source.html">TcpServer.cpp</a>.</p>

<p>References <a class="el" href="TcpServer_8h_source.html#l00192">libcomp::TcpServer::mDiffieHellman</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00061">Initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="ad74f7a784b5eb617e096dcf8ff8e76e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BaseServer::Shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call the <a class="el" href="namespacelibcomp_1_1Shutdown.html">Shutdown</a> function on each worker. </p>
<p>This should be called only before preparing to stop the application. </p>

<p>Definition at line <a class="el" href="BaseServer_8cpp_source.html#l00316">316</a> of file <a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a>.</p>

<p>References <a class="el" href="BaseServer_8h_source.html#l00287">mMainWorker</a>, <a class="el" href="BaseServer_8h_source.html#l00290">mQueueWorker</a>, <a class="el" href="BaseServer_8h_source.html#l00293">mWorkers</a>, and <a class="el" href="Worker_8cpp_source.html#l00151">libcomp::Worker::Shutdown()</a>.</p>

<p>Referenced by <a class="el" href="Shutdown_8cpp_source.html#l00045">ShutdownSignalHandler()</a>.</p>

</div>
</div>
<a class="anchor" id="ad41e8f0ede0549eef18b2ecb769aca22"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TcpServer::Start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start a thread that listens for incoming network connections. </p>
<p>This call will block until the server is stopped. This will call <a class="el" href="classlibcomp_1_1TcpServer.html#a927c8c1b17bb5a6832802ebc3b251d12">Run</a> for the main loop. In the <a class="el" href="classlibcomp_1_1BaseServer.html">BaseServer</a> implementation this will run a main worker thread. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classlibcomp_1_1BaseServer.html" title="Base class for all servers that run workers to handle incoming messages in the message queue...">BaseServer</a> </dd>
<dd>
<a class="el" href="classlibcomp_1_1Worker.html" title="Generic worker assigned to a message queue used to handle messages as they are received. ">Worker</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Code indicating the exit status. </dd></dl>

<p>Definition at line <a class="el" href="TcpServer_8cpp_source.html#l00058">58</a> of file <a class="el" href="TcpServer_8cpp_source.html">TcpServer.cpp</a>.</p>

<p>References <a class="el" href="TcpServer_8cpp_source.html#l00164">libcomp::TcpServer::AcceptHandler()</a>, <a class="el" href="TcpServer_8cpp_source.html#l00225">libcomp::TcpServer::GenerateDiffieHellman()</a>, <a class="el" href="TcpConnection_8cpp_source.html#l00468">libcomp::TcpConnection::GetDiffieHellmanPrime()</a>, <a class="el" href="CString_8cpp_source.html#l00486">libcomp::String::IsEmpty()</a>, <a class="el" href="Log_8h_source.html#l00255">LOG_CRITICAL</a>, <a class="el" href="Log_8h_source.html#l00273">LOG_WARNING</a>, <a class="el" href="TcpServer_8h_source.html#l00186">libcomp::TcpServer::mAcceptor</a>, <a class="el" href="TcpServer_8h_source.html#l00192">libcomp::TcpServer::mDiffieHellman</a>, <a class="el" href="TcpServer_8h_source.html#l00195">libcomp::TcpServer::mListenAddress</a>, <a class="el" href="TcpServer_8h_source.html#l00198">libcomp::TcpServer::mPort</a>, <a class="el" href="TcpServer_8h_source.html#l00182">libcomp::TcpServer::mService</a>, <a class="el" href="TcpServer_8h_source.html#l00189">libcomp::TcpServer::mServiceThread</a>, <a class="el" href="TcpServer_8cpp_source.html#l00139">libcomp::TcpServer::Run()</a>, <a class="el" href="TcpServer_8cpp_source.html#l00144">libcomp::TcpServer::ServerReady()</a>, <a class="el" href="CString_8cpp_source.html#l00731">libcomp::String::ToLower()</a>, and <a class="el" href="CString_8cpp_source.html#l00444">libcomp::String::ToUtf8()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a40ceb65d4fb3f324ffd75841ac51f4a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classlibcomp_1_1ServerCommandLineParser.html">ServerCommandLineParser</a>&gt; libcomp::BaseServer::mCommandLine</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Command line options for the server. </p>

<p>Definition at line <a class="el" href="BaseServer_8h_source.html#l00284">284</a> of file <a class="el" href="BaseServer_8h_source.html">BaseServer.h</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00299">ServerReady()</a>.</p>

</div>
</div>
<a class="anchor" id="a1464941c745d75dcc84e34819066e03e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;objects::ServerConfig&gt; libcomp::BaseServer::mConfig</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A shared pointer to the config used to set up the server. </p>

<p>Definition at line <a class="el" href="BaseServer_8h_source.html#l00281">281</a> of file <a class="el" href="BaseServer_8h_source.html">BaseServer.h</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00415">CreateWorkers()</a>, <a class="el" href="BaseServer_8cpp_source.html#l00486">GetConfig()</a>, <a class="el" href="BaseServer_8cpp_source.html#l00208">GetDatabase()</a>, and <a class="el" href="BaseServer_8cpp_source.html#l00061">Initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a82759a0ab288cad1d998a3fff79f4711"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;std::shared_ptr&lt;<a class="el" href="classlibcomp_1_1TcpConnection.html">TcpConnection</a>&gt; &gt; libcomp::TcpServer::mConnections</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of connections managed by this server. </p>

<p>Definition at line <a class="el" href="TcpServer_8h_source.html#l00179">179</a> of file <a class="el" href="TcpServer_8h_source.html">TcpServer.h</a>.</p>

<p>Referenced by <a class="el" href="TcpServer_8cpp_source.html#l00164">libcomp::TcpServer::AcceptHandler()</a>, and <a class="el" href="TcpServer_8cpp_source.html#l00127">libcomp::TcpServer::RemoveConnection()</a>.</p>

</div>
</div>
<a class="anchor" id="af7380cea26de0412af121ec8356c5fc3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex libcomp::TcpServer::mConnectionsLock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lock for the connection list. </p>

<p>Definition at line <a class="el" href="TcpServer_8h_source.html#l00176">176</a> of file <a class="el" href="TcpServer_8h_source.html">TcpServer.h</a>.</p>

<p>Referenced by <a class="el" href="TcpServer_8cpp_source.html#l00164">libcomp::TcpServer::AcceptHandler()</a>, and <a class="el" href="TcpServer_8cpp_source.html#l00127">libcomp::TcpServer::RemoveConnection()</a>.</p>

</div>
</div>
<a class="anchor" id="a0ed20d3bff93f7b9c8d453ebfce149b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibcomp_1_1DataStore.html">libcomp::DataStore</a> libcomp::BaseServer::mDataStore</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Data store for the server. </p>

<p>Definition at line <a class="el" href="BaseServer_8h_source.html#l00296">296</a> of file <a class="el" href="BaseServer_8h_source.html">BaseServer.h</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00272">GetDataStore()</a>, and <a class="el" href="BaseServer_8cpp_source.html#l00061">Initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="ade237f520f624d480e02a7235c411809"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibcomp_1_1Worker.html">libcomp::Worker</a> libcomp::BaseServer::mMainWorker</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classlibcomp_1_1Worker.html" title="Generic worker assigned to a message queue used to handle messages as they are received. ">Worker</a> that blocks and runs in the main thread. </p>

<p>Definition at line <a class="el" href="BaseServer_8h_source.html#l00287">287</a> of file <a class="el" href="BaseServer_8h_source.html">BaseServer.h</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00061">Initialize()</a>, <a class="el" href="BaseServer_8cpp_source.html#l00282">Run()</a>, and <a class="el" href="BaseServer_8cpp_source.html#l00316">Shutdown()</a>.</p>

</div>
</div>
<a class="anchor" id="acfe2403fc7925ba4d899ce5acf3978df"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibcomp_1_1Worker.html">libcomp::Worker</a> libcomp::BaseServer::mQueueWorker</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classlibcomp_1_1Worker.html" title="Generic worker assigned to a message queue used to handle messages as they are received. ">Worker</a> used for async processing. </p>

<p>Definition at line <a class="el" href="BaseServer_8h_source.html#l00290">290</a> of file <a class="el" href="BaseServer_8h_source.html">BaseServer.h</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8h_source.html#l00208">QueueWork()</a>, <a class="el" href="BaseServer_8cpp_source.html#l00282">Run()</a>, and <a class="el" href="BaseServer_8cpp_source.html#l00316">Shutdown()</a>.</p>

</div>
</div>
<a class="anchor" id="a09f3da6ea1d1fb1fc3c3131aef334fb0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">asio::io_service libcomp::TcpServer::mService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ASIO service used to handle network operations. </p>

<p>Definition at line <a class="el" href="TcpServer_8h_source.html#l00182">182</a> of file <a class="el" href="TcpServer_8h_source.html">TcpServer.h</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00282">Run()</a>, and <a class="el" href="TcpServer_8cpp_source.html#l00058">libcomp::TcpServer::Start()</a>.</p>

</div>
</div>
<a class="anchor" id="a0cc084558cb650669a9fdc1c0aba328c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibcomp_1_1TimerManager.html">libcomp::TimerManager</a> libcomp::BaseServer::mTimerManager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classlibcomp_1_1Manager.html" title="Abstract base class used to represent a Message handler. ">Manager</a> for timer events. </p>

<p>Definition at line <a class="el" href="BaseServer_8h_source.html#l00299">299</a> of file <a class="el" href="BaseServer_8h_source.html">BaseServer.h</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00277">GetTimerManager()</a>.</p>

</div>
</div>
<a class="anchor" id="a084ec4211d2b1098bb53e41b6cbe13b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;std::shared_ptr&lt;<a class="el" href="classlibcomp_1_1Worker.html">libcomp::Worker</a>&gt; &gt; libcomp::BaseServer::mWorkers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of workers to handle incoming connection packet based work. </p>

<p>Definition at line <a class="el" href="BaseServer_8h_source.html#l00293">293</a> of file <a class="el" href="BaseServer_8h_source.html">BaseServer.h</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00446">AssignMessageQueue()</a>, <a class="el" href="BaseServer_8cpp_source.html#l00415">CreateWorkers()</a>, <a class="el" href="BaseServer_8cpp_source.html#l00462">GetNextConnectionWorker()</a>, <a class="el" href="BaseServer_8cpp_source.html#l00316">Shutdown()</a>, and <a class="el" href="BaseServer_8cpp_source.html#l00262">~BaseServer()</a>.</p>

</div>
</div>
<a class="anchor" id="a74e04a09f874ca344ba0359ae2fc5d1d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string BaseServer::sConfigPath</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Custom config path to use during execution. </p>

<p>Definition at line <a class="el" href="BaseServer_8h_source.html#l00302">302</a> of file <a class="el" href="BaseServer_8h_source.html">BaseServer.h</a>.</p>

<p>Referenced by <a class="el" href="BaseServer_8cpp_source.html#l00327">GetConfigPath()</a>, and <a class="el" href="BaseServer_8cpp_source.html#l00339">SetConfigPath()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="BaseServer_8h_source.html">BaseServer.h</a></li>
<li><a class="el" href="BaseServer_8cpp_source.html">BaseServer.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
