<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>COMP_hack: EventManager.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="reflogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">COMP_hack
   </div>
   <div id="projectbrief">Shin Megami Tensei Online: IMAGINE Server Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_41e1742e44e2de38b3bc91f993fed282.html">server</a></li><li class="navelem"><a class="el" href="dir_326450746209871aacfd6ba259e7e779.html">channel</a></li><li class="navelem"><a class="el" href="dir_ed93946a20e9afd1e03a82c01b6f49a8.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">EventManager.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="EventManager_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#ifndef SERVER_CHANNEL_SRC_EVENTMANAGER_H</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#define SERVER_CHANNEL_SRC_EVENTMANAGER_H</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// libcomp Includes</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;<a class="codeRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/EnumMap_8h.html">EnumMap.h</a>&gt;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;<a class="codeRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/ScriptEngine_8h.html">ScriptEngine.h</a>&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// object Includes</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;DemonQuest.h&gt;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;Event.h&gt;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;EventCondition.h&gt;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;EventInstance.h&gt;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">// channel Includes</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ChannelClientConnection_8h.html">ChannelClientConnection.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacelibcomp.html">libcomp</a></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">class </span>ScriptEngine;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceobjects.html">objects</a></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">class </span>EventConditionData;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">class </span>EventFlagCondition;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">class </span>EventInstance;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="EventManager_8h.html#a82224bae604284567c8ac6eae2113af5">   56</a></span>&#160;<span class="keyword">typedef</span> objects::EventCondition::CompareMode_t <a class="code" href="EventManager_8h.html#a82224bae604284567c8ac6eae2113af5">EventCompareMode</a>;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacechannel.html">channel</a></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">class </span>ChannelServer;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="structchannel_1_1EventOptions.html">   67</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structchannel_1_1EventOptions.html">EventOptions</a></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;{</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// Action group ID, set when performing a &quot;start event&quot; action so any later</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">// sets can pick up where the others left off</span></div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="structchannel_1_1EventOptions.html#acb10083cdb281780f97ec7fffc809aa2">   71</a></span>&#160;    uint32_t <a class="code" href="structchannel_1_1EventOptions.html#acb10083cdb281780f97ec7fffc809aa2">ActionGroupID</a> = 0;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">// Force an auto-only context, regardless of its the client is specified</span></div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structchannel_1_1EventOptions.html#a9005291f7a1e38cdf492f94bdd87ce50">   74</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structchannel_1_1EventOptions.html#a9005291f7a1e38cdf492f94bdd87ce50">AutoOnly</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">// Disallow interruption of any events in the set. Events that are queued</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">// but not started can still be interrupted if another is active.</span></div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structchannel_1_1EventOptions.html#a445df01daf4d1e5ad566654d6a4779da">   78</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structchannel_1_1EventOptions.html#a445df01daf4d1e5ad566654d6a4779da">NoInterrupt</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;};</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="classchannel_1_1EventManager.html">   88</a></span>&#160;<span class="keyword">class </span><a class="code" href="classchannel_1_1EventManager.html">EventManager</a></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;{</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="classchannel_1_1EventManager.html#ac1fb0b1145490e8c492eb19b017c5bbd">EventManager</a>(<span class="keyword">const</span> std::weak_ptr&lt;ChannelServer&gt;&amp; server);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="classchannel_1_1EventManager.html#a2e43e8b165b54f75e9c005cf5b04ade7">~EventManager</a>();</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a5dc2cce0ebe578b1ce4e4a3cd9730cb0">HandleEvent</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keyword">const</span> <a class="codeRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1String.html">libcomp::String</a>&amp; eventID, int32_t sourceEntityID,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;Zone&gt;&amp; zone = <span class="keyword">nullptr</span>,</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <a class="code" href="structchannel_1_1EventOptions.html">EventOptions</a> options = {});</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    std::shared_ptr&lt;objects::EventInstance&gt; <a class="code" href="classchannel_1_1EventManager.html#af74d5ba9a47b7f7abf30c221b1b80ed3">PrepareEvent</a>(</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keyword">const</span> <a class="codeRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1String.html">libcomp::String</a>&amp; eventID, int32_t sourceEntityID);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a107a9638d9422302d259dc34251f2e89">StartSystemEvent</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        int32_t sourceEntityID);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    int32_t <a class="code" href="classchannel_1_1EventManager.html#ae1465767d412e978f7b1a2fbf12e28d5">InterruptEvent</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a1c5b3827f27366891374d68708c1c8ca">RequestMenu</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        int32_t menuType, int32_t shopID = 0, int32_t sourceEntityID = 0,</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordtype">bool</span> allowInsert = <span class="keyword">false</span>);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#adf2a129512c7a1da64dc0001a6d6c317">HandleResponse</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        int32_t responseID, int64_t objectID = -1);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a8c91a8b76b1ae6382b53f20272c31611">SetChannelLoginEvent</a>(</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a2458e528d385522fa2d79de9f70f1e9b">ContinueChannelChangeEvent</a>(</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a97b93981c40b1d07882dbe615db5e8cc">UpdateQuest</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        int16_t questID, int8_t phase, <span class="keywordtype">bool</span> forceUpdate = <span class="keyword">false</span>,</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keyword">const</span> std::unordered_map&lt;int32_t, int32_t&gt;&amp; updateFlags = {});</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchannel_1_1EventManager.html#acf7c31750060885ae5ee6375f238d787">UpdateQuestKillCount</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keyword">const</span> std::unordered_map&lt;uint32_t, int32_t&gt;&amp; kills);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchannel_1_1EventManager.html#addac608e64c07e6d88201daec806917c">UpdateQuestTargetEnemies</a>(</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchannel_1_1EventManager.html#a5de8063f4d63ed8285b85acdf842a0a0">SendActiveQuestList</a>(</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchannel_1_1EventManager.html#ad82e100059abaf388eb0967950c3e244">SendCompletedQuestList</a>(</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    std::shared_ptr&lt;objects::DemonQuest&gt; <a class="code" href="classchannel_1_1EventManager.html#ac6018f15921c2c0370cc22f249effa18">GenerateDemonQuest</a>(</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;CharacterState&gt;&amp; cState,</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;objects::Demon&gt;&amp; demon);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a4a830092dfe60891e04cafbb9c3babf3">UpdateDemonQuestCount</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        objects::DemonQuest::Type_t questType, uint32_t targetType = 0,</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        int32_t increment = 0);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a96ab46ee72f397ea4e10edb41304b49a">ResetDemonQuests</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    int8_t <a class="code" href="classchannel_1_1EventManager.html#af3d3e64e6e8b2b4c76d0b9c005d39691">EndDemonQuest</a>(<span class="keyword">const</span> std::shared_ptr&lt;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <a class="code" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a>&gt;&amp; client, int8_t failCode = 2);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a5dc2cce0ebe578b1ce4e4a3cd9730cb0">HandleEvent</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;objects::EventInstance&gt;&amp; instance);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchannel_1_1EventManager.html#a3ccac5b2968944bd90bf8ab13cb2ae5d">StartWebGame</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keyword">const</span> <a class="codeRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1String.html">libcomp::String</a>&amp; sessionID);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchannel_1_1EventManager.html#ad19c9a2167d681f9c68dbb1bd11466dc">EndWebGame</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordtype">bool</span> notifyWorld);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a740a71bd9a7c7399e8702d3b387f3fa6">EvaluateEventConditions</a>(</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="keyword">const</span> std::list&lt;std::shared_ptr&lt;objects::EventCondition&gt;&gt;&amp; conditions);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="structchannel_1_1EventManager_1_1EventContext.html">  332</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    {</div><div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="structchannel_1_1EventManager_1_1EventContext.html#a4e04da17fb960196a68881301972512d">  334</a></span>&#160;        std::shared_ptr&lt;ChannelClientConnection&gt; <a class="code" href="structchannel_1_1EventManager_1_1EventContext.html#a4e04da17fb960196a68881301972512d">Client</a>;</div><div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="structchannel_1_1EventManager_1_1EventContext.html#a304d065f872fcdae02bb0e7bc2e3b23a">  335</a></span>&#160;        std::shared_ptr&lt;Zone&gt; <a class="code" href="structchannel_1_1EventManager_1_1EventContext.html#a304d065f872fcdae02bb0e7bc2e3b23a">CurrentZone</a>;</div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="structchannel_1_1EventManager_1_1EventContext.html#a4bf5f26af1eaecc898688bc51d0c08db">  336</a></span>&#160;        std::shared_ptr&lt;objects::EventInstance&gt; <a class="code" href="structchannel_1_1EventManager_1_1EventContext.html#a4bf5f26af1eaecc898688bc51d0c08db">EventInstance</a>;</div><div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="structchannel_1_1EventManager_1_1EventContext.html#a57b019de1f69a5e064a4e038be8fb439">  337</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="structchannel_1_1EventManager_1_1EventContext.html#a57b019de1f69a5e064a4e038be8fb439">AutoOnly</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    };</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a5dc2cce0ebe578b1ce4e4a3cd9730cb0">HandleEvent</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchannel_1_1EventManager.html#a13c380a49ac259fe3df161ea066d11ff">SetEventStatus</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#af55f5eb904c1695a400e18ef7e2e3869">EvaluateQuestConditions</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx, int16_t questID);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#ae265d45a2e9e02e750ed95a063a951ed">EvaluateEventCondition</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx,</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;objects::EventCondition&gt;&amp; condition);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a740a71bd9a7c7399e8702d3b387f3fa6">EvaluateEventConditions</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx,</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keyword">const</span> std::list&lt;std::shared_ptr&lt;objects::EventCondition&gt;&gt;&amp; conditions);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a1087cc0b3c41a4b167ca103d1915e96a">EvaluateCondition</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx,</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;ActiveEntityState&gt;&amp; eState,</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;objects::EventConditionData&gt;&amp; condition,</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <a class="code" href="EventManager_8h.html#a82224bae604284567c8ac6eae2113af5">EventCompareMode</a> compareMode = EventCompareMode::DEFAULT_COMPARE);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#aaff0054d0f24f21664bbff167d6341af">EvaluateQuestPhaseRequirements</a>(<span class="keyword">const</span> std::shared_ptr&lt;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a>&gt;&amp; client, int16_t questID, int8_t phase);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#ae069693af178c3f23c7337488ed90311">EvaluatePartnerCondition</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;objects::EventCondition&gt;&amp; condition);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a69d51508c937f49dc8de38baee1bb810">EvaluateQuestCondition</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx,</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;objects::EventCondition&gt;&amp; condition);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a061582b19ce0d68e5f39027884b7837e">EvaluateFlagStates</a>(<span class="keyword">const</span> std::unordered_map&lt;int32_t, int32_t&gt;&amp; flagStates,</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;objects::EventFlagCondition&gt;&amp; condition);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a014aa6f08876d941843a502c34cf1ec4">Compare</a>(int32_t value1, int32_t value2, int32_t value3,</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <a class="code" href="EventManager_8h.html#a82224bae604284567c8ac6eae2113af5">EventCompareMode</a> compareMode, <a class="code" href="EventManager_8h.html#a82224bae604284567c8ac6eae2113af5">EventCompareMode</a> defaultCompare =</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        EventCompareMode::DEFAULT_COMPARE, uint16_t validCompareSetting = 63);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchannel_1_1EventManager.html#a80e142bc773a3dba64fc3bf4a44129c0">AddDemonQuestRewards</a>(<span class="keyword">const</span> std::shared_ptr&lt;CharacterState&gt;&amp; cState,</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;objects::Demon&gt;&amp; demon,</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        std::shared_ptr&lt;objects::DemonQuest&gt;&amp; dQuest);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchannel_1_1EventManager.html#a4e3ed0106a6af2dc7415def68b62d436">HandleNext</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a8217506a5619a61808b222eb50ad2956">NPCMessage</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a2db99d518202bc6ee783e9f7a3feab78">ExNPCMessage</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a4c4f2505575ac3bc7c0a76d760d9315c">Multitalk</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#acbfa9bc2cb9f0dc2c1439cf140995d17">Prompt</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#adbb3944eb8d606ba6b055ca5064a00a2">PlayScene</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#af65ef1f610abcbb26d463d351021a960">OpenMenu</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#aa61f297d0c5e1619fe3f42713fa804f2">PerformActions</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a6d80733581e311434026103d5d782a2b">Direction</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a941c5039a80ea633ac12db9ca2634dac">ITime</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a27c5a25166b0d544a7a09fda1072127d">EndEvent</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a1249bebb5cf53b1ffe50756eee84380c">HandleTriFusion</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a5ce5a8a353a2e5563ff4845be2fc8270">HandleWebGame</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div><div class="line"><a name="l00566"></a><span class="lineno"><a class="line" href="classchannel_1_1EventManager.html#a3ae98af92420583911a3e069941e5280">  566</a></span>&#160;    std::shared_ptr&lt;T&gt; <a class="code" href="classchannel_1_1EventManager.html#a3ae98af92420583911a3e069941e5280">GetEvent</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx)</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keyword">auto</span> inst = ctx.<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html#a4bf5f26af1eaecc898688bc51d0c08db">EventInstance</a>;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="keyword">auto</span> e = inst-&gt;GetEvent();</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <span class="keyword">auto</span> ptr = std::dynamic_pointer_cast&lt;T&gt;(e);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="keywordflow">if</span>(ptr &amp;&amp; !ptr-&gt;GetTransformScriptID().IsEmpty())</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        {</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            <span class="comment">// Make a copy and transform</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            ptr = std::make_shared&lt;T&gt;(*ptr);</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <span class="keyword">auto</span> engine = std::make_shared&lt;libcomp::ScriptEngine&gt;();</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            engine-&gt;Using&lt;T&gt;();</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="classchannel_1_1EventManager.html#a18475ffd22a6cd35016427f9d48df05b">PrepareTransformScript</a>(ctx, engine))</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            {</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                <span class="comment">// Store the event for transformation</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                Sqrat::Function f(Sqrat::RootTable(engine-&gt;GetVM()),</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                    <span class="stringliteral">&quot;prepare&quot;</span>);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                <span class="keyword">auto</span> scriptResult = !f.IsNull() ? f.Evaluate&lt;int32_t&gt;(ptr) : 0;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                <span class="comment">// Apply the transformation</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                <span class="keywordflow">if</span>(scriptResult &amp;&amp; *scriptResult == 0 &amp;&amp;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                    <a class="code" href="classchannel_1_1EventManager.html#a9424825d0096c55f5b1bcd49fe2fd429">TransformEvent</a>(ctx, engine) &amp;&amp; <a class="code" href="classchannel_1_1EventManager.html#a2a9845adb9272ff0f5f4e497630ad274">VerifyITime</a>(ctx, ptr))</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                {</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                    <span class="comment">// Set new event</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                    inst-&gt;SetEvent(ptr);</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    <span class="keywordflow">return</span> ptr;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                }</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            }</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            <span class="comment">// Return failure</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        }</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classchannel_1_1EventManager.html#a2a9845adb9272ff0f5f4e497630ad274">VerifyITime</a>(ctx, ptr) ? ptr : <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    }</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a18475ffd22a6cd35016427f9d48df05b">PrepareTransformScript</a>(EventContext&amp; ctx,</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        std::shared_ptr&lt;libcomp::ScriptEngine&gt; engine);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a9424825d0096c55f5b1bcd49fe2fd429">TransformEvent</a>(EventContext&amp; ctx,</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        std::shared_ptr&lt;libcomp::ScriptEngine&gt; engine);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a2a9845adb9272ff0f5f4e497630ad274">VerifyITime</a>(EventContext&amp; ctx, std::shared_ptr&lt;objects::Event&gt; e);</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno"><a class="line" href="classchannel_1_1EventManager.html#aff29d8d9c13936739a82e15f36a41310">  632</a></span>&#160;    std::weak_ptr&lt;ChannelServer&gt; <a class="code" href="classchannel_1_1EventManager.html#aff29d8d9c13936739a82e15f36a41310">mServer</a>;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;};</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;} <span class="comment">// namespace channel</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="preprocessor">#endif // SERVER_CHANNEL_SRC_EVENTMANAGER_H</span></div><div class="ttc" id="structchannel_1_1EventManager_1_1EventContext_html_a4e04da17fb960196a68881301972512d"><div class="ttname"><a href="structchannel_1_1EventManager_1_1EventContext.html#a4e04da17fb960196a68881301972512d">channel::EventManager::EventContext::Client</a></div><div class="ttdeci">std::shared_ptr&lt; ChannelClientConnection &gt; Client</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00334">EventManager.h:334</a></div></div>
<div class="ttc" id="structchannel_1_1EventOptions_html"><div class="ttname"><a href="structchannel_1_1EventOptions.html">channel::EventOptions</a></div><div class="ttdoc">Struct containing optional parameters supplied to EventManager::HandleEvent to simplify the function ...</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00067">EventManager.h:67</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a014aa6f08876d941843a502c34cf1ec4"><div class="ttname"><a href="classchannel_1_1EventManager.html#a014aa6f08876d941843a502c34cf1ec4">channel::EventManager::Compare</a></div><div class="ttdeci">bool Compare(int32_t value1, int32_t value2, int32_t value3, EventCompareMode compareMode, EventCompareMode defaultCompare=EventCompareMode::DEFAULT_COMPARE, uint16_t validCompareSetting=63)</div><div class="ttdoc">Compare values using the supplied compare mode from an event condition. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l01280">EventManager.cpp:1280</a></div></div>
<div class="ttc" id="namespacechannel_html"><div class="ttname"><a href="namespacechannel.html">channel</a></div><div class="ttdef"><b>Definition:</b> <a href="AccountManager_8h_source.html#l00045">AccountManager.h:45</a></div></div>
<div class="ttc" id="namespacelibcomp_html"><div class="ttname"><a href="namespacelibcomp.html">libcomp</a></div></div>
<div class="ttc" id="structchannel_1_1EventOptions_html_acb10083cdb281780f97ec7fffc809aa2"><div class="ttname"><a href="structchannel_1_1EventOptions.html#acb10083cdb281780f97ec7fffc809aa2">channel::EventOptions::ActionGroupID</a></div><div class="ttdeci">uint32_t ActionGroupID</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00071">EventManager.h:71</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_addac608e64c07e6d88201daec806917c"><div class="ttname"><a href="classchannel_1_1EventManager.html#addac608e64c07e6d88201daec806917c">channel::EventManager::UpdateQuestTargetEnemies</a></div><div class="ttdeci">void UpdateQuestTargetEnemies(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">Update the registered set of enemy types that need to be killed to complete the current quests for th...</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l02546">EventManager.cpp:2546</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a1087cc0b3c41a4b167ca103d1915e96a"><div class="ttname"><a href="classchannel_1_1EventManager.html#a1087cc0b3c41a4b167ca103d1915e96a">channel::EventManager::EvaluateCondition</a></div><div class="ttdeci">bool EvaluateCondition(EventContext &amp;ctx, const std::shared_ptr&lt; ActiveEntityState &gt; &amp;eState, const std::shared_ptr&lt; objects::EventConditionData &gt; &amp;condition, EventCompareMode compareMode=EventCompareMode::DEFAULT_COMPARE)</div><div class="ttdoc">Evaluate a standard event condition. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l01354">EventManager.cpp:1354</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_ac6018f15921c2c0370cc22f249effa18"><div class="ttname"><a href="classchannel_1_1EventManager.html#ac6018f15921c2c0370cc22f249effa18">channel::EventManager::GenerateDemonQuest</a></div><div class="ttdeci">std::shared_ptr&lt; objects::DemonQuest &gt; GenerateDemonQuest(const std::shared_ptr&lt; CharacterState &gt; &amp;cState, const std::shared_ptr&lt; objects::Demon &gt; &amp;demon)</div><div class="ttdoc">Generate a demon quest for the supplied character and demon. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l02634">EventManager.cpp:2634</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a1249bebb5cf53b1ffe50756eee84380c"><div class="ttname"><a href="classchannel_1_1EventManager.html#a1249bebb5cf53b1ffe50756eee84380c">channel::EventManager::HandleTriFusion</a></div><div class="ttdeci">bool HandleTriFusion(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">Execute the appropriate (party) tri-fusion event responses. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04483">EventManager.cpp:4483</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a061582b19ce0d68e5f39027884b7837e"><div class="ttname"><a href="classchannel_1_1EventManager.html#a061582b19ce0d68e5f39027884b7837e">channel::EventManager::EvaluateFlagStates</a></div><div class="ttdeci">bool EvaluateFlagStates(const std::unordered_map&lt; int32_t, int32_t &gt; &amp;flagStates, const std::shared_ptr&lt; objects::EventFlagCondition &gt; &amp;condition)</div><div class="ttdoc">Evaluate a set of flag states for a standard condition. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l01205">EventManager.cpp:1205</a></div></div>
<div class="ttc" id="EnumMap_8h_html"><div class="ttname"><a href="../../../libcomp/html/EnumMap_8h.html">EnumMap.h</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a4c4f2505575ac3bc7c0a76d760d9315c"><div class="ttname"><a href="classchannel_1_1EventManager.html#a4c4f2505575ac3bc7c0a76d760d9315c">channel::EventManager::Multitalk</a></div><div class="ttdeci">bool Multitalk(EventContext &amp;ctx)</div><div class="ttdoc">Start a multitalk event clientside. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04144">EventManager.cpp:4144</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_adf2a129512c7a1da64dc0001a6d6c317"><div class="ttname"><a href="classchannel_1_1EventManager.html#adf2a129512c7a1da64dc0001a6d6c317">channel::EventManager::HandleResponse</a></div><div class="ttdeci">bool HandleResponse(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, int32_t responseID, int64_t objectID=-1)</div><div class="ttdoc">React to a response based on the current event of a client. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00273">EventManager.cpp:273</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a5ce5a8a353a2e5563ff4845be2fc8270"><div class="ttname"><a href="classchannel_1_1EventManager.html#a5ce5a8a353a2e5563ff4845be2fc8270">channel::EventManager::HandleWebGame</a></div><div class="ttdeci">bool HandleWebGame(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">Handle all web-game setup steps if no session already exists. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04544">EventManager.cpp:4544</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_ac1fb0b1145490e8c492eb19b017c5bbd"><div class="ttname"><a href="classchannel_1_1EventManager.html#ac1fb0b1145490e8c492eb19b017c5bbd">channel::EventManager::EventManager</a></div><div class="ttdeci">EventManager(const std::weak_ptr&lt; ChannelServer &gt; &amp;server)</div><div class="ttdoc">Create a new EventManager. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00127">EventManager.cpp:127</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a5dc2cce0ebe578b1ce4e4a3cd9730cb0"><div class="ttname"><a href="classchannel_1_1EventManager.html#a5dc2cce0ebe578b1ce4e4a3cd9730cb0">channel::EventManager::HandleEvent</a></div><div class="ttdeci">bool HandleEvent(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, const libcomp::String &amp;eventID, int32_t sourceEntityID, const std::shared_ptr&lt; Zone &gt; &amp;zone=nullptr, EventOptions options={})</div><div class="ttdoc">Handle a new event based upon the supplied ID, relative to an optional entity. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00136">EventManager.cpp:136</a></div></div>
<div class="ttc" id="structchannel_1_1EventOptions_html_a445df01daf4d1e5ad566654d6a4779da"><div class="ttname"><a href="structchannel_1_1EventOptions.html#a445df01daf4d1e5ad566654d6a4779da">channel::EventOptions::NoInterrupt</a></div><div class="ttdeci">bool NoInterrupt</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00078">EventManager.h:78</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a96ab46ee72f397ea4e10edb41304b49a"><div class="ttname"><a href="classchannel_1_1EventManager.html#a96ab46ee72f397ea4e10edb41304b49a">channel::EventManager::ResetDemonQuests</a></div><div class="ttdeci">bool ResetDemonQuests(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">Reset the quests available in from the demons in the COMP and set the demon quest daily count back to...</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l03512">EventManager.cpp:3512</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_acbfa9bc2cb9f0dc2c1439cf140995d17"><div class="ttname"><a href="classchannel_1_1EventManager.html#acbfa9bc2cb9f0dc2c1439cf140995d17">channel::EventManager::Prompt</a></div><div class="ttdeci">bool Prompt(EventContext &amp;ctx)</div><div class="ttdoc">Prompt the player to choose from set options. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04164">EventManager.cpp:4164</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_ae265d45a2e9e02e750ed95a063a951ed"><div class="ttname"><a href="classchannel_1_1EventManager.html#ae265d45a2e9e02e750ed95a063a951ed">channel::EventManager::EvaluateEventCondition</a></div><div class="ttdeci">bool EvaluateEventCondition(EventContext &amp;ctx, const std::shared_ptr&lt; objects::EventCondition &gt; &amp;condition)</div><div class="ttdoc">Evaluate an event condition. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00857">EventManager.cpp:857</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_ad19c9a2167d681f9c68dbb1bd11466dc"><div class="ttname"><a href="classchannel_1_1EventManager.html#ad19c9a2167d681f9c68dbb1bd11466dc">channel::EventManager::EndWebGame</a></div><div class="ttdeci">void EndWebGame(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, bool notifyWorld)</div><div class="ttdoc">End any web-game session currently active for the client. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l03761">EventManager.cpp:3761</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a13c380a49ac259fe3df161ea066d11ff"><div class="ttname"><a href="classchannel_1_1EventManager.html#a13c380a49ac259fe3df161ea066d11ff">channel::EventManager::SetEventStatus</a></div><div class="ttdeci">void SetEventStatus(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">Set the overhead status icon of the client entity to indicate they are involved in an event...</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l03932">EventManager.cpp:3932</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a4a830092dfe60891e04cafbb9c3babf3"><div class="ttname"><a href="classchannel_1_1EventManager.html#a4a830092dfe60891e04cafbb9c3babf3">channel::EventManager::UpdateDemonQuestCount</a></div><div class="ttdeci">bool UpdateDemonQuestCount(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, objects::DemonQuest::Type_t questType, uint32_t targetType=0, int32_t increment=0)</div><div class="ttdoc">Update the target count for the client&amp;#39;s active demon quest if it matches the supplied quest type...</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l03440">EventManager.cpp:3440</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a18475ffd22a6cd35016427f9d48df05b"><div class="ttname"><a href="classchannel_1_1EventManager.html#a18475ffd22a6cd35016427f9d48df05b">channel::EventManager::PrepareTransformScript</a></div><div class="ttdeci">bool PrepareTransformScript(EventContext &amp;ctx, std::shared_ptr&lt; libcomp::ScriptEngine &gt; engine)</div><div class="ttdoc">Prepare the transformation script from the event on the supplied script engine. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04590">EventManager.cpp:4590</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a1c5b3827f27366891374d68708c1c8ca"><div class="ttname"><a href="classchannel_1_1EventManager.html#a1c5b3827f27366891374d68708c1c8ca">channel::EventManager::RequestMenu</a></div><div class="ttdeci">bool RequestMenu(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, int32_t menuType, int32_t shopID=0, int32_t sourceEntityID=0, bool allowInsert=false)</div><div class="ttdoc">Request an open menu event be started for the supplied client. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00223">EventManager.cpp:223</a></div></div>
<div class="ttc" id="classchannel_1_1ChannelClientConnection_html"><div class="ttname"><a href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a></div><div class="ttdoc">Represents a connection to the game client. </div><div class="ttdef"><b>Definition:</b> <a href="ChannelClientConnection_8h_source.html#l00044">ChannelClientConnection.h:44</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a941c5039a80ea633ac12db9ca2634dac"><div class="ttname"><a href="classchannel_1_1EventManager.html#a941c5039a80ea633ac12db9ca2634dac">channel::EventManager::ITime</a></div><div class="ttdeci">bool ITime(EventContext &amp;ctx)</div><div class="ttdoc">Send the player an I-Time request. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04361">EventManager.cpp:4361</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_aa61f297d0c5e1619fe3f42713fa804f2"><div class="ttname"><a href="classchannel_1_1EventManager.html#aa61f297d0c5e1619fe3f42713fa804f2">channel::EventManager::PerformActions</a></div><div class="ttdeci">bool PerformActions(EventContext &amp;ctx)</div><div class="ttdoc">Perform one or many actions from the same types of options configured for object interaction. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04318">EventManager.cpp:4318</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_af74d5ba9a47b7f7abf30c221b1b80ed3"><div class="ttname"><a href="classchannel_1_1EventManager.html#af74d5ba9a47b7f7abf30c221b1b80ed3">channel::EventManager::PrepareEvent</a></div><div class="ttdeci">std::shared_ptr&lt; objects::EventInstance &gt; PrepareEvent(const libcomp::String &amp;eventID, int32_t sourceEntityID)</div><div class="ttdoc">Prepare a new event based upon the supplied ID, relative to an optional entity. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00160">EventManager.cpp:160</a></div></div>
<div class="ttc" id="ChannelClientConnection_8h_html"><div class="ttname"><a href="ChannelClientConnection_8h.html">ChannelClientConnection.h</a></div><div class="ttdoc">Channel client connection class. </div></div>
<div class="ttc" id="classlibcomp_1_1String_html"><div class="ttname"><a href="../../../libcomp/html/classlibcomp_1_1String.html">libcomp::String</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a2e43e8b165b54f75e9c005cf5b04ade7"><div class="ttname"><a href="classchannel_1_1EventManager.html#a2e43e8b165b54f75e9c005cf5b04ade7">channel::EventManager::~EventManager</a></div><div class="ttdeci">~EventManager()</div><div class="ttdoc">Clean up the EventManager. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00132">EventManager.cpp:132</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a3ccac5b2968944bd90bf8ab13cb2ae5d"><div class="ttname"><a href="classchannel_1_1EventManager.html#a3ccac5b2968944bd90bf8ab13cb2ae5d">channel::EventManager::StartWebGame</a></div><div class="ttdeci">void StartWebGame(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, const libcomp::String &amp;sessionID)</div><div class="ttdoc">Start a pending web-game session with a session ID received from the world server. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l03719">EventManager.cpp:3719</a></div></div>
<div class="ttc" id="structchannel_1_1EventManager_1_1EventContext_html"><div class="ttname"><a href="structchannel_1_1EventManager_1_1EventContext.html">channel::EventManager::EventContext</a></div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00332">EventManager.h:332</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_ad82e100059abaf388eb0967950c3e244"><div class="ttname"><a href="classchannel_1_1EventManager.html#ad82e100059abaf388eb0967950c3e244">channel::EventManager::SendCompletedQuestList</a></div><div class="ttdeci">void SendCompletedQuestList(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">Send the client&amp;#39;s completed quest list. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l02618">EventManager.cpp:2618</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a97b93981c40b1d07882dbe615db5e8cc"><div class="ttname"><a href="classchannel_1_1EventManager.html#a97b93981c40b1d07882dbe615db5e8cc">channel::EventManager::UpdateQuest</a></div><div class="ttdeci">bool UpdateQuest(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, int16_t questID, int8_t phase, bool forceUpdate=false, const std::unordered_map&lt; int32_t, int32_t &gt; &amp;updateFlags={})</div><div class="ttdoc">Start, update or complete a quest based upon the quest ID and phase supplied. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00559">EventManager.cpp:559</a></div></div>
<div class="ttc" id="structchannel_1_1EventManager_1_1EventContext_html_a304d065f872fcdae02bb0e7bc2e3b23a"><div class="ttname"><a href="structchannel_1_1EventManager_1_1EventContext.html#a304d065f872fcdae02bb0e7bc2e3b23a">channel::EventManager::EventContext::CurrentZone</a></div><div class="ttdeci">std::shared_ptr&lt; Zone &gt; CurrentZone</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00335">EventManager.h:335</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_aaff0054d0f24f21664bbff167d6341af"><div class="ttname"><a href="classchannel_1_1EventManager.html#aaff0054d0f24f21664bbff167d6341af">channel::EventManager::EvaluateQuestPhaseRequirements</a></div><div class="ttdeci">bool EvaluateQuestPhaseRequirements(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, int16_t questID, int8_t phase)</div><div class="ttdoc">Evaluate each of the requirements to complete the current quest phase. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l02471">EventManager.cpp:2471</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a80e142bc773a3dba64fc3bf4a44129c0"><div class="ttname"><a href="classchannel_1_1EventManager.html#a80e142bc773a3dba64fc3bf4a44129c0">channel::EventManager::AddDemonQuestRewards</a></div><div class="ttdeci">void AddDemonQuestRewards(const std::shared_ptr&lt; CharacterState &gt; &amp;cState, const std::shared_ptr&lt; objects::Demon &gt; &amp;demon, std::shared_ptr&lt; objects::DemonQuest &gt; &amp;dQuest)</div><div class="ttdoc">Calculate and add all rewards to the supplied demon quest. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l03142">EventManager.cpp:3142</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_adbb3944eb8d606ba6b055ca5064a00a2"><div class="ttname"><a href="classchannel_1_1EventManager.html#adbb3944eb8d606ba6b055ca5064a00a2">channel::EventManager::PlayScene</a></div><div class="ttdeci">bool PlayScene(EventContext &amp;ctx)</div><div class="ttdoc">Play an in-game cinematic clientside. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04212">EventManager.cpp:4212</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a69d51508c937f49dc8de38baee1bb810"><div class="ttname"><a href="classchannel_1_1EventManager.html#a69d51508c937f49dc8de38baee1bb810">channel::EventManager::EvaluateQuestCondition</a></div><div class="ttdeci">bool EvaluateQuestCondition(EventContext &amp;ctx, const std::shared_ptr&lt; objects::EventCondition &gt; &amp;condition)</div><div class="ttdoc">Evaluate a quest based event condition. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l01119">EventManager.cpp:1119</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a740a71bd9a7c7399e8702d3b387f3fa6"><div class="ttname"><a href="classchannel_1_1EventManager.html#a740a71bd9a7c7399e8702d3b387f3fa6">channel::EventManager::EvaluateEventConditions</a></div><div class="ttdeci">bool EvaluateEventConditions(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, const std::list&lt; std::shared_ptr&lt; objects::EventCondition &gt;&gt; &amp;conditions)</div><div class="ttdoc">Evaluate a list of event conditions for a client. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l01327">EventManager.cpp:1327</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a2db99d518202bc6ee783e9f7a3feab78"><div class="ttname"><a href="classchannel_1_1EventManager.html#a2db99d518202bc6ee783e9f7a3feab78">channel::EventManager::ExNPCMessage</a></div><div class="ttdeci">bool ExNPCMessage(EventContext &amp;ctx)</div><div class="ttdoc">Send an extended NPC based message to the client. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04122">EventManager.cpp:4122</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a5de8063f4d63ed8285b85acdf842a0a0"><div class="ttname"><a href="classchannel_1_1EventManager.html#a5de8063f4d63ed8285b85acdf842a0a0">channel::EventManager::SendActiveQuestList</a></div><div class="ttdeci">void SendActiveQuestList(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">Send the client&amp;#39;s active quest list. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l02592">EventManager.cpp:2592</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_af3d3e64e6e8b2b4c76d0b9c005d39691"><div class="ttname"><a href="classchannel_1_1EventManager.html#af3d3e64e6e8b2b4c76d0b9c005d39691">channel::EventManager::EndDemonQuest</a></div><div class="ttdeci">int8_t EndDemonQuest(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, int8_t failCode=2)</div><div class="ttdoc">End the client&amp;#39;s demon quest in success or failure. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l03574">EventManager.cpp:3574</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a8c91a8b76b1ae6382b53f20272c31611"><div class="ttname"><a href="classchannel_1_1EventManager.html#a8c91a8b76b1ae6382b53f20272c31611">channel::EventManager::SetChannelLoginEvent</a></div><div class="ttdeci">bool SetChannelLoginEvent(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">Set the supplied client&amp;#39;s ChannelLogin active event and event index so the event chain can be continu...</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00470">EventManager.cpp:470</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a9424825d0096c55f5b1bcd49fe2fd429"><div class="ttname"><a href="classchannel_1_1EventManager.html#a9424825d0096c55f5b1bcd49fe2fd429">channel::EventManager::TransformEvent</a></div><div class="ttdeci">bool TransformEvent(EventContext &amp;ctx, std::shared_ptr&lt; libcomp::ScriptEngine &gt; engine)</div><div class="ttdoc">Finish preparing and execute the tranformation script configured for the event. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04618">EventManager.cpp:4618</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html"><div class="ttname"><a href="classchannel_1_1EventManager.html">channel::EventManager</a></div><div class="ttdoc">Manager class in charge of processing event sequences as well as quest phase progression and conditio...</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00088">EventManager.h:88</a></div></div>
<div class="ttc" id="structchannel_1_1EventManager_1_1EventContext_html_a4bf5f26af1eaecc898688bc51d0c08db"><div class="ttname"><a href="structchannel_1_1EventManager_1_1EventContext.html#a4bf5f26af1eaecc898688bc51d0c08db">channel::EventManager::EventContext::EventInstance</a></div><div class="ttdeci">std::shared_ptr&lt; objects::EventInstance &gt; EventInstance</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00336">EventManager.h:336</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a3ae98af92420583911a3e069941e5280"><div class="ttname"><a href="classchannel_1_1EventManager.html#a3ae98af92420583911a3e069941e5280">channel::EventManager::GetEvent</a></div><div class="ttdeci">std::shared_ptr&lt; T &gt; GetEvent(EventContext &amp;ctx)</div><div class="ttdoc">Get the event from the supplied context converted to the proper type. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00566">EventManager.h:566</a></div></div>
<div class="ttc" id="EventManager_8h_html_a82224bae604284567c8ac6eae2113af5"><div class="ttname"><a href="EventManager_8h.html#a82224bae604284567c8ac6eae2113af5">EventCompareMode</a></div><div class="ttdeci">objects::EventCondition::CompareMode_t EventCompareMode</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00056">EventManager.h:56</a></div></div>
<div class="ttc" id="structchannel_1_1EventManager_1_1EventContext_html_a57b019de1f69a5e064a4e038be8fb439"><div class="ttname"><a href="structchannel_1_1EventManager_1_1EventContext.html#a57b019de1f69a5e064a4e038be8fb439">channel::EventManager::EventContext::AutoOnly</a></div><div class="ttdeci">bool AutoOnly</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00337">EventManager.h:337</a></div></div>
<div class="ttc" id="namespaceobjects_html"><div class="ttname"><a href="namespaceobjects.html">objects</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_ae1465767d412e978f7b1a2fbf12e28d5"><div class="ttname"><a href="classchannel_1_1EventManager.html#ae1465767d412e978f7b1a2fbf12e28d5">channel::EventManager::InterruptEvent</a></div><div class="ttdeci">int32_t InterruptEvent(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">Stop the client&amp;#39;s current event and return the source entity ID if one existed. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00202">EventManager.cpp:202</a></div></div>
<div class="ttc" id="ScriptEngine_8h_html"><div class="ttname"><a href="../../../libcomp/html/ScriptEngine_8h.html">ScriptEngine.h</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_ae069693af178c3f23c7337488ed90311"><div class="ttname"><a href="classchannel_1_1EventManager.html#ae069693af178c3f23c7337488ed90311">channel::EventManager::EvaluatePartnerCondition</a></div><div class="ttdeci">bool EvaluatePartnerCondition(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, const std::shared_ptr&lt; objects::EventCondition &gt; &amp;condition)</div><div class="ttdoc">Evaluate a partner demon based event condition. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l01046">EventManager.cpp:1046</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a8217506a5619a61808b222eb50ad2956"><div class="ttname"><a href="classchannel_1_1EventManager.html#a8217506a5619a61808b222eb50ad2956">channel::EventManager::NPCMessage</a></div><div class="ttdeci">bool NPCMessage(EventContext &amp;ctx)</div><div class="ttdoc">Send an NPC based message to the client. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04101">EventManager.cpp:4101</a></div></div>
<div class="ttc" id="structchannel_1_1EventOptions_html_a9005291f7a1e38cdf492f94bdd87ce50"><div class="ttname"><a href="structchannel_1_1EventOptions.html#a9005291f7a1e38cdf492f94bdd87ce50">channel::EventOptions::AutoOnly</a></div><div class="ttdeci">bool AutoOnly</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00074">EventManager.h:74</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_af65ef1f610abcbb26d463d351021a960"><div class="ttname"><a href="classchannel_1_1EventManager.html#af65ef1f610abcbb26d463d351021a960">channel::EventManager::OpenMenu</a></div><div class="ttdeci">bool OpenMenu(EventContext &amp;ctx)</div><div class="ttdoc">Open a menu to the player representing various facilities and functions. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04230">EventManager.cpp:4230</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a107a9638d9422302d259dc34251f2e89"><div class="ttname"><a href="classchannel_1_1EventManager.html#a107a9638d9422302d259dc34251f2e89">channel::EventManager::StartSystemEvent</a></div><div class="ttdeci">bool StartSystemEvent(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, int32_t sourceEntityID)</div><div class="ttdoc">Start a placeholder &quot;system&quot; event that does not end until explicitly requested. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00183">EventManager.cpp:183</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_af55f5eb904c1695a400e18ef7e2e3869"><div class="ttname"><a href="classchannel_1_1EventManager.html#af55f5eb904c1695a400e18ef7e2e3869">channel::EventManager::EvaluateQuestConditions</a></div><div class="ttdeci">bool EvaluateQuestConditions(EventContext &amp;ctx, int16_t questID)</div><div class="ttdoc">Evaluate each of the valid condition sets required to start a quest. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00813">EventManager.cpp:813</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a4e3ed0106a6af2dc7415def68b62d436"><div class="ttname"><a href="classchannel_1_1EventManager.html#a4e3ed0106a6af2dc7415def68b62d436">channel::EventManager::HandleNext</a></div><div class="ttdeci">void HandleNext(EventContext &amp;ctx)</div><div class="ttdoc">Progress or pop to the next sequential event if one exists. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l03938">EventManager.cpp:3938</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a2458e528d385522fa2d79de9f70f1e9b"><div class="ttname"><a href="classchannel_1_1EventManager.html#a2458e528d385522fa2d79de9f70f1e9b">channel::EventManager::ContinueChannelChangeEvent</a></div><div class="ttdeci">bool ContinueChannelChangeEvent(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">Continue an event that was in progress when the supplied client changed from another channel to the c...</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00498">EventManager.cpp:498</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a27c5a25166b0d544a7a09fda1072127d"><div class="ttname"><a href="classchannel_1_1EventManager.html#a27c5a25166b0d544a7a09fda1072127d">channel::EventManager::EndEvent</a></div><div class="ttdeci">bool EndEvent(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">End the current event sequence. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04454">EventManager.cpp:4454</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_aff29d8d9c13936739a82e15f36a41310"><div class="ttname"><a href="classchannel_1_1EventManager.html#aff29d8d9c13936739a82e15f36a41310">channel::EventManager::mServer</a></div><div class="ttdeci">std::weak_ptr&lt; ChannelServer &gt; mServer</div><div class="ttdoc">Pointer to the channel server. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00632">EventManager.h:632</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a6d80733581e311434026103d5d782a2b"><div class="ttname"><a href="classchannel_1_1EventManager.html#a6d80733581e311434026103d5d782a2b">channel::EventManager::Direction</a></div><div class="ttdeci">bool Direction(EventContext &amp;ctx)</div><div class="ttdoc">Signify a direction to the player. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04344">EventManager.cpp:4344</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_acf7c31750060885ae5ee6375f238d787"><div class="ttname"><a href="classchannel_1_1EventManager.html#acf7c31750060885ae5ee6375f238d787">channel::EventManager::UpdateQuestKillCount</a></div><div class="ttdeci">void UpdateQuestKillCount(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, const std::unordered_map&lt; uint32_t, int32_t &gt; &amp;kills)</div><div class="ttdoc">Update the client&amp;#39;s quest kill counts (normal and demon) </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00726">EventManager.cpp:726</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a2a9845adb9272ff0f5f4e497630ad274"><div class="ttname"><a href="classchannel_1_1EventManager.html#a2a9845adb9272ff0f5f4e497630ad274">channel::EventManager::VerifyITime</a></div><div class="ttdeci">bool VerifyITime(EventContext &amp;ctx, std::shared_ptr&lt; objects::Event &gt; e)</div><div class="ttdoc">Verify if the supplied event can be executed in regards to the event entity&amp;#39;s current I-Time state...</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04651">EventManager.cpp:4651</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
