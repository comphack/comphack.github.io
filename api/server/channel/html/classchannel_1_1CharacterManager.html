<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>COMP_hack: channel::CharacterManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="reflogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">COMP_hack
   </div>
   <div id="projectbrief">Shin Megami Tensei Online: IMAGINE Server Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacechannel.html">channel</a></li><li class="navelem"><a class="el" href="classchannel_1_1CharacterManager.html">CharacterManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classchannel_1_1CharacterManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">channel::CharacterManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Manager to handle Character focused actions.  
 <a href="classchannel_1_1CharacterManager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="CharacterManager_8h_source.html">CharacterManager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af1874f10df07e654a57e9f1c8e851460"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#af1874f10df07e654a57e9f1c8e851460">CharacterManager</a> (const std::weak_ptr&lt; <a class="el" href="classchannel_1_1ChannelServer.html">ChannelServer</a> &gt; &amp;server)</td></tr>
<tr class="memdesc:af1874f10df07e654a57e9f1c8e851460"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <a class="el" href="classchannel_1_1CharacterManager.html" title="Manager to handle Character focused actions. ">CharacterManager</a>.  <a href="#af1874f10df07e654a57e9f1c8e851460">More...</a><br /></td></tr>
<tr class="separator:af1874f10df07e654a57e9f1c8e851460"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f47c4d30d5d863f09e6665927f158a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a0f47c4d30d5d863f09e6665927f158a0">~CharacterManager</a> ()</td></tr>
<tr class="memdesc:a0f47c4d30d5d863f09e6665927f158a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean up the <a class="el" href="classchannel_1_1CharacterManager.html" title="Manager to handle Character focused actions. ">CharacterManager</a>.  <a href="#a0f47c4d30d5d863f09e6665927f158a0">More...</a><br /></td></tr>
<tr class="separator:a0f47c4d30d5d863f09e6665927f158a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a616624f5b27baaa9d238b8315773caa4"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a616624f5b27baaa9d238b8315773caa4">AddMap</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, uint16_t mapID)</td></tr>
<tr class="memdesc:a616624f5b27baaa9d238b8315773caa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a map that the client character has obtained.  <a href="#a616624f5b27baaa9d238b8315773caa4">More...</a><br /></td></tr>
<tr class="separator:a616624f5b27baaa9d238b8315773caa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeaf001fc508ef18546a7639b08c3168"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#aeeaf001fc508ef18546a7639b08c3168">AddPlugin</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, uint16_t pluginID)</td></tr>
<tr class="memdesc:aeeaf001fc508ef18546a7639b08c3168"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a fusion plugin that the client character has obtained.  <a href="#aeeaf001fc508ef18546a7639b08c3168">More...</a><br /></td></tr>
<tr class="separator:aeeaf001fc508ef18546a7639b08c3168"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1483b47032cc4cf1e81e1a2554332849"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a1483b47032cc4cf1e81e1a2554332849">AddRemoveItems</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, std::unordered_map&lt; uint32_t, uint32_t &gt; itemCounts, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> add, int64_t skillTargetID=0)</td></tr>
<tr class="memdesc:a1483b47032cc4cf1e81e1a2554332849"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add or remove items to a character's inventory.  <a href="#a1483b47032cc4cf1e81e1a2554332849">More...</a><br /></td></tr>
<tr class="separator:a1483b47032cc4cf1e81e1a2554332849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71e5e799087ca3f3492a713d55453e2c"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a71e5e799087ca3f3492a713d55453e2c">AddRemoveOpponent</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> add, const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;eState1, const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;eState2)</td></tr>
<tr class="memdesc:a71e5e799087ca3f3492a713d55453e2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add or remove both supplied entities to the other's opponent set.  <a href="#a71e5e799087ca3f3492a713d55453e2c">More...</a><br /></td></tr>
<tr class="separator:a71e5e799087ca3f3492a713d55453e2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea12319bd4266e73ffeb36ae02780ab0"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#aea12319bd4266e73ffeb36ae02780ab0">AddRemoveValuable</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, uint16_t valuableID, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> remove)</td></tr>
<tr class="memdesc:aea12319bd4266e73ffeb36ae02780ab0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add or remove a valuable that the client character has obtained.  <a href="#aea12319bd4266e73ffeb36ae02780ab0">More...</a><br /></td></tr>
<tr class="separator:aea12319bd4266e73ffeb36ae02780ab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe445bad364b97c639d4de516d88b268"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#afe445bad364b97c639d4de516d88b268">CalculateCharacterBaseStats</a> (const std::shared_ptr&lt; objects::EntityStats &gt; &amp;cs)</td></tr>
<tr class="memdesc:afe445bad364b97c639d4de516d88b268"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the base stats of a character.  <a href="#afe445bad364b97c639d4de516d88b268">More...</a><br /></td></tr>
<tr class="separator:afe445bad364b97c639d4de516d88b268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24951d96662b03ed592e189f700cc4f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a24951d96662b03ed592e189f700cc4f7">CalculateDemonBaseStats</a> (const std::shared_ptr&lt; objects::Demon &gt; &amp;demon, std::shared_ptr&lt; objects::EntityStats &gt; ds=nullptr, std::shared_ptr&lt; objects::MiDevilData &gt; demonData=nullptr)</td></tr>
<tr class="memdesc:a24951d96662b03ed592e189f700cc4f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the base stats of a demon.  <a href="#a24951d96662b03ed592e189f700cc4f7">More...</a><br /></td></tr>
<tr class="separator:a24951d96662b03ed592e189f700cc4f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7022c11bdba415d9977ede8e80fc068"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#ad7022c11bdba415d9977ede8e80fc068">CalculateMaccaPayment</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, uint64_t amount, std::list&lt; std::shared_ptr&lt; objects::Item &gt;&gt; &amp;insertItems, std::unordered_map&lt; std::shared_ptr&lt; objects::Item &gt;, uint16_t &gt; &amp;stackAdjustItems)</td></tr>
<tr class="memdesc:ad7022c11bdba415d9977ede8e80fc068"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the item updates needed to pay a specified macca amount.  <a href="#ad7022c11bdba415d9977ede8e80fc068">More...</a><br /></td></tr>
<tr class="separator:ad7022c11bdba415d9977ede8e80fc068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc1641b0ffee2d4238783c3b1dfeac24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#acc1641b0ffee2d4238783c3b1dfeac24">CancelStatusEffects</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;client, uint8_t cancelFlags)</td></tr>
<tr class="memdesc:acc1641b0ffee2d4238783c3b1dfeac24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel status effects associated to a client's character and demon based upon an action that affects both entities.  <a href="#acc1641b0ffee2d4238783c3b1dfeac24">More...</a><br /></td></tr>
<tr class="separator:acc1641b0ffee2d4238783c3b1dfeac24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5109b80887e8664e5c80f9041de2ff2e"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; objects::Demon &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a5109b80887e8664e5c80f9041de2ff2e">ContractDemon</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, const std::shared_ptr&lt; objects::MiDevilData &gt; &amp;demonData, int32_t sourceEntityID, uint16_t familiarity=0)</td></tr>
<tr class="memdesc:a5109b80887e8664e5c80f9041de2ff2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a demon and add it to the client character's COMP.  <a href="#a5109b80887e8664e5c80f9041de2ff2e">More...</a><br /></td></tr>
<tr class="separator:a5109b80887e8664e5c80f9041de2ff2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ffbe93088e6b6562d0cbeed232200e9"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; objects::Demon &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a6ffbe93088e6b6562d0cbeed232200e9">ContractDemon</a> (const std::shared_ptr&lt; objects::Character &gt; &amp;character, const std::shared_ptr&lt; objects::MiDevilData &gt; &amp;demonData, uint16_t familiarity=0)</td></tr>
<tr class="memdesc:a6ffbe93088e6b6562d0cbeed232200e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a demon and add it to a character's COMP.  <a href="#a6ffbe93088e6b6562d0cbeed232200e9">More...</a><br /></td></tr>
<tr class="separator:a6ffbe93088e6b6562d0cbeed232200e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93b24c18ece5446e1867e61aed6c64fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a93b24c18ece5446e1867e61aed6c64fc">ConvertIDToMaskValues</a> (uint16_t id, size_t &amp;index, uint8_t &amp;shiftVal)</td></tr>
<tr class="memdesc:a93b24c18ece5446e1867e61aed6c64fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the supplied ID to its corresponding flag array index and shift value for use with fields stored as arrays of flags stored as single bytes.  <a href="#a93b24c18ece5446e1867e61aed6c64fc">More...</a><br /></td></tr>
<tr class="separator:a93b24c18ece5446e1867e61aed6c64fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85f6c524a852fd7e46938ffb4c94e2b2"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a85f6c524a852fd7e46938ffb4c94e2b2">CreateLootFromDrops</a> (const std::shared_ptr&lt; objects::LootBox &gt; &amp;box, const std::list&lt; std::shared_ptr&lt; objects::ItemDrop &gt;&gt; &amp;drops, int16_t luck, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> minLast=false)</td></tr>
<tr class="memdesc:a85f6c524a852fd7e46938ffb4c94e2b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create loot from drops based upon the supplied luck value (can be 0) and add them to the supplied loot box.  <a href="#a85f6c524a852fd7e46938ffb4c94e2b2">More...</a><br /></td></tr>
<tr class="separator:a85f6c524a852fd7e46938ffb4c94e2b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3985a8367e28f2826d17db8f2fe10ec0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a3985a8367e28f2826d17db8f2fe10ec0">DeleteDemon</a> (const std::shared_ptr&lt; objects::Demon &gt; &amp;demon, const std::shared_ptr&lt; <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DatabaseChangeSet.html">libcomp::DatabaseChangeSet</a> &gt; &amp;changes)</td></tr>
<tr class="memdesc:a3985a8367e28f2826d17db8f2fe10ec0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark the supplied demon and its related data as deleted in the supplied changeset.  <a href="#a3985a8367e28f2826d17db8f2fe10ec0">More...</a><br /></td></tr>
<tr class="separator:a3985a8367e28f2826d17db8f2fe10ec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af548ae53a39f246eeaccc2c28fdd8bc2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#af548ae53a39f246eeaccc2c28fdd8bc2">EndExchange</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, int32_t outcome=1)</td></tr>
<tr class="memdesc:af548ae53a39f246eeaccc2c28fdd8bc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">End the current exchange session for the client with various outcome types.  <a href="#af548ae53a39f246eeaccc2c28fdd8bc2">More...</a><br /></td></tr>
<tr class="separator:af548ae53a39f246eeaccc2c28fdd8bc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8dc412aa3bcef4d227796d42a4c1cc4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#ac8dc412aa3bcef4d227796d42a4c1cc4">EquipItem</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, int64_t itemID)</td></tr>
<tr class="memdesc:ac8dc412aa3bcef4d227796d42a4c1cc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equip or unequip an item matching the supplied ID on the client's character.  <a href="#ac8dc412aa3bcef4d227796d42a4c1cc4">More...</a><br /></td></tr>
<tr class="separator:ac8dc412aa3bcef4d227796d42a4c1cc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9430cb0ae3b4bab1a91ea5790b943a00"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a9430cb0ae3b4bab1a91ea5790b943a00">ExperienceGain</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, uint64_t xpGain, int32_t entityID)</td></tr>
<tr class="memdesc:a9430cb0ae3b4bab1a91ea5790b943a00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the client's character or demon's experience and level up if the level threshold is passed.  <a href="#a9430cb0ae3b4bab1a91ea5790b943a00">More...</a><br /></td></tr>
<tr class="separator:a9430cb0ae3b4bab1a91ea5790b943a00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6802d4adc3947f684985ff6af777d4d9"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; objects::Demon &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a6802d4adc3947f684985ff6af777d4d9">GenerateDemon</a> (const std::shared_ptr&lt; objects::MiDevilData &gt; &amp;demonData, uint16_t familiarity=0)</td></tr>
<tr class="memdesc:a6802d4adc3947f684985ff6af777d4d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a demon.  <a href="#a6802d4adc3947f684985ff6af777d4d9">More...</a><br /></td></tr>
<tr class="separator:a6802d4adc3947f684985ff6af777d4d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25630fce8afa984bd86ee4e08ff52b59"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; objects::Item &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a25630fce8afa984bd86ee4e08ff52b59">GenerateItem</a> (uint32_t itemID, uint16_t stackSize)</td></tr>
<tr class="memdesc:a25630fce8afa984bd86ee4e08ff52b59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate an item with the specified stack size.  <a href="#a25630fce8afa984bd86ee4e08ff52b59">More...</a><br /></td></tr>
<tr class="separator:a25630fce8afa984bd86ee4e08ff52b59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98f95d6bffb555cc0b9eb9039be23e34"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; objects::DemonBox &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a98f95d6bffb555cc0b9eb9039be23e34">GetDemonBox</a> (<a class="el" href="classchannel_1_1ClientState.html">ClientState</a> *<a class="el" href="namespacechannel.html#a42a66bec35cf06d954702b2d0e1ecca3">state</a>, int8_t boxID)</td></tr>
<tr class="memdesc:a98f95d6bffb555cc0b9eb9039be23e34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the client's character or account owned demon box by ID.  <a href="#a98f95d6bffb555cc0b9eb9039be23e34">More...</a><br /></td></tr>
<tr class="separator:a98f95d6bffb555cc0b9eb9039be23e34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab51facd0d1b3a7924f84df7879486f00"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#ab51facd0d1b3a7924f84df7879486f00">GetDemonPacketData</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html">libcomp::Packet</a> &amp;p, const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, const std::shared_ptr&lt; objects::DemonBox &gt; &amp;box, int8_t slot)</td></tr>
<tr class="memdesc:ab51facd0d1b3a7924f84df7879486f00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add data to a packet about a demon in a box.  <a href="#ab51facd0d1b3a7924f84df7879486f00">More...</a><br /></td></tr>
<tr class="separator:ab51facd0d1b3a7924f84df7879486f00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a507eea9130c0499fd774a34b01c23c52"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a507eea9130c0499fd774a34b01c23c52">GetEntityRevivalPacket</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html">libcomp::Packet</a> &amp;p, const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;eState, int8_t action)</td></tr>
<tr class="memdesc:a507eea9130c0499fd774a34b01c23c52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a revival action notification packet.  <a href="#a507eea9130c0499fd774a34b01c23c52">More...</a><br /></td></tr>
<tr class="separator:a507eea9130c0499fd774a34b01c23c52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafea48ed8547da2002304a6510d27b94"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#aafea48ed8547da2002304a6510d27b94">GetEntityStatsPacketData</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html">libcomp::Packet</a> &amp;p, const std::shared_ptr&lt; objects::EntityStats &gt; &amp;coreStats, const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;<a class="el" href="namespacechannel.html#a42a66bec35cf06d954702b2d0e1ecca3">state</a>, uint8_t format)</td></tr>
<tr class="memdesc:aafea48ed8547da2002304a6510d27b94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the core stat data from the supplied EntityStats instance and state object to a packet.  <a href="#aafea48ed8547da2002304a6510d27b94">More...</a><br /></td></tr>
<tr class="separator:aafea48ed8547da2002304a6510d27b94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bd247619309362ccea7a0cb49805a1c"><td class="memItemLeft" align="right" valign="top">std::list&lt; std::shared_ptr&lt; objects::Item &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a6bd247619309362ccea7a0cb49805a1c">GetExistingItems</a> (const std::shared_ptr&lt; objects::Character &gt; &amp;character, uint32_t itemID, std::shared_ptr&lt; objects::ItemBox &gt; box=nullptr)</td></tr>
<tr class="memdesc:a6bd247619309362ccea7a0cb49805a1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all items in the specified box that match the supplied itemID.  <a href="#a6bd247619309362ccea7a0cb49805a1c">More...</a><br /></td></tr>
<tr class="separator:a6bd247619309362ccea7a0cb49805a1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea6d27408da8d70849621b639ef6726b"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#aea6d27408da8d70849621b639ef6726b">GetFamiliarityRank</a> (uint16_t familiarity) const </td></tr>
<tr class="memdesc:aea6d27408da8d70849621b639ef6726b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a demon's familiarity rank from their current familiarity points.  <a href="#aea6d27408da8d70849621b639ef6726b">More...</a><br /></td></tr>
<tr class="separator:aea6d27408da8d70849621b639ef6726b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a901c7673c165668b43fbbbe81b7d53a9"><td class="memItemLeft" align="right" valign="top">std::set&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a901c7673c165668b43fbbbe81b7d53a9">GetFreeSlots</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;client, std::shared_ptr&lt; objects::ItemBox &gt; box=nullptr)</td></tr>
<tr class="memdesc:a901c7673c165668b43fbbbe81b7d53a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all the free slots within the supplied item box.  <a href="#a901c7673c165668b43fbbbe81b7d53a9">More...</a><br /></td></tr>
<tr class="separator:a901c7673c165668b43fbbbe81b7d53a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f095b62b1999d085838c19c11aa88c9"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; objects::ItemBox &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a5f095b62b1999d085838c19c11aa88c9">GetItemBox</a> (<a class="el" href="classchannel_1_1ClientState.html">ClientState</a> *<a class="el" href="namespacechannel.html#a42a66bec35cf06d954702b2d0e1ecca3">state</a>, int8_t boxType, int64_t boxID)</td></tr>
<tr class="memdesc:a5f095b62b1999d085838c19c11aa88c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the client's character or account owned item box by ID.  <a href="#a5f095b62b1999d085838c19c11aa88c9">More...</a><br /></td></tr>
<tr class="separator:a5f095b62b1999d085838c19c11aa88c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada94a92c31a85541870130d24dec7856"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#ada94a92c31a85541870130d24dec7856">GetItemDetailPacketData</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html">libcomp::Packet</a> &amp;p, const std::shared_ptr&lt; objects::Item &gt; &amp;item, uint8_t detailLevel=2)</td></tr>
<tr class="memdesc:ada94a92c31a85541870130d24dec7856"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add data to a packet containing varying degrees of item details.  <a href="#ada94a92c31a85541870130d24dec7856">More...</a><br /></td></tr>
<tr class="separator:ada94a92c31a85541870130d24dec7856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02b36a8fe9b037b711fd56d46162d603"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a02b36a8fe9b037b711fd56d46162d603">GetMaxExpertisePoints</a> (const std::shared_ptr&lt; objects::Character &gt; &amp;character)</td></tr>
<tr class="memdesc:a02b36a8fe9b037b711fd56d46162d603"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the maximum number of expertise points available to the supplied characater.  <a href="#a02b36a8fe9b037b711fd56d46162d603">More...</a><br /></td></tr>
<tr class="separator:a02b36a8fe9b037b711fd56d46162d603"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7baab039d30bb335d01d2ae40f500d86"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a7baab039d30bb335d01d2ae40f500d86">GetSynthOutcome</a> (<a class="el" href="classchannel_1_1ClientState.html">ClientState</a> *synthState, const std::shared_ptr&lt; objects::PlayerExchangeSession &gt; &amp;exchangeSession, uint32_t &amp;outcomeItemType, std::list&lt; int32_t &gt; &amp;successRates, int16_t *effectID=0)</td></tr>
<tr class="memdesc:a7baab039d30bb335d01d2ae40f500d86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine various elements of the outcome of a synth exchange but do not perform the synth itself.  <a href="#a7baab039d30bb335d01d2ae40f500d86">More...</a><br /></td></tr>
<tr class="separator:a7baab039d30bb335d01d2ae40f500d86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0933004ba58d1a2cce72ded576c9c5aa"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a0933004ba58d1a2cce72ded576c9c5aa">GetTotalMacca</a> (const std::shared_ptr&lt; objects::Character &gt; &amp;character)</td></tr>
<tr class="memdesc:a0933004ba58d1a2cce72ded576c9c5aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total macca amount from the supplied character's inventory.  <a href="#a0933004ba58d1a2cce72ded576c9c5aa">More...</a><br /></td></tr>
<tr class="separator:a0933004ba58d1a2cce72ded576c9c5aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a680d68e198dd5fb75f5186d7cef26065"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a680d68e198dd5fb75f5186d7cef26065">HasValuable</a> (const std::shared_ptr&lt; objects::Character &gt; &amp;character, uint16_t valuableID)</td></tr>
<tr class="memdesc:a680d68e198dd5fb75f5186d7cef26065"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if the specified character has the specified valuable.  <a href="#a680d68e198dd5fb75f5186d7cef26065">More...</a><br /></td></tr>
<tr class="separator:a680d68e198dd5fb75f5186d7cef26065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb0541ff9bee829dbd9e63d86ed2ecc1"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#acb0541ff9bee829dbd9e63d86ed2ecc1">IsCPItem</a> (const std::shared_ptr&lt; objects::MiItemData &gt; &amp;itemData) const </td></tr>
<tr class="memdesc:acb0541ff9bee829dbd9e63d86ed2ecc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the specified item definition belongs to a CP item.  <a href="#acb0541ff9bee829dbd9e63d86ed2ecc1">More...</a><br /></td></tr>
<tr class="separator:acb0541ff9bee829dbd9e63d86ed2ecc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a819a8084f0e92fbb13f2c7324b49918b"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a819a8084f0e92fbb13f2c7324b49918b">LearnSkill</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, int32_t entityID, uint32_t skillID)</td></tr>
<tr class="memdesc:a819a8084f0e92fbb13f2c7324b49918b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the specified entity to learn a skill by ID.  <a href="#a819a8084f0e92fbb13f2c7324b49918b">More...</a><br /></td></tr>
<tr class="separator:a819a8084f0e92fbb13f2c7324b49918b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85855154f41babdd31d2c9354aed6bea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a85855154f41babdd31d2c9354aed6bea">LevelUp</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, int8_t level, int32_t entityID)</td></tr>
<tr class="memdesc:a85855154f41babdd31d2c9354aed6bea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increase the level of a client's character or demon.  <a href="#a85855154f41babdd31d2c9354aed6bea">More...</a><br /></td></tr>
<tr class="separator:a85855154f41babdd31d2c9354aed6bea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bff56d4ac894c4a2de216381fda6f11"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a9bff56d4ac894c4a2de216381fda6f11">PayMacca</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, uint64_t amount)</td></tr>
<tr class="memdesc:a9bff56d4ac894c4a2de216381fda6f11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pay a specified macca amount.  <a href="#a9bff56d4ac894c4a2de216381fda6f11">More...</a><br /></td></tr>
<tr class="separator:a9bff56d4ac894c4a2de216381fda6f11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add8b8e9003f73d17e900963dc98ea93f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#add8b8e9003f73d17e900963dc98ea93f">RecalculateStats</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;eState, std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; client=nullptr, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> updateSourceClient=true)</td></tr>
<tr class="memdesc:add8b8e9003f73d17e900963dc98ea93f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculate the stats of an entity belonging to the supplied client and send any resulting changes to the zone (and world if applicable).  <a href="#add8b8e9003f73d17e900963dc98ea93f">More...</a><br /></td></tr>
<tr class="separator:add8b8e9003f73d17e900963dc98ea93f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3a72db14e6a1f12f9f8b7f0280fef20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#ad3a72db14e6a1f12f9f8b7f0280fef20">SendCharacterData</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;client)</td></tr>
<tr class="memdesc:ad3a72db14e6a1f12f9f8b7f0280fef20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send updated character data to the game client.  <a href="#ad3a72db14e6a1f12f9f8b7f0280fef20">More...</a><br /></td></tr>
<tr class="separator:ad3a72db14e6a1f12f9f8b7f0280fef20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad88643a8b5d589d1e2cb7afe5eb46742"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#ad88643a8b5d589d1e2cb7afe5eb46742">SendDemonBoxData</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;client, int8_t boxID, std::set&lt; int8_t &gt; slots={})</td></tr>
<tr class="memdesc:ad88643a8b5d589d1e2cb7afe5eb46742"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send information about the specified demon box to the client.  <a href="#ad88643a8b5d589d1e2cb7afe5eb46742">More...</a><br /></td></tr>
<tr class="separator:ad88643a8b5d589d1e2cb7afe5eb46742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ae6ffad745e187a3a087b4ab5c1a6e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a5ae6ffad745e187a3a087b4ab5c1a6e5">SendDemonData</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;client, int8_t boxID, int8_t slot, int64_t demonID)</td></tr>
<tr class="memdesc:a5ae6ffad745e187a3a087b4ab5c1a6e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send updated data about a demon in a box to the game client.  <a href="#a5ae6ffad745e187a3a087b4ab5c1a6e5">More...</a><br /></td></tr>
<tr class="separator:a5ae6ffad745e187a3a087b4ab5c1a6e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18a529c1fa2b38ba8f3db864890eec81"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a18a529c1fa2b38ba8f3db864890eec81">SendDevilBook</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;client)</td></tr>
<tr class="memdesc:a18a529c1fa2b38ba8f3db864890eec81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the client character's demonic compendium list.  <a href="#a18a529c1fa2b38ba8f3db864890eec81">More...</a><br /></td></tr>
<tr class="separator:a18a529c1fa2b38ba8f3db864890eec81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91946073aad00bc3a2f343c56f556832"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a91946073aad00bc3a2f343c56f556832">SendEntityStats</a> (std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; client, int32_t entityID, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> includeSelf=true)</td></tr>
<tr class="memdesc:a91946073aad00bc3a2f343c56f556832"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the stats of an entity that has been recalculated to the zone (and world if applicable).  <a href="#a91946073aad00bc3a2f343c56f556832">More...</a><br /></td></tr>
<tr class="separator:a91946073aad00bc3a2f343c56f556832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1281732e45282ab8ac44f14e58d18bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#aa1281732e45282ab8ac44f14e58d18bb">SendExertiseExtension</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client)</td></tr>
<tr class="memdesc:aa1281732e45282ab8ac44f14e58d18bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the character's current expertise extension amount.  <a href="#aa1281732e45282ab8ac44f14e58d18bb">More...</a><br /></td></tr>
<tr class="separator:aa1281732e45282ab8ac44f14e58d18bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af192a98b0835840b159aa30673fb9432"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#af192a98b0835840b159aa30673fb9432">SendItemBoxData</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;client, const std::shared_ptr&lt; objects::ItemBox &gt; &amp;box)</td></tr>
<tr class="memdesc:af192a98b0835840b159aa30673fb9432"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send information about the specified item box to the client.  <a href="#af192a98b0835840b159aa30673fb9432">More...</a><br /></td></tr>
<tr class="separator:af192a98b0835840b159aa30673fb9432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb113f98b4773fd1f3603242b3b4878c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#aeb113f98b4773fd1f3603242b3b4878c">SendItemBoxData</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;client, const std::shared_ptr&lt; objects::ItemBox &gt; &amp;box, const std::list&lt; uint16_t &gt; &amp;slots)</td></tr>
<tr class="memdesc:aeb113f98b4773fd1f3603242b3b4878c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send information about the specified box slots to the client.  <a href="#aeb113f98b4773fd1f3603242b3b4878c">More...</a><br /></td></tr>
<tr class="separator:aeb113f98b4773fd1f3603242b3b4878c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf6d3c24a23cbf45305cf1f715a49e10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#acf6d3c24a23cbf45305cf1f715a49e10">SendLootItemData</a> (const std::list&lt; std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt;&gt; &amp;clients, const std::shared_ptr&lt; <a class="el" href="namespacechannel.html#aadc2bf0d64180781705024f660526389">LootBoxState</a> &gt; &amp;lState, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> queue=false)</td></tr>
<tr class="memdesc:acf6d3c24a23cbf45305cf1f715a49e10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the loot item data related to a loot box to one or more clients.  <a href="#acf6d3c24a23cbf45305cf1f715a49e10">More...</a><br /></td></tr>
<tr class="separator:acf6d3c24a23cbf45305cf1f715a49e10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2144f385f43a1e51d6ad76b1cf6e1403"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a2144f385f43a1e51d6ad76b1cf6e1403">SendMapFlags</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;client)</td></tr>
<tr class="memdesc:a2144f385f43a1e51d6ad76b1cf6e1403"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the client character's obtained maps stored as an array of flags.  <a href="#a2144f385f43a1e51d6ad76b1cf6e1403">More...</a><br /></td></tr>
<tr class="separator:a2144f385f43a1e51d6ad76b1cf6e1403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a000fc326cfa9cf4a58559fecee05bf85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a000fc326cfa9cf4a58559fecee05bf85">SendMaterials</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;client, std::set&lt; uint32_t &gt; updates={})</td></tr>
<tr class="memdesc:a000fc326cfa9cf4a58559fecee05bf85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the client character's material container contents.  <a href="#a000fc326cfa9cf4a58559fecee05bf85">More...</a><br /></td></tr>
<tr class="separator:a000fc326cfa9cf4a58559fecee05bf85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0191ac62452e4d0dba2bae9c9f41fc8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#ae0191ac62452e4d0dba2bae9c9f41fc8">SendMovementSpeed</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;eState, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> diffOnly, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> queue=false)</td></tr>
<tr class="memdesc:ae0191ac62452e4d0dba2bae9c9f41fc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the specified entity's non-battle movement speed to the client.  <a href="#ae0191ac62452e4d0dba2bae9c9f41fc8">More...</a><br /></td></tr>
<tr class="separator:ae0191ac62452e4d0dba2bae9c9f41fc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a009b15dacec40ec6c96b93d962d21cce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a009b15dacec40ec6c96b93d962d21cce">SendOtherCharacterData</a> (const std::list&lt; std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt;&gt; &amp;clients, <a class="el" href="classchannel_1_1ClientState.html">ClientState</a> *otherState)</td></tr>
<tr class="memdesc:a009b15dacec40ec6c96b93d962d21cce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send updated character data to a different game client.  <a href="#a009b15dacec40ec6c96b93d962d21cce">More...</a><br /></td></tr>
<tr class="separator:a009b15dacec40ec6c96b93d962d21cce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bfe0dbb2a1a8fb7e05aa6d4965c2c58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a6bfe0dbb2a1a8fb7e05aa6d4965c2c58">SendOtherPartnerData</a> (const std::list&lt; std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt;&gt; &amp;clients, <a class="el" href="classchannel_1_1ClientState.html">ClientState</a> *otherState)</td></tr>
<tr class="memdesc:a6bfe0dbb2a1a8fb7e05aa6d4965c2c58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send updated data about the active demon of a different game client.  <a href="#a6bfe0dbb2a1a8fb7e05aa6d4965c2c58">More...</a><br /></td></tr>
<tr class="separator:a6bfe0dbb2a1a8fb7e05aa6d4965c2c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5744c0f13cb04fead45ab44d97995dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#ad5744c0f13cb04fead45ab44d97995dd">SendPartnerData</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;client)</td></tr>
<tr class="memdesc:ad5744c0f13cb04fead45ab44d97995dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send updated data about the active demon of the game client.  <a href="#ad5744c0f13cb04fead45ab44d97995dd">More...</a><br /></td></tr>
<tr class="separator:ad5744c0f13cb04fead45ab44d97995dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d37a183244b0943d1daa87d498e76ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a3d37a183244b0943d1daa87d498e76ac">SendPluginFlags</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;client)</td></tr>
<tr class="memdesc:a3d37a183244b0943d1daa87d498e76ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the client character's obtained plugins stored as an array of flags.  <a href="#a3d37a183244b0943d1daa87d498e76ac">More...</a><br /></td></tr>
<tr class="separator:a3d37a183244b0943d1daa87d498e76ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84b614b513085a6dac3d79958aa611bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a84b614b513085a6dac3d79958aa611bb">SendValuableFlags</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;client)</td></tr>
<tr class="memdesc:a84b614b513085a6dac3d79958aa611bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the client character's obtained valuables stored as an array of flags.  <a href="#a84b614b513085a6dac3d79958aa611bb">More...</a><br /></td></tr>
<tr class="separator:a84b614b513085a6dac3d79958aa611bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5939126c0694d2b2e6ecdb1ced0c72d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a5939126c0694d2b2e6ecdb1ced0c72d7">SetStatusIcon</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, int8_t icon=0)</td></tr>
<tr class="memdesc:a5939126c0694d2b2e6ecdb1ced0c72d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the character's status icon and send to the game clients if it has changed.  <a href="#a5939126c0694d2b2e6ecdb1ced0c72d7">More...</a><br /></td></tr>
<tr class="separator:a5939126c0694d2b2e6ecdb1ced0c72d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7790719cc2b664cab799f8f3bf37fca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#ac7790719cc2b664cab799f8f3bf37fca">StoreDemon</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> updatePartyState=true, int32_t removeMode=2)</td></tr>
<tr class="memdesc:ac7790719cc2b664cab799f8f3bf37fca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the current demon of the client's character to the COMP.  <a href="#ac7790719cc2b664cab799f8f3bf37fca">More...</a><br /></td></tr>
<tr class="separator:ac7790719cc2b664cab799f8f3bf37fca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cf353f50a3a7da4850594b32516a7db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a2cf353f50a3a7da4850594b32516a7db">SummonDemon</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, int64_t demonID, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> updatePartyState=true)</td></tr>
<tr class="memdesc:a2cf353f50a3a7da4850594b32516a7db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Summon the demon matching the supplied ID on the client's character.  <a href="#a2cf353f50a3a7da4850594b32516a7db">More...</a><br /></td></tr>
<tr class="separator:a2cf353f50a3a7da4850594b32516a7db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af695df55fef8f1f979b5471acd335120"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#af695df55fef8f1f979b5471acd335120">UnequipItem</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, const std::shared_ptr&lt; objects::Item &gt; &amp;item)</td></tr>
<tr class="memdesc:af695df55fef8f1f979b5471acd335120"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unequip the supplied item from the client's character.  <a href="#af695df55fef8f1f979b5471acd335120">More...</a><br /></td></tr>
<tr class="separator:af695df55fef8f1f979b5471acd335120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa440ebbe4771fc1fda69024d0e6d9ba8"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#aa440ebbe4771fc1fda69024d0e6d9ba8">UpdateDurability</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, const std::shared_ptr&lt; objects::Item &gt; &amp;item, int32_t points, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> isAdjust=true, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> updateMax=false, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> sendPacket=true)</td></tr>
<tr class="memdesc:aa440ebbe4771fc1fda69024d0e6d9ba8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the current or max durability of the supplied item by the specified amount.  <a href="#aa440ebbe4771fc1fda69024d0e6d9ba8">More...</a><br /></td></tr>
<tr class="separator:aa440ebbe4771fc1fda69024d0e6d9ba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa30afba1da3289d40e0a83073aaa77d1"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#aa30afba1da3289d40e0a83073aaa77d1">UpdateDurability</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, const std::unordered_map&lt; std::shared_ptr&lt; objects::Item &gt;, int32_t &gt; &amp;items, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> isAdjust=true, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> updateMax=false, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> sendPacket=true)</td></tr>
<tr class="memdesc:aa30afba1da3289d40e0a83073aaa77d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the current or max durability of the supplied items by the specified amounts.  <a href="#aa30afba1da3289d40e0a83073aaa77d1">More...</a><br /></td></tr>
<tr class="separator:aa30afba1da3289d40e0a83073aaa77d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a596af658b1964b3d1bc2369a2e0c8225"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a596af658b1964b3d1bc2369a2e0c8225">UpdateExpertise</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, uint32_t skillID, float multiplier=-1.0f)</td></tr>
<tr class="memdesc:a596af658b1964b3d1bc2369a2e0c8225"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a client's character's expertise for a given skill.  <a href="#a596af658b1964b3d1bc2369a2e0c8225">More...</a><br /></td></tr>
<tr class="separator:a596af658b1964b3d1bc2369a2e0c8225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a052b3b6e969ba2e45cc6b0031382fc64"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a052b3b6e969ba2e45cc6b0031382fc64">UpdateExpertisePoints</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, const std::list&lt; std::pair&lt; uint8_t, int32_t &gt;&gt; &amp;pointMap)</td></tr>
<tr class="memdesc:a052b3b6e969ba2e45cc6b0031382fc64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a client's character's expertise for a set of expertise IDs.  <a href="#a052b3b6e969ba2e45cc6b0031382fc64">More...</a><br /></td></tr>
<tr class="separator:a052b3b6e969ba2e45cc6b0031382fc64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a14311b0919dba5634b954c57dc8e6d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a8a14311b0919dba5634b954c57dc8e6d">UpdateFamiliarity</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, int32_t familiarity, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> isAdjust=false, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> sendPacket=true)</td></tr>
<tr class="memdesc:a8a14311b0919dba5634b954c57dc8e6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the current partner demon's familiarity.  <a href="#a8a14311b0919dba5634b954c57dc8e6d">More...</a><br /></td></tr>
<tr class="separator:a8a14311b0919dba5634b954c57dc8e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e3563a5520544cc15825f80e00f30bf"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a1e3563a5520544cc15825f80e00f30bf">UpdateItems</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> validateOnly, std::list&lt; std::shared_ptr&lt; objects::Item &gt;&gt; &amp;insertItems, std::unordered_map&lt; std::shared_ptr&lt; objects::Item &gt;, uint16_t &gt; stackAdjustItems)</td></tr>
<tr class="memdesc:a1e3563a5520544cc15825f80e00f30bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update or validate a set of item changes to be applied simultaneously, accounting for deletes that will clear up slots for inserts etc.  <a href="#a1e3563a5520544cc15825f80e00f30bf">More...</a><br /></td></tr>
<tr class="separator:a1e3563a5520544cc15825f80e00f30bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce6083979c3bcd39245f63b8a9f4115"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#acce6083979c3bcd39245f63b8a9f4115">UpdateLNC</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, int16_t lnc)</td></tr>
<tr class="memdesc:acce6083979c3bcd39245f63b8a9f4115"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the client's character's LNC value.  <a href="#acce6083979c3bcd39245f63b8a9f4115">More...</a><br /></td></tr>
<tr class="separator:acce6083979c3bcd39245f63b8a9f4115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bffcfac2ff7ced02d3eb0af6238e217"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a1bffcfac2ff7ced02d3eb0af6238e217">UpdateSkillPoints</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, int32_t points)</td></tr>
<tr class="memdesc:a1bffcfac2ff7ced02d3eb0af6238e217"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increase the client's character available skill points.  <a href="#a1bffcfac2ff7ced02d3eb0af6238e217">More...</a><br /></td></tr>
<tr class="separator:a1bffcfac2ff7ced02d3eb0af6238e217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c2fe74ade843973c2146200402fc55e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a0c2fe74ade843973c2146200402fc55e">UpdateSoulPoints</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;client, int32_t points, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> isAdjust=false)</td></tr>
<tr class="memdesc:a0c2fe74ade843973c2146200402fc55e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the current partner demon's soul points.  <a href="#a0c2fe74ade843973c2146200402fc55e">More...</a><br /></td></tr>
<tr class="separator:a0c2fe74ade843973c2146200402fc55e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98b74f2446836083e4f991f4b0df7dab"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a98b74f2446836083e4f991f4b0df7dab">UpdateStatusEffects</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;eState, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> queueSave=false)</td></tr>
<tr class="memdesc:a98b74f2446836083e4f991f4b0df7dab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the status effects assigned directly on a character or demon entity from the current status effect states and save them to the database.  <a href="#a98b74f2446836083e4f991f4b0df7dab">More...</a><br /></td></tr>
<tr class="separator:a98b74f2446836083e4f991f4b0df7dab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a856e6410ae3f414f2451cfcb59ada432"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a856e6410ae3f414f2451cfcb59ada432">UpdateWorldDisplayState</a> (const std::set&lt; std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt;&gt; &amp;entities)</td></tr>
<tr class="memdesc:a856e6410ae3f414f2451cfcb59ada432"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the state of the supplied entities on the world server.  <a href="#a856e6410ae3f414f2451cfcb59ada432">More...</a><br /></td></tr>
<tr class="separator:a856e6410ae3f414f2451cfcb59ada432"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a586ba42b36f9d71af9f7246395f0eb99"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a586ba42b36f9d71af9f7246395f0eb99">AdjustStatBounds</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">libcomp::EnumMap</a>&lt; <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>, int16_t &gt; &amp;stats)</td></tr>
<tr class="memdesc:a586ba42b36f9d71af9f7246395f0eb99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Correct a map of calculated stat values to not exceed the maximum or minimum values possible.  <a href="#a586ba42b36f9d71af9f7246395f0eb99">More...</a><br /></td></tr>
<tr class="separator:a586ba42b36f9d71af9f7246395f0eb99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d3d66646e46f13d6c01d9ece2419699"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a7d3d66646e46f13d6c01d9ece2419699">CalculateDependentStats</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">libcomp::EnumMap</a>&lt; <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>, int16_t &gt; &amp;stats, int8_t level, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> isDemon)</td></tr>
<tr class="memdesc:a7d3d66646e46f13d6c01d9ece2419699"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the dependent stats (ex: max HP, close range damage) for a character or demon and update the values of a correct table map.  <a href="#a7d3d66646e46f13d6c01d9ece2419699">More...</a><br /></td></tr>
<tr class="separator:a7d3d66646e46f13d6c01d9ece2419699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b1affc94f77ac7634ddf6c6387af725"><td class="memItemLeft" align="right" valign="top">static <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">libcomp::EnumMap</a>&lt; <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>, int16_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a7b1affc94f77ac7634ddf6c6387af725">GetCharacterBaseStatMap</a> (const std::shared_ptr&lt; objects::EntityStats &gt; &amp;cs)</td></tr>
<tr class="memdesc:a7b1affc94f77ac7634ddf6c6387af725"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a map of correct table indexes to corresponding stat values.  <a href="#a7b1affc94f77ac7634ddf6c6387af725">More...</a><br /></td></tr>
<tr class="separator:a7b1affc94f77ac7634ddf6c6387af725"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a41d45a6c0bff3fede173fb190559cf6d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#a41d45a6c0bff3fede173fb190559cf6d">BoostStats</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">libcomp::EnumMap</a>&lt; <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>, int16_t &gt; &amp;stats, const std::shared_ptr&lt; objects::MiDevilLVUpData &gt; &amp;data, int boostLevel)</td></tr>
<tr class="memdesc:a41d45a6c0bff3fede173fb190559cf6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the stats of a demon by a specified boost level determined by the demon's actual level.  <a href="#a41d45a6c0bff3fede173fb190559cf6d">More...</a><br /></td></tr>
<tr class="separator:a41d45a6c0bff3fede173fb190559cf6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ab492ee0001c184164b55c06dce3ddcdc"><td class="memItemLeft" align="right" valign="top">std::weak_ptr&lt; <a class="el" href="classchannel_1_1ChannelServer.html">ChannelServer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1CharacterManager.html#ab492ee0001c184164b55c06dce3ddcdc">mServer</a></td></tr>
<tr class="memdesc:ab492ee0001c184164b55c06dce3ddcdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the channel server.  <a href="#ab492ee0001c184164b55c06dce3ddcdc">More...</a><br /></td></tr>
<tr class="separator:ab492ee0001c184164b55c06dce3ddcdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manager to handle Character focused actions. </p>

<p>Definition at line <a class="el" href="CharacterManager_8h_source.html#l00068">68</a> of file <a class="el" href="CharacterManager_8h_source.html">CharacterManager.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af1874f10df07e654a57e9f1c8e851460"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CharacterManager::CharacterManager </td>
          <td>(</td>
          <td class="paramtype">const std::weak_ptr&lt; <a class="el" href="classchannel_1_1ChannelServer.html">ChannelServer</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>server</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new <a class="el" href="classchannel_1_1CharacterManager.html" title="Manager to handle Character focused actions. ">CharacterManager</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">server</td><td>Pointer back to the channel server this belongs to </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l00094">94</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0f47c4d30d5d863f09e6665927f158a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CharacterManager::~CharacterManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clean up the <a class="el" href="classchannel_1_1CharacterManager.html" title="Manager to handle Character focused actions. ">CharacterManager</a>. </p>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l00099">99</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a616624f5b27baaa9d238b8315773caa4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> CharacterManager::AddMap </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>mapID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a map that the client character has obtained. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">mapID</td><td>ID representing both the map that was obtained and its byte shift position in the storage array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the map is valid and was either added or already obtained, false it was not </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l03464">3464</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="CharacterManager_8cpp_source.html#l03457">ConvertIDToMaskValues()</a>, <a class="el" href="ClientState_8cpp_source.html#l00225">channel::ClientState::GetAccountUID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="CharacterManager_8cpp_source.html#l03496">SendMapFlags()</a>, and <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>.</p>

</div>
</div>
<a class="anchor" id="aeeaf001fc508ef18546a7639b08c3168"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> CharacterManager::AddPlugin </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>pluginID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a fusion plugin that the client character has obtained. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">pluginID</td><td>ID representing both the plugin that was obtained and its byte shift position in the storage array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the plugin is valid and was either added or already obtained, false it was not </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l03573">3573</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="CharacterManager_8cpp_source.html#l03457">ConvertIDToMaskValues()</a>, <a class="el" href="ClientState_8cpp_source.html#l00225">channel::ClientState::GetAccountUID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="CharacterManager_8cpp_source.html#l03605">SendPluginFlags()</a>, and <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>.</p>

</div>
</div>
<a class="anchor" id="a1483b47032cc4cf1e81e1a2554332849"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> CharacterManager::AddRemoveItems </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unordered_map&lt; uint32_t, uint32_t &gt;&#160;</td>
          <td class="paramname"><em>itemCounts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>add</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>skillTargetID</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add or remove items to a character's inventory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection containing the character </td></tr>
    <tr><td class="paramname">itemCounts</td><td>Item type to quantity to add </td></tr>
    <tr><td class="paramname">add</td><td>true if items should be added, false if they should be removed </td></tr>
    <tr><td class="paramname">skillTargetID</td><td>Object ID of an item used for a skill. If this is specified for a remove command, it will be removed first </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the items were added, false if one or more couldn't be added </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l01350">1350</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DatabaseChangeSet.html#a03a7037cb49e525b13310dfd97f469dc">libcomp::DatabaseChangeSet::Create()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02071">EquipItem()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l01312">GenerateItem()</a>, <a class="el" href="ClientState_8cpp_source.html#l00225">channel::ClientState::GetAccountUID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l01260">GetExistingItems()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1PersistentObject.html#ad81a63b214eccb267d246000c33233a7">libcomp::PersistentObject::GetObjectByUUID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00154">channel::ClientState::GetObjectID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00168">channel::ClientState::GetObjectUUID()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#aafe90c9ac4baae61294abeca5d8a011d">ITEM_MACCA_NOTE_AMOUNT</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#af10615cd1534f9f349a28bd8b61b445b">ITEM_MAG_PRESSER_AMOUNT</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="CharacterManager_8cpp_source.html#l01171">SendItemBoxData()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/ServerConstants_8h.html#a693b6ba29a440fa12e37272cebccce29">SVR_CONST</a>.</p>

</div>
</div>
<a class="anchor" id="a71e5e799087ca3f3492a713d55453e2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> CharacterManager::AddRemoveOpponent </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>add</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eState1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eState2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add or remove both supplied entities to the other's opponent set. </p>
<p>If adding and either of the supplied entities is a player character or partner demon, both of those entities will be added instead. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">add</td><td>true if the opponents should be added, false if they should be removed </td></tr>
    <tr><td class="paramname">eState1</td><td>Pointer to the primary entity to modify </td></tr>
    <tr><td class="paramname">eState2</td><td>Pointer ot the secondary entity to modify. If removing and this is not supplied, all entities will be removed from the primary entity </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l03857">3857</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8cpp_source.html#l01297">channel::ActiveEntityState::AddRemoveOpponent()</a>, <a class="el" href="ChannelClientConnection_8cpp_source.html#l00080">channel::ChannelClientConnection::BroadcastPackets()</a>, <a class="el" href="AIState_8h_source.html#l00079">channel::COMBAT</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00386">channel::ActiveEntityState::GetAIState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00086">channel::ClientState::GetDemonState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00331">channel::ClientState::GetEntityClientState()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a0552e50a74cbfb509fa07ab7afcaab2d">libcomp::Packet::WriteFloat()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l01008">StoreDemon()</a>.</p>

</div>
</div>
<a class="anchor" id="aea12319bd4266e73ffeb36ae02780ab0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> CharacterManager::AddRemoveValuable </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>valuableID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>remove</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add or remove a valuable that the client character has obtained. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">valuableID</td><td>ID representing both the valuable that was obtained and its byte shift position in the storage array </td></tr>
    <tr><td class="paramname">remove</td><td>true if the value should be removed instead of added </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the valuable is valid and was either added, removed or already updated in the way requested, false it was not </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l03511">3511</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="CharacterManager_8cpp_source.html#l03457">ConvertIDToMaskValues()</a>, <a class="el" href="ClientState_8cpp_source.html#l00225">channel::ClientState::GetAccountUID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="CharacterManager_8cpp_source.html#l03558">SendValuableFlags()</a>, and <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>.</p>

</div>
</div>
<a class="anchor" id="a586ba42b36f9d71af9f7246395f0eb99"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::AdjustStatBounds </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">libcomp::EnumMap</a>&lt; <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>, int16_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>stats</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Correct a map of calculated stat values to not exceed the maximum or minimum values possible. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stats</td><td>Reference to a correct table map </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l04332">4332</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l02133">channel::ActiveEntityState::AdjustStats()</a>.</p>

</div>
</div>
<a class="anchor" id="a41d45a6c0bff3fede173fb190559cf6d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::BoostStats </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">libcomp::EnumMap</a>&lt; <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>, int16_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; objects::MiDevilLVUpData &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>boostLevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the stats of a demon by a specified boost level determined by the demon's actual level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stats</td><td>Reference to a correct table map containing stats that may or may not have already been boosted </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the level up definition of a demon </td></tr>
    <tr><td class="paramname">boostLevel</td><td>Boost level to use when calculating the stat increases </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l04615">4615</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l04073">CalculateDemonBaseStats()</a>.</p>

</div>
</div>
<a class="anchor" id="afe445bad364b97c639d4de516d88b268"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::CalculateCharacterBaseStats </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; objects::EntityStats &gt; &amp;&#160;</td>
          <td class="paramname"><em>cs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the base stats of a character. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cs</td><td>Pointer to the core stats of a character </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l04057">4057</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="CharacterManager_8cpp_source.html#l04243">CalculateDependentStats()</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l04205">GetCharacterBaseStatMap()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l02739">ExperienceGain()</a>.</p>

</div>
</div>
<a class="anchor" id="a24951d96662b03ed592e189f700cc4f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::CalculateDemonBaseStats </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; objects::Demon &gt; &amp;&#160;</td>
          <td class="paramname"><em>demon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::EntityStats &gt;&#160;</td>
          <td class="paramname"><em>ds</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::MiDevilData &gt;&#160;</td>
          <td class="paramname"><em>demonData</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the base stats of a demon. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">demon</td><td>Pointer to the demon being calculated </td></tr>
    <tr><td class="paramname">ds</td><td>Pointer to the core stats of a demon </td></tr>
    <tr><td class="paramname">demonData</td><td>Pointer to the demon's definition </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000012">Todo:</a></b></dt><dd>: apply reunion boosts </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l04073">4073</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="CharacterManager_8cpp_source.html#l04615">BoostStats()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l04243">CalculateDependentStats()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02580">GetFamiliarityRank()</a>, and <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l02739">ExperienceGain()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02532">GenerateDemon()</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l02600">UpdateFamiliarity()</a>.</p>

</div>
</div>
<a class="anchor" id="a7d3d66646e46f13d6c01d9ece2419699"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::CalculateDependentStats </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">libcomp::EnumMap</a>&lt; <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>, int16_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>isDemon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the dependent stats (ex: max HP, close range damage) for a character or demon and update the values of a correct table map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stats</td><td>Reference to a correct table map </td></tr>
    <tr><td class="paramname">level</td><td>Current level of the character or demon </td></tr>
    <tr><td class="paramname">isDemon</td><td>true if the entity is a demon, false if it is character </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000013">Todo:</a></b></dt><dd>: fix: close but not quite right </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l04243">4243</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l04057">CalculateCharacterBaseStats()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l04073">CalculateDemonBaseStats()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l02454">channel::ActiveEntityState::RecalculateDemonStats()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01911">channel::ActiveEntityStateImp&lt; T &gt;::RecalculateStats()</a>.</p>

</div>
</div>
<a class="anchor" id="ad7022c11bdba415d9977ede8e80fc068"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> CharacterManager::CalculateMaccaPayment </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::list&lt; std::shared_ptr&lt; objects::Item &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>insertItems</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unordered_map&lt; std::shared_ptr&lt; objects::Item &gt;, uint16_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>stackAdjustItems</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the item updates needed to pay a specified macca amount. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection to pay macca </td></tr>
    <tr><td class="paramname">amount</td><td>Amount of macca to pay </td></tr>
    <tr><td class="paramname">insertItems</td><td>Output list of new items to insert </td></tr>
    <tr><td class="paramname">stackAdjustItems</td><td>Output map of items to adjust the stack size of including deletes listed with stack size 0 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the amount can be paid, false it cannot </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l01712">1712</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="CharacterManager_8cpp_source.html#l01312">GenerateItem()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l01260">GetExistingItems()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#aafe90c9ac4baae61294abeca5d8a011d">ITEM_MACCA_NOTE_AMOUNT</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/ServerConstants_8h.html#a693b6ba29a440fa12e37272cebccce29">SVR_CONST</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l01697">PayMacca()</a>.</p>

</div>
</div>
<a class="anchor" id="acc1641b0ffee2d4238783c3b1dfeac24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::CancelStatusEffects </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cancelFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel status effects associated to a client's character and demon based upon an action that affects both entities. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">cancelFlags</td><td>Flags indicating conditions that can cause status effects to be cancelled. The set of valid status conditions are listed as constants on <a class="el" href="classchannel_1_1ActiveEntityState.html" title="Represents an active entity on the channel server. ">ActiveEntityState</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l03815">3815</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00086">channel::ClientState::GetDemonState()</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, and <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>.</p>

</div>
</div>
<a class="anchor" id="a5109b80887e8664e5c80f9041de2ff2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; objects::Demon &gt; CharacterManager::ContractDemon </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; objects::MiDevilData &gt; &amp;&#160;</td>
          <td class="paramname"><em>demonData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>sourceEntityID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>familiarity</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a demon and add it to the client character's COMP. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">demonData</td><td>Pointer to a demon's definition that represents the demon to create </td></tr>
    <tr><td class="paramname">sourceEntityID</td><td>Entity ID of the demon egg used to contract the demon </td></tr>
    <tr><td class="paramname">familiarity</td><td>Optional familiarity level on the contracted demon, defaults to 0 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the newly created demon </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l02440">2440</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Log_8h.html#a0b8803f44819fc5393300b390f0e170d">LOG_ERROR</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00581">SendDemonData()</a>, <a class="el" href="ClientState_8cpp_source.html#l00210">channel::ClientState::SetObjectID()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>.</p>

</div>
</div>
<a class="anchor" id="a6ffbe93088e6b6562d0cbeed232200e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; objects::Demon &gt; CharacterManager::ContractDemon </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; objects::Character &gt; &amp;&#160;</td>
          <td class="paramname"><em>character</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; objects::MiDevilData &gt; &amp;&#160;</td>
          <td class="paramname"><em>demonData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>familiarity</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a demon and add it to a character's COMP. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">character</td><td>Pointer to the character that should receive the demon </td></tr>
    <tr><td class="paramname">demonData</td><td>Pointer to a demon's definition that represents the demon to create </td></tr>
    <tr><td class="paramname">familiarity</td><td>Optional familiarity level on the contracted demon, defaults to 0 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the newly created demon </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l02477">2477</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DatabaseChangeSet.html#a03a7037cb49e525b13310dfd97f469dc">libcomp::DatabaseChangeSet::Create()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02532">GenerateDemon()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Log_8h.html#a0b8803f44819fc5393300b390f0e170d">LOG_ERROR</a>, and <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>.</p>

</div>
</div>
<a class="anchor" id="a93b24c18ece5446e1867e61aed6c64fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::ConvertIDToMaskValues </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t &amp;&#160;</td>
          <td class="paramname"><em>shiftVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the supplied ID to its corresponding flag array index and shift value for use with fields stored as arrays of flags stored as single bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uint16_t</td><td>ID to convert </td></tr>
    <tr><td class="paramname">index</td><td>Output parameter that will be updated to the index of the flag array for the ID's corresponding byte </td></tr>
    <tr><td class="paramname">shiftVal</td><td>Ouptput parameter that will be updated to the ID's mask position at the index in the flag array </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l03457">3457</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l03464">AddMap()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l03573">AddPlugin()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l03511">AddRemoveValuable()</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l03544">HasValuable()</a>.</p>

</div>
</div>
<a class="anchor" id="a85f6c524a852fd7e46938ffb4c94e2b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> CharacterManager::CreateLootFromDrops </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; objects::LootBox &gt; &amp;&#160;</td>
          <td class="paramname"><em>box</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::list&lt; std::shared_ptr&lt; objects::ItemDrop &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>drops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>luck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>minLast</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create loot from drops based upon the supplied luck value (can be 0) and add them to the supplied loot box. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">box</td><td>Pointer to the loot box </td></tr>
    <tr><td class="paramname">drops</td><td>List of pointers to the item drops to determine what should be added to the box </td></tr>
    <tr><td class="paramname">luck</td><td>Current luck value to use when calculating drop chances </td></tr>
    <tr><td class="paramname">minLast</td><td>Optional param to specify if the box needs at least one item in which case the last item will be used </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if one or more item was added, false if none were </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l01905">1905</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Randomizer_8h.html#a0d86a2bee95f162f95aacb8451b3078f">RNG</a>.</p>

</div>
</div>
<a class="anchor" id="a3985a8367e28f2826d17db8f2fe10ec0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::DeleteDemon </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; objects::Demon &gt; &amp;&#160;</td>
          <td class="paramname"><em>demon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DatabaseChangeSet.html">libcomp::DatabaseChangeSet</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>changes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark the supplied demon and its related data as deleted in the supplied changeset. </p>
<p>If the demon is in a demon box, the box will be updated as well. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">demon</td><td>Pointer to the demon that will be deleted </td></tr>
    <tr><td class="paramname">changes</td><td>Pointer to the changeset to apply the changes to </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l04590">4590</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1PersistentObject.html#ad81a63b214eccb267d246000c33233a7">libcomp::PersistentObject::GetObjectByUUID()</a>.</p>

</div>
</div>
<a class="anchor" id="af548ae53a39f246eeaccc2c28fdd8bc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::EndExchange </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>outcome</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>End the current exchange session for the client with various outcome types. </p>
<p>All exchange logic is handled elsewhere and the other participants must be notified via this function as well. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Client to notify of the end of an exchange </td></tr>
    <tr><td class="paramname">outcome</td><td>Defaults to being ended by player, options are contextual to the exchange type </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l02363">2363</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00823">SetStatusIcon()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>.</p>

</div>
</div>
<a class="anchor" id="ac8dc412aa3bcef4d227796d42a4c1cc4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::EquipItem </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>itemID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Equip or unequip an item matching the supplied ID on the client's character. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection containing the character </td></tr>
    <tr><td class="paramname">itemID</td><td>Object ID matching an item in the character's item box </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l02071">2071</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a18fe5254e32ac247d9a254f0c713d6b6">libcomp::Packet::Clear()</a>, <a class="el" href="ClientState_8cpp_source.html#l00225">channel::ClientState::GetAccountUID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l04470">GetEntityStatsPacketData()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1PersistentObject.html#ad81a63b214eccb267d246000c33233a7">libcomp::PersistentObject::GetObjectByUUID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00154">channel::ClientState::GetObjectID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00168">channel::ClientState::GetObjectUUID()</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00692">RecalculateStats()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#aee1dbb724dcbb38c1a7b4093c0828cb9">libcomp::Packet::WriteS16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ae476b10477f85075b3405083205eb1d9">libcomp::Packet::WriteS64Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ad995a520b3f035ccb13860b4801666f6">libcomp::Packet::WriteU32Little()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2507cb23cbaf9e6544370f7604c5810b">libcomp::Packet::WriteU8()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l01350">AddRemoveItems()</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l02176">UnequipItem()</a>.</p>

</div>
</div>
<a class="anchor" id="a9430cb0ae3b4bab1a91ea5790b943a00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::ExperienceGain </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>xpGain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>entityID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the client's character or demon's experience and level up if the level threshold is passed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">xpGain</td><td>Experience amount to gain </td></tr>
    <tr><td class="paramname">entityID</td><td>Character or demon ID to gain experience </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l02739">2739</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="CharacterManager_8cpp_source.html#l04057">CalculateCharacterBaseStats()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l04073">CalculateDemonBaseStats()</a>, <a class="el" href="ClientState_8cpp_source.html#l00225">channel::ClientState::GetAccountUID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00086">channel::ClientState::GetDemonState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00091">channel::ClientState::GetEntityState()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l04470">GetEntityStatsPacketData()</a>, <a class="el" href="ClientState_8cpp_source.html#l00154">channel::ClientState::GetObjectID()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a350e3aff57d5978e7732dc852bc07b63">libcomp::LEVEL_XP_REQUIREMENTS</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00692">RecalculateStats()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02600">UpdateFamiliarity()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#aee1dbb724dcbb38c1a7b4093c0828cb9">libcomp::Packet::WriteS16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a50f614a36ccb598cd9382c79edc48b69">libcomp::Packet::WriteS32()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a39e030f5e215177ec357db8a66cf98fb">libcomp::Packet::WriteS64()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ae476b10477f85075b3405083205eb1d9">libcomp::Packet::WriteS64Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#acb7bad5ab1a3bdba98aaa900a456a4a7">libcomp::Packet::WriteS8()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ad995a520b3f035ccb13860b4801666f6">libcomp::Packet::WriteU32Little()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l02889">LevelUp()</a>.</p>

</div>
</div>
<a class="anchor" id="a6802d4adc3947f684985ff6af777d4d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; objects::Demon &gt; CharacterManager::GenerateDemon </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; objects::MiDevilData &gt; &amp;&#160;</td>
          <td class="paramname"><em>demonData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>familiarity</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a demon. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">demonData</td><td>Pointer to a demon's definition that represents the demon to create </td></tr>
    <tr><td class="paramname">familiarity</td><td>Optional default demon familiarity points </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the newly created demon </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l02532">2532</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="CharacterManager_8cpp_source.html#l04073">CalculateDemonBaseStats()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Log_8h.html#a0b8803f44819fc5393300b390f0e170d">LOG_ERROR</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1PersistentObject.html#a997d0624a8767a4c14052e7d82384a95">libcomp::PersistentObject::New()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l02477">ContractDemon()</a>.</p>

</div>
</div>
<a class="anchor" id="a25630fce8afa984bd86ee4e08ff52b59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; objects::Item &gt; CharacterManager::GenerateItem </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>itemID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>stackSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate an item with the specified stack size. </p>
<p>The stack size will not be checked for the maximum allowed value. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">itemID</td><td>Item ID to generate an item from </td></tr>
    <tr><td class="paramname">stackSize</td><td>Number of items in the stack to generate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the generated item </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l01312">1312</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#a120f8bf07837cec1559a4c1fa6ae5d4c">MOD_SLOT_NULL_EFFECT</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1PersistentObject.html#a997d0624a8767a4c14052e7d82384a95">libcomp::PersistentObject::New()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l01350">AddRemoveItems()</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l01712">CalculateMaccaPayment()</a>.</p>

</div>
</div>
<a class="anchor" id="a7b1affc94f77ac7634ddf6c6387af725"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">libcomp::EnumMap</a>&lt; <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>, int16_t &gt; CharacterManager::GetCharacterBaseStatMap </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; objects::EntityStats &gt; &amp;&#160;</td>
          <td class="paramname"><em>cs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve a map of correct table indexes to corresponding stat values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cs</td><td>Pointer to the core stats of a character </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Map of correct table indexes to corresponding stat values </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l04205">4205</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#a6ecebdfc908aa99dd2a58a40cab0a8ae">STAT_DEFAULT_SPEED</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l04057">CalculateCharacterBaseStats()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01911">channel::ActiveEntityStateImp&lt; T &gt;::RecalculateStats()</a>.</p>

</div>
</div>
<a class="anchor" id="a98f95d6bffb555cc0b9eb9039be23e34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; objects::DemonBox &gt; CharacterManager::GetDemonBox </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classchannel_1_1ClientState.html">ClientState</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>boxID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the client's character or account owned demon box by ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection containing the box </td></tr>
    <tr><td class="paramname">boxID</td><td>Demon box ID to retrieve. 0 represents the COMP and anything higher is a depo box </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the demon box with the specified ID </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l01131">1131</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l01067">SendDemonBoxData()</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l00581">SendDemonData()</a>.</p>

</div>
</div>
<a class="anchor" id="ab51facd0d1b3a7924f84df7879486f00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::GetDemonPacketData </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html">libcomp::Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; objects::DemonBox &gt; &amp;&#160;</td>
          <td class="paramname"><em>box</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>slot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add data to a packet about a demon in a box. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Packet to populate with demon data </td></tr>
    <tr><td class="paramname">client</td><td>Current client to retrieve demon information from </td></tr>
    <tr><td class="paramname">box</td><td>Demon box to populate information from </td></tr>
    <tr><td class="paramname">slot</td><td>Demon box slot index to populate information from </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l04366">4366</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00154">channel::ClientState::GetObjectID()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#aee1dbb724dcbb38c1a7b4093c0828cb9">libcomp::Packet::WriteS16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ae476b10477f85075b3405083205eb1d9">libcomp::Packet::WriteS64Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#acb7bad5ab1a3bdba98aaa900a456a4a7">libcomp::Packet::WriteS8()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ad995a520b3f035ccb13860b4801666f6">libcomp::Packet::WriteU32Little()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2507cb23cbaf9e6544370f7604c5810b">libcomp::Packet::WriteU8()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l01067">SendDemonBoxData()</a>.</p>

</div>
</div>
<a class="anchor" id="a507eea9130c0499fd774a34b01c23c52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> CharacterManager::GetEntityRevivalPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html">libcomp::Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a revival action notification packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Packet to write the data to </td></tr>
    <tr><td class="paramname">entity</td><td>Entity that has had a revival action performed on them </td></tr>
    <tr><td class="paramname">action</td><td>Revival action that has taken place. The valid values are: -1) Revival done: Signifies that no other revival action will be sent following this one 1) Revive and wait: Revive the player character and wait for a "revival done" notification. This is typically followed with a zone change. 3) Normal: The entity has been revived by a skill or item 4) Accept revival: The entity is a character and is accepting revival from other players 5) Deny revival: The entity is a character and is not accepting revival from other players </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if the entity is not valid </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l00804">804</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ae476b10477f85075b3405083205eb1d9">libcomp::Packet::WriteS64Little()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#acb7bad5ab1a3bdba98aaa900a456a4a7">libcomp::Packet::WriteS8()</a>.</p>

</div>
</div>
<a class="anchor" id="aafea48ed8547da2002304a6510d27b94"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::GetEntityStatsPacketData </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html">libcomp::Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; objects::EntityStats &gt; &amp;&#160;</td>
          <td class="paramname"><em>coreStats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add the core stat data from the supplied EntityStats instance and state object to a packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Packet to populate with stat data </td></tr>
    <tr><td class="paramname">coreStats</td><td>EntityStats pointer to the core stats of either a character or demon </td></tr>
    <tr><td class="paramname">state</td><td>Pointer to the current state of the entity in a zone. If this parameter is supplied as null, only the core stats will be populated. </td></tr>
    <tr><td class="paramname">format</td><td>Format to write the data in from the followin options: 0) Standard format used when intially describing a new entity 1) "Boost" format used when describing an entity that has leveled up or had its non-calculated stats adjusted 2) Recalc format used when stats have been recalculated caused by equipment or status effects being modified. 3) Recalc extended format </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l04470">4470</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#adedccbb5548aef73dab0335ec7cdf9c8">libcomp::Packet::WriteS16()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#aee1dbb724dcbb38c1a7b4093c0828cb9">libcomp::Packet::WriteS16Little()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l02071">EquipItem()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02739">ExperienceGain()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00103">SendCharacterData()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00581">SendDemonData()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00770">SendEntityStats()</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l00387">SendPartnerData()</a>.</p>

</div>
</div>
<a class="anchor" id="a6bd247619309362ccea7a0cb49805a1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; std::shared_ptr&lt; objects::Item &gt; &gt; CharacterManager::GetExistingItems </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; objects::Character &gt; &amp;&#160;</td>
          <td class="paramname"><em>character</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>itemID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::ItemBox &gt;&#160;</td>
          <td class="paramname"><em>box</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all items in the specified box that match the supplied itemID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">character</td><td>Pointer to the character </td></tr>
    <tr><td class="paramname">itemID</td><td>Item ID to find in the inventory </td></tr>
    <tr><td class="paramname">box</td><td>Box to return items for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>List of pointers to the items of the matching ID </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l01260">1260</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l01350">AddRemoveItems()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l01712">CalculateMaccaPayment()</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l01675">GetTotalMacca()</a>.</p>

</div>
</div>
<a class="anchor" id="aea6d27408da8d70849621b639ef6726b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t CharacterManager::GetFamiliarityRank </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>familiarity</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a demon's familiarity rank from their current familiarity points. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">familiarity</td><td>Demon's familiarity points </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Converted familiarity rank from -3 to +4 </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l02580">2580</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#a1f64f8ea81089cdd221bb2bbe173ab6f">MAX_FAMILIARITY</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l04073">CalculateDemonBaseStats()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00875">SummonDemon()</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l02600">UpdateFamiliarity()</a>.</p>

</div>
</div>
<a class="anchor" id="a901c7673c165668b43fbbbe81b7d53a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; size_t &gt; CharacterManager::GetFreeSlots </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::ItemBox &gt;&#160;</td>
          <td class="paramname"><em>box</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all the free slots within the supplied item box. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection containing the box </td></tr>
    <tr><td class="paramname">box</td><td>Box to return slots for, if null the inventory will be used </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Set of all free slots in the box </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l01282">1282</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5f095b62b1999d085838c19c11aa88c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; objects::ItemBox &gt; CharacterManager::GetItemBox </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classchannel_1_1ClientState.html">ClientState</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>boxType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>boxID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the client's character or account owned item box by ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection containing the box </td></tr>
    <tr><td class="paramname">boxType</td><td>Type of item box to retrieve </td></tr>
    <tr><td class="paramname">boxID</td><td>Item box ID to retrieve by index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the item box with the specified type and ID </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l01143">1143</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Log_8h.html#a0b8803f44819fc5393300b390f0e170d">LOG_ERROR</a>.</p>

</div>
</div>
<a class="anchor" id="ada94a92c31a85541870130d24dec7856"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::GetItemDetailPacketData </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html">libcomp::Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; objects::Item &gt; &amp;&#160;</td>
          <td class="paramname"><em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>detailLevel</em> = <code>2</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add data to a packet containing varying degrees of item details. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Packet to populate with item data </td></tr>
    <tr><td class="paramname">item</td><td>Pointer to the item </td></tr>
    <tr><td class="paramname">detailLevel</td><td>Detail level to add to the packet ranging from 0 (least) to 2 (most). Defaults to 2. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l04405">4405</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a7b1c4b4277c89aa3fb079a74dbdfca63">libcomp::Packet::WriteBlank()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#aee1dbb724dcbb38c1a7b4093c0828cb9">libcomp::Packet::WriteS16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#acb7bad5ab1a3bdba98aaa900a456a4a7">libcomp::Packet::WriteS8()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a170e6cd6bb4f2a3f28d2a892beb633d8">libcomp::Packet::WriteU16Little()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ad995a520b3f035ccb13860b4801666f6">libcomp::Packet::WriteU32Little()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l01182">SendItemBoxData()</a>.</p>

</div>
</div>
<a class="anchor" id="a02b36a8fe9b037b711fd56d46162d603"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t CharacterManager::GetMaxExpertisePoints </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; objects::Character &gt; &amp;&#160;</td>
          <td class="paramname"><em>character</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the maximum number of expertise points available to the supplied characater. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">character</td><td>Pointer to the character </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Maximum expertise points available to the character </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l03095">3095</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l02978">UpdateExpertisePoints()</a>.</p>

</div>
</div>
<a class="anchor" id="a7baab039d30bb335d01d2ae40f500d86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> CharacterManager::GetSynthOutcome </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classchannel_1_1ClientState.html">ClientState</a> *&#160;</td>
          <td class="paramname"><em>synthState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; objects::PlayerExchangeSession &gt; &amp;&#160;</td>
          <td class="paramname"><em>exchangeSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>outcomeItemType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::list&lt; int32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>successRates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>effectID</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine various elements of the outcome of a synth exchange but do not perform the synth itself. </p>
<p>Supports demon crystallization as well as tarot and soul enchantment. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">synthState</td><td>Pointer to the synth character's <a class="el" href="classchannel_1_1ClientState.html" title="Contains the state of a game client currently connected to the channel. ">ClientState</a> </td></tr>
    <tr><td class="paramname">exchangeSession</td><td>Pointer to the synth exchange session </td></tr>
    <tr><td class="paramname">outcomeItemType</td><td>Output parameter for the new item that will result from the synth, -1 for none </td></tr>
    <tr><td class="paramname">successRates</td><td>Output parameter containing any success rates associated with the operation </td></tr>
    <tr><td class="paramname">effectID</td><td>Output parameter only used by enchantment to contain the effect that will be applied </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the calculation succeeded, false if an error occured </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l03252">3252</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#aa5d6d94ea87afb9a703ca83c2f5ae153">EXPERTISE_CHAIN_SYNTHESIS</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00086">channel::ClientState::GetDemonState()</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00831">channel::ActiveEntityStateImp&lt; T &gt;::GetEntity()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02358">IsCPItem()</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/ServerConstants_8h.html#a693b6ba29a440fa12e37272cebccce29">SVR_CONST</a>.</p>

</div>
</div>
<a class="anchor" id="a0933004ba58d1a2cce72ded576c9c5aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t CharacterManager::GetTotalMacca </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; objects::Character &gt; &amp;&#160;</td>
          <td class="paramname"><em>character</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the total macca amount from the supplied character's inventory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">character</td><td>Pointer to the character to calculate macca for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Total macca </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l01675">1675</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="CharacterManager_8cpp_source.html#l01260">GetExistingItems()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#aafe90c9ac4baae61294abeca5d8a011d">ITEM_MACCA_NOTE_AMOUNT</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/ServerConstants_8h.html#a693b6ba29a440fa12e37272cebccce29">SVR_CONST</a>.</p>

</div>
</div>
<a class="anchor" id="a680d68e198dd5fb75f5186d7cef26065"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> CharacterManager::HasValuable </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; objects::Character &gt; &amp;&#160;</td>
          <td class="paramname"><em>character</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>valuableID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if the specified character has the specified valuable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">character</td><td>Pointer to the character to check </td></tr>
    <tr><td class="paramname">valuableID</td><td>ID of the valuable to look for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the valuable has been obtained </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l03544">3544</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="CharacterManager_8cpp_source.html#l03457">ConvertIDToMaskValues()</a>.</p>

</div>
</div>
<a class="anchor" id="acb0541ff9bee829dbd9e63d86ed2ecc1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> CharacterManager::IsCPItem </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; objects::MiItemData &gt; &amp;&#160;</td>
          <td class="paramname"><em>itemData</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the specified item definition belongs to a CP item. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Pointer</td><td>to the item definition </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the definition belongs to a CP item, false if it does not </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l02358">2358</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l03252">GetSynthOutcome()</a>.</p>

</div>
</div>
<a class="anchor" id="a819a8084f0e92fbb13f2c7324b49918b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> CharacterManager::LearnSkill </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>entityID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>skillID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the specified entity to learn a skill by ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">entityID</td><td>ID of the entity to learn the skill </td></tr>
    <tr><td class="paramname">skillID</td><td>Skill ID to update the entity to learn </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the skill was learned or is already learned, false if it failed </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l03150">3150</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DatabaseChangeSet.html#a03a7037cb49e525b13310dfd97f469dc">libcomp::DatabaseChangeSet::Create()</a>, <a class="el" href="ClientState_8cpp_source.html#l00225">channel::ClientState::GetAccountUID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00086">channel::ClientState::GetDemonState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00091">channel::ClientState::GetEntityState()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#a6e2192c16f72548be45da2d807927146">MAX_INHERIT_SKILL</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1PersistentObject.html#a997d0624a8767a4c14052e7d82384a95">libcomp::PersistentObject::New()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00692">RecalculateStats()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ad995a520b3f035ccb13860b4801666f6">libcomp::Packet::WriteU32Little()</a>.</p>

</div>
</div>
<a class="anchor" id="a85855154f41babdd31d2c9354aed6bea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::LevelUp </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>entityID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increase the level of a client's character or demon. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">level</td><td>Number of levels to gain </td></tr>
    <tr><td class="paramname">entityID</td><td>Character or demon ID to level up </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l02889">2889</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="CharacterManager_8cpp_source.html#l02739">ExperienceGain()</a>, <a class="el" href="ClientState_8cpp_source.html#l00091">channel::ClientState::GetEntityState()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a350e3aff57d5978e7732dc852bc07b63">libcomp::LEVEL_XP_REQUIREMENTS</a>, and <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>.</p>

</div>
</div>
<a class="anchor" id="a9bff56d4ac894c4a2de216381fda6f11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> CharacterManager::PayMacca </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>amount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pay a specified macca amount. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection to pay macca </td></tr>
    <tr><td class="paramname">amount</td><td>Amount of macca to pay </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the amount was paid, false it was not </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l01697">1697</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="CharacterManager_8cpp_source.html#l01712">CalculateMaccaPayment()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l01812">UpdateItems()</a>.</p>

</div>
</div>
<a class="anchor" id="add8b8e9003f73d17e900963dc98ea93f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CharacterManager::RecalculateStats </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt;&#160;</td>
          <td class="paramname"><em>client</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>updateSourceClient</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recalculate the stats of an entity belonging to the supplied client and send any resulting changes to the zone (and world if applicable). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eState</td><td>Pointer to the state of the entity being recalculated </td></tr>
    <tr><td class="paramname">client</td><td>Optional pointer to the client connection. If not supplied but needed, it will be loaded from the entity ID </td></tr>
    <tr><td class="paramname">updateSourceClient</td><td>true if the changes should be sent to the client itself as well, false if the client will be communicated about the changes later </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the calculation resulted in a change to the stats that should be sent to the client, 2 if one of the changes should be communicated to the world (for party members etc), 0 otherwise </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l00692">692</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8h_source.html#l00071">ENTITY_CALC_MOVE_SPEED</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00074">ENTITY_CALC_SKILL</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00065">ENTITY_CALC_STAT_LOCAL</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00068">ENTITY_CALC_STAT_WORLD</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00770">SendEntityStats()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00851">SendMovementSpeed()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ad995a520b3f035ccb13860b4801666f6">libcomp::Packet::WriteU32Little()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l02071">EquipItem()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02739">ExperienceGain()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l03150">LearnSkill()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02217">UpdateDurability()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02978">UpdateExpertisePoints()</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l02600">UpdateFamiliarity()</a>.</p>

</div>
</div>
<a class="anchor" id="ad3a72db14e6a1f12f9f8b7f0280fef20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::SendCharacterData </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send updated character data to the game client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l00103">103</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp_1_1Convert.html#acf55d81b176d67bdfa666b3248c16ac4a742723f1c461b21f8f2bb7b22a5daa9d">libcomp::Convert::ENCODING_CP932</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l04470">GetEntityStatsPacketData()</a>, <a class="el" href="ClientState_8cpp_source.html#l00154">channel::ClientState::GetObjectID()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#acd5042c47941aa96a203edbd19f30be3">MAX_VA_INDEX</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a0552e50a74cbfb509fa07ab7afcaab2d">libcomp::Packet::WriteFloat()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#adedccbb5548aef73dab0335ec7cdf9c8">libcomp::Packet::WriteS16()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#aee1dbb724dcbb38c1a7b4093c0828cb9">libcomp::Packet::WriteS16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a50f614a36ccb598cd9382c79edc48b69">libcomp::Packet::WriteS32()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ae476b10477f85075b3405083205eb1d9">libcomp::Packet::WriteS64Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#acb7bad5ab1a3bdba98aaa900a456a4a7">libcomp::Packet::WriteS8()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab7f2381548009b30746d4d8717bdcd7f">libcomp::Packet::WriteString16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a42d5cc275d54549c33df4f97bcbcb358">libcomp::Packet::WriteU32()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ad995a520b3f035ccb13860b4801666f6">libcomp::Packet::WriteU32Little()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2507cb23cbaf9e6544370f7604c5810b">libcomp::Packet::WriteU8()</a>.</p>

</div>
</div>
<a class="anchor" id="ad88643a8b5d589d1e2cb7afe5eb46742"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::SendDemonBoxData </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>boxID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; int8_t &gt;&#160;</td>
          <td class="paramname"><em>slots</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send information about the specified demon box to the client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection containing the box </td></tr>
    <tr><td class="paramname">boxID</td><td>Demon box ID </td></tr>
    <tr><td class="paramname">slots</td><td>Optional param to signify only specific slotss have been updated </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l01067">1067</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l01131">GetDemonBox()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l04366">GetDemonPacketData()</a>, <a class="el" href="ChannelServer_8cpp_source.html#l00626">channel::ChannelServer::GetExpirationInSeconds()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#acb7bad5ab1a3bdba98aaa900a456a4a7">libcomp::Packet::WriteS8()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2507cb23cbaf9e6544370f7604c5810b">libcomp::Packet::WriteU8()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l01008">StoreDemon()</a>.</p>

</div>
</div>
<a class="anchor" id="a5ae6ffad745e187a3a087b4ab5c1a6e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::SendDemonData </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>boxID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>demonID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send updated data about a demon in a box to the game client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">boxID</td><td>Demon box ID </td></tr>
    <tr><td class="paramname">slot</td><td>Slot of the demon to send data for </td></tr>
    <tr><td class="paramname">demonID</td><td>ID of the demon to send data for </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd>: Find status effects and figure out what below here is setting the epitaph flag (both visible in COMP window) </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l00581">581</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l01131">GetDemonBox()</a>, <a class="el" href="ClientState_8cpp_source.html#l00086">channel::ClientState::GetDemonState()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l04470">GetEntityStatsPacketData()</a>, <a class="el" href="ClientState_8cpp_source.html#l00154">channel::ClientState::GetObjectID()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#aee1dbb724dcbb38c1a7b4093c0828cb9">libcomp::Packet::WriteS16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ae476b10477f85075b3405083205eb1d9">libcomp::Packet::WriteS64Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#acb7bad5ab1a3bdba98aaa900a456a4a7">libcomp::Packet::WriteS8()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a170e6cd6bb4f2a3f28d2a892beb633d8">libcomp::Packet::WriteU16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ad995a520b3f035ccb13860b4801666f6">libcomp::Packet::WriteU32Little()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2507cb23cbaf9e6544370f7604c5810b">libcomp::Packet::WriteU8()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l02440">ContractDemon()</a>.</p>

</div>
</div>
<a class="anchor" id="a18a529c1fa2b38ba8f3db864890eec81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::SendDevilBook </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the client character's demonic compendium list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l03666">3666</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab48ed3b0bd202fbfe9886097e2c800bc">libcomp::Packet::WriteArray()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#acb7bad5ab1a3bdba98aaa900a456a4a7">libcomp::Packet::WriteS8()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a170e6cd6bb4f2a3f28d2a892beb633d8">libcomp::Packet::WriteU16Little()</a>.</p>

</div>
</div>
<a class="anchor" id="a91946073aad00bc3a2f343c56f556832"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::SendEntityStats </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>entityID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>includeSelf</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the stats of an entity that has been recalculated to the zone (and world if applicable). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">entityID</td><td>ID of the entity associated to the client to recalculate the stats of </td></tr>
    <tr><td class="paramname">includeSelf</td><td>true if the packet should be sent to the source client as well </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l00770">770</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00091">channel::ClientState::GetEntityState()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l04470">GetEntityStatsPacketData()</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l00692">RecalculateStats()</a>.</p>

</div>
</div>
<a class="anchor" id="aa1281732e45282ab8ac44f14e58d18bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::SendExertiseExtension </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the character's current expertise extension amount. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection containing the character </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l03112">3112</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#acb7bad5ab1a3bdba98aaa900a456a4a7">libcomp::Packet::WriteS8()</a>.</p>

</div>
</div>
<a class="anchor" id="af192a98b0835840b159aa30673fb9432"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::SendItemBoxData </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; objects::ItemBox &gt; &amp;&#160;</td>
          <td class="paramname"><em>box</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send information about the specified item box to the client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection containing the box </td></tr>
    <tr><td class="paramname">box</td><td>Box to send information regarding </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l01171">1171</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l01350">AddRemoveItems()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02217">UpdateDurability()</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l01812">UpdateItems()</a>.</p>

</div>
</div>
<a class="anchor" id="aeb113f98b4773fd1f3603242b3b4878c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::SendItemBoxData </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; objects::ItemBox &gt; &amp;&#160;</td>
          <td class="paramname"><em>box</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::list&lt; uint16_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>slots</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send information about the specified box slots to the client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection containing the box </td></tr>
    <tr><td class="paramname">box</td><td>Box to send information regarding </td></tr>
    <tr><td class="paramname">slots</td><td>List of slots to send information about </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l01182">1182</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l04405">GetItemDetailPacketData()</a>, <a class="el" href="ClientState_8cpp_source.html#l00154">channel::ClientState::GetObjectID()</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="ClientState_8cpp_source.html#l00210">channel::ClientState::SetObjectID()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a50f614a36ccb598cd9382c79edc48b69">libcomp::Packet::WriteS32()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a39e030f5e215177ec357db8a66cf98fb">libcomp::Packet::WriteS64()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ae476b10477f85075b3405083205eb1d9">libcomp::Packet::WriteS64Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#acb7bad5ab1a3bdba98aaa900a456a4a7">libcomp::Packet::WriteS8()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a170e6cd6bb4f2a3f28d2a892beb633d8">libcomp::Packet::WriteU16Little()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a42d5cc275d54549c33df4f97bcbcb358">libcomp::Packet::WriteU32()</a>.</p>

</div>
</div>
<a class="anchor" id="acf6d3c24a23cbf45305cf1f715a49e10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::SendLootItemData </td>
          <td>(</td>
          <td class="paramtype">const std::list&lt; std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>clients</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="namespacechannel.html#aadc2bf0d64180781705024f660526389">LootBoxState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>lState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>queue</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the loot item data related to a loot box to one or more clients. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clients</td><td>List of clients to send the packet to </td></tr>
    <tr><td class="paramname">lState</td><td>Pointer to the entity state of the loot box </td></tr>
    <tr><td class="paramname">queue</td><td>true if the packet should be queued, false if it should be sent right away </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l02019">2019</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00236">channel::ClientState::GetWorldCID()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ReadOnlyPacket.html#a392884f8baef58e545c9559e75733e69">libcomp::Packet::Seek()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="el" href="ClientState_8cpp_source.html#l00316">channel::ClientState::ToClientTime()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a0552e50a74cbfb509fa07ab7afcaab2d">libcomp::Packet::WriteFloat()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#acb7bad5ab1a3bdba98aaa900a456a4a7">libcomp::Packet::WriteS8()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a170e6cd6bb4f2a3f28d2a892beb633d8">libcomp::Packet::WriteU16Little()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ad995a520b3f035ccb13860b4801666f6">libcomp::Packet::WriteU32Little()</a>.</p>

<p>Referenced by <a class="el" href="SkillManager_8cpp_source.html#l05202">channel::SkillManager::ScheduleFreeLoot()</a>.</p>

</div>
</div>
<a class="anchor" id="a2144f385f43a1e51d6ad76b1cf6e1403"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::SendMapFlags </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the client character's obtained maps stored as an array of flags. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l03496">3496</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab48ed3b0bd202fbfe9886097e2c800bc">libcomp::Packet::WriteArray()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a170e6cd6bb4f2a3f28d2a892beb633d8">libcomp::Packet::WriteU16Little()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l03464">AddMap()</a>.</p>

</div>
</div>
<a class="anchor" id="a000fc326cfa9cf4a58559fecee05bf85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::SendMaterials </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; uint32_t &gt;&#160;</td>
          <td class="paramname"><em>updates</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the client character's material container contents. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">updates</td><td>If specified only the material types that match will be sent as an update, otherwise the full box set be sent </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l03622">3622</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ad995a520b3f035ccb13860b4801666f6">libcomp::Packet::WriteU32Little()</a>.</p>

</div>
</div>
<a class="anchor" id="ae0191ac62452e4d0dba2bae9c9f41fc8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::SendMovementSpeed </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>diffOnly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>queue</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends the specified entity's non-battle movement speed to the client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">eState</td><td>Pointer to the entity </td></tr>
    <tr><td class="paramname">diffOnly</td><td>true if the packet should only be sent if the speed is not equal to the entity's normal speed </td></tr>
    <tr><td class="paramname">queue</td><td>true if the packet should be queued, false if it should be sent right away </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l00851">851</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#a6ecebdfc908aa99dd2a58a40cab0a8ae">STAT_DEFAULT_SPEED</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a0552e50a74cbfb509fa07ab7afcaab2d">libcomp::Packet::WriteFloat()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l00692">RecalculateStats()</a>.</p>

</div>
</div>
<a class="anchor" id="a009b15dacec40ec6c96b93d962d21cce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::SendOtherCharacterData </td>
          <td>(</td>
          <td class="paramtype">const std::list&lt; std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>clients</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classchannel_1_1ClientState.html">ClientState</a> *&#160;</td>
          <td class="paramname"><em>otherState</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send updated character data to a different game client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clients</td><td>List of pointers to the client connections to send the data to </td></tr>
    <tr><td class="paramname">otherState</td><td>Pointer to the state of another client </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l00261">261</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ChannelClientConnection_8cpp_source.html#l00058">channel::ChannelClientConnection::BroadcastPacket()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp_1_1Convert.html#acf55d81b176d67bdfa666b3248c16ac4a742723f1c461b21f8f2bb7b22a5daa9d">libcomp::Convert::ENCODING_CP932</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00086">channel::ClientState::GetDemonState()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#acd5042c47941aa96a203edbd19f30be3">MAX_VA_INDEX</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a7b1c4b4277c89aa3fb079a74dbdfca63">libcomp::Packet::WriteBlank()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a0552e50a74cbfb509fa07ab7afcaab2d">libcomp::Packet::WriteFloat()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#aee1dbb724dcbb38c1a7b4093c0828cb9">libcomp::Packet::WriteS16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a50f614a36ccb598cd9382c79edc48b69">libcomp::Packet::WriteS32()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ae476b10477f85075b3405083205eb1d9">libcomp::Packet::WriteS64Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#acb7bad5ab1a3bdba98aaa900a456a4a7">libcomp::Packet::WriteS8()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab7f2381548009b30746d4d8717bdcd7f">libcomp::Packet::WriteString16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ad995a520b3f035ccb13860b4801666f6">libcomp::Packet::WriteU32Little()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2507cb23cbaf9e6544370f7604c5810b">libcomp::Packet::WriteU8()</a>.</p>

</div>
</div>
<a class="anchor" id="a6bfe0dbb2a1a8fb7e05aa6d4965c2c58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::SendOtherPartnerData </td>
          <td>(</td>
          <td class="paramtype">const std::list&lt; std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>clients</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classchannel_1_1ClientState.html">ClientState</a> *&#160;</td>
          <td class="paramname"><em>otherState</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send updated data about the active demon of a different game client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clients</td><td>List of pointers to the client connections to send the data to </td></tr>
    <tr><td class="paramname">otherState</td><td>Pointer to the state of another client </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l00526">526</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ChannelClientConnection_8cpp_source.html#l00058">channel::ChannelClientConnection::BroadcastPacket()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00086">channel::ClientState::GetDemonState()</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a0552e50a74cbfb509fa07ab7afcaab2d">libcomp::Packet::WriteFloat()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#aee1dbb724dcbb38c1a7b4093c0828cb9">libcomp::Packet::WriteS16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ae476b10477f85075b3405083205eb1d9">libcomp::Packet::WriteS64Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#acb7bad5ab1a3bdba98aaa900a456a4a7">libcomp::Packet::WriteS8()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a170e6cd6bb4f2a3f28d2a892beb633d8">libcomp::Packet::WriteU16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ad995a520b3f035ccb13860b4801666f6">libcomp::Packet::WriteU32Little()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2507cb23cbaf9e6544370f7604c5810b">libcomp::Packet::WriteU8()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l00875">SummonDemon()</a>.</p>

</div>
</div>
<a class="anchor" id="ad5744c0f13cb04fead45ab44d97995dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::SendPartnerData </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send updated data about the active demon of the game client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l00387">387</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00086">channel::ClientState::GetDemonState()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l04470">GetEntityStatsPacketData()</a>, <a class="el" href="ClientState_8cpp_source.html#l00154">channel::ClientState::GetObjectID()</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a0552e50a74cbfb509fa07ab7afcaab2d">libcomp::Packet::WriteFloat()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#aee1dbb724dcbb38c1a7b4093c0828cb9">libcomp::Packet::WriteS16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ae476b10477f85075b3405083205eb1d9">libcomp::Packet::WriteS64Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#acb7bad5ab1a3bdba98aaa900a456a4a7">libcomp::Packet::WriteS8()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a170e6cd6bb4f2a3f28d2a892beb633d8">libcomp::Packet::WriteU16Little()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ad995a520b3f035ccb13860b4801666f6">libcomp::Packet::WriteU32Little()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2507cb23cbaf9e6544370f7604c5810b">libcomp::Packet::WriteU8()</a>.</p>

<p>Referenced by <a class="el" href="PartnerDemonData_8cpp_source.html#l00040">SendPartnerData()</a>.</p>

</div>
</div>
<a class="anchor" id="a3d37a183244b0943d1daa87d498e76ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::SendPluginFlags </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the client character's obtained plugins stored as an array of flags. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l03605">3605</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab48ed3b0bd202fbfe9886097e2c800bc">libcomp::Packet::WriteArray()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a170e6cd6bb4f2a3f28d2a892beb633d8">libcomp::Packet::WriteU16Little()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l03573">AddPlugin()</a>.</p>

</div>
</div>
<a class="anchor" id="a84b614b513085a6dac3d79958aa611bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::SendValuableFlags </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the client character's obtained valuables stored as an array of flags. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l03558">3558</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab48ed3b0bd202fbfe9886097e2c800bc">libcomp::Packet::WriteArray()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a170e6cd6bb4f2a3f28d2a892beb633d8">libcomp::Packet::WriteU16Little()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l03511">AddRemoveValuable()</a>.</p>

</div>
</div>
<a class="anchor" id="a5939126c0694d2b2e6ecdb1ced0c72d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::SetStatusIcon </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>icon</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the character's status icon and send to the game clients if it has changed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection containing the character </td></tr>
    <tr><td class="paramname">icon</td><td>Value of the new status icon to set </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l00823">823</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a18fe5254e32ac247d9a254f0c713d6b6">libcomp::Packet::Clear()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#acb7bad5ab1a3bdba98aaa900a456a4a7">libcomp::Packet::WriteS8()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l02363">EndExchange()</a>.</p>

</div>
</div>
<a class="anchor" id="ac7790719cc2b664cab799f8f3bf37fca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::StoreDemon </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>updatePartyState</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>removeMode</em> = <code>2</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the current demon of the client's character to the COMP. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection containing the character </td></tr>
    <tr><td class="paramname">updatePartyState</td><td>true if the world should be updated with the character's new party state, false if it will be updated later </td></tr>
    <tr><td class="paramname">removeMode</td><td><a class="el" href="classchannel_1_1Zone.html" title="Represents a server zone containing client connections, objects, enemies, etc. ">Zone</a> removal mode to use when storing the demon </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l01008">1008</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="CharacterManager_8cpp_source.html#l03857">AddRemoveOpponent()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00086">channel::ClientState::GetDemonState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00308">channel::ClientState::GetPartyDemonPacket()</a>, <a class="el" href="ClientState_8cpp_source.html#l00247">channel::ClientState::GetPartyID()</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="CharacterManager_8cpp_source.html#l01067">SendDemonBoxData()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/ServerConstants_8h.html#a693b6ba29a440fa12e37272cebccce29">SVR_CONST</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l03683">UpdateStatusEffects()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l00875">SummonDemon()</a>.</p>

</div>
</div>
<a class="anchor" id="a2cf353f50a3a7da4850594b32516a7db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::SummonDemon </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>demonID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>updatePartyState</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Summon the demon matching the supplied ID on the client's character. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection containing the character </td></tr>
    <tr><td class="paramname">demonID</td><td>ID of the demon to summon </td></tr>
    <tr><td class="paramname">updatePartyState</td><td>true if the world should be updated with the character's new party state, false if it will be updated later </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l00875">875</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00086">channel::ClientState::GetDemonState()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02580">GetFamiliarityRank()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1PersistentObject.html#ad81a63b214eccb267d246000c33233a7">libcomp::PersistentObject::GetObjectByUUID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00168">channel::ClientState::GetObjectUUID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00308">channel::ClientState::GetPartyDemonPacket()</a>, <a class="el" href="ClientState_8cpp_source.html#l00247">channel::ClientState::GetPartyID()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#a1f64f8ea81089cdd221bb2bbe173ab6f">MAX_FAMILIARITY</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00526">SendOtherPartnerData()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l01008">StoreDemon()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/ServerConstants_8h.html#a693b6ba29a440fa12e37272cebccce29">SVR_CONST</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02600">UpdateFamiliarity()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ae476b10477f85075b3405083205eb1d9">libcomp::Packet::WriteS64Little()</a>.</p>

</div>
</div>
<a class="anchor" id="af695df55fef8f1f979b5471acd335120"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> CharacterManager::UnequipItem </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; objects::Item &gt; &amp;&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unequip the supplied item from the client's character. </p>
<p>Unlike EquipItem, the item will not be toggled if it isn't equipped. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection containing the character </td></tr>
    <tr><td class="paramname">item</td><td>Pointer to the item to unequip </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the item was unequipped, false if it was not equipped to begin with </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l02176">2176</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="CharacterManager_8cpp_source.html#l02071">EquipItem()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00154">channel::ClientState::GetObjectID()</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, and <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l02217">UpdateDurability()</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l01812">UpdateItems()</a>.</p>

</div>
</div>
<a class="anchor" id="aa440ebbe4771fc1fda69024d0e6d9ba8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> CharacterManager::UpdateDurability </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; objects::Item &gt; &amp;&#160;</td>
          <td class="paramname"><em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>isAdjust</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>updateMax</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>sendPacket</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the current or max durability of the supplied item by the specified amount. </p>
<p>The item will be saved and the client will be notified only if a visible value is updated. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">item</td><td>Pointer to the item to adjust </td></tr>
    <tr><td class="paramname">points</td><td>Durability points to adjust by </td></tr>
    <tr><td class="paramname">isAdjust</td><td>true if the points supplied should be adjusted from the existing value, false if it should be explicitly set </td></tr>
    <tr><td class="paramname">updateMax</td><td>true if the max durability is being updated, false if the current durability is being updated </td></tr>
    <tr><td class="paramname">sendPacket</td><td>true if the client should be notified upon visible update, false if this will be handled elseswhere </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if visible durability was updated, false it was not </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l02201">2201</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa30afba1da3289d40e0a83073aaa77d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> CharacterManager::UpdateDurability </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_map&lt; std::shared_ptr&lt; objects::Item &gt;, int32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>isAdjust</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>updateMax</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>sendPacket</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the current or max durability of the supplied items by the specified amounts. </p>
<p>The item will be saved and the client will be notified only if a visible value is updated. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">items</td><td>Map of pointers to the items to adjust to their point values to be adjusted by </td></tr>
    <tr><td class="paramname">isAdjust</td><td>true if the points supplied should be adjusted from the existing value, false if it should be explicitly set </td></tr>
    <tr><td class="paramname">updateMax</td><td>true if the max durability is being updated, false if the current durability is being updated </td></tr>
    <tr><td class="paramname">sendPacket</td><td>true if the client should be notified upon visible update, false if this will be handled elseswhere </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if visible durability was updated, false it was not </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l02217">2217</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00225">channel::ClientState::GetAccountUID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1PersistentObject.html#ad81a63b214eccb267d246000c33233a7">libcomp::PersistentObject::GetObjectByUUID()</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00692">RecalculateStats()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l01171">SendItemBoxData()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02176">UnequipItem()</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l01812">UpdateItems()</a>.</p>

</div>
</div>
<a class="anchor" id="a596af658b1964b3d1bc2369a2e0c8225"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::UpdateExpertise </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>skillID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>multiplier</em> = <code>-1.0f</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update a client's character's expertise for a given skill. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">skillID</td><td>Skill ID that will have it's corresponding expertise updated if it is enabled </td></tr>
    <tr><td class="paramname">multiplier</td><td>Expertise point multiplier, defaults to -1 to differentiate from explicitly being set to 1. If this is not set, the character's expertise acquisition rate will be used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000011">Todo:</a></b></dt><dd>: validate </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l02921">2921</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Log_8h.html#a0c53e5566a3b790db039421523dd4637">LOG_WARNING</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l02978">UpdateExpertisePoints()</a>.</p>

</div>
</div>
<a class="anchor" id="a052b3b6e969ba2e45cc6b0031382fc64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::UpdateExpertisePoints </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::list&lt; std::pair&lt; uint8_t, int32_t &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>pointMap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update a client's character's expertise for a set of expertise IDs. </p>
<p>If an expertise is supplied that is not enabled it will still be updated. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">pointMap</td><td>Map of expertise IDs to points that will be added. The order the expertise are passed in is the order they will be processed in in case the limit is reached. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l02978">2978</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DatabaseChangeSet.html#a03a7037cb49e525b13310dfd97f469dc">libcomp::DatabaseChangeSet::Create()</a>, <a class="el" href="ClientState_8cpp_source.html#l00225">channel::ClientState::GetAccountUID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l03095">GetMaxExpertisePoints()</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00692">RecalculateStats()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#acb7bad5ab1a3bdba98aaa900a456a4a7">libcomp::Packet::WriteS8()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l02921">UpdateExpertise()</a>.</p>

</div>
</div>
<a class="anchor" id="a8a14311b0919dba5634b954c57dc8e6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::UpdateFamiliarity </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>familiarity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>isAdjust</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>sendPacket</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the current partner demon's familiarity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">familiarity</td><td>Set or adjusted familiarity points to update the demon with </td></tr>
    <tr><td class="paramname">isAdjust</td><td>true if the familiarity value should be added to the current value, false if it should replace the curent value </td></tr>
    <tr><td class="paramname">sendPacket</td><td>true if the zone should be informed of the updated demon familiarity </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l02600">2600</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="CharacterManager_8cpp_source.html#l04073">CalculateDemonBaseStats()</a>, <a class="el" href="ClientState_8cpp_source.html#l00225">channel::ClientState::GetAccountUID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00086">channel::ClientState::GetDemonState()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02580">GetFamiliarityRank()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#a1f64f8ea81089cdd221bb2bbe173ab6f">MAX_FAMILIARITY</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00692">RecalculateStats()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a170e6cd6bb4f2a3f28d2a892beb633d8">libcomp::Packet::WriteU16Little()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l02739">ExperienceGain()</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l00875">SummonDemon()</a>.</p>

</div>
</div>
<a class="anchor" id="a1e3563a5520544cc15825f80e00f30bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> CharacterManager::UpdateItems </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>validateOnly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::list&lt; std::shared_ptr&lt; objects::Item &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>insertItems</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unordered_map&lt; std::shared_ptr&lt; objects::Item &gt;, uint16_t &gt;&#160;</td>
          <td class="paramname"><em>stackAdjustItems</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update or validate a set of item changes to be applied simultaneously, accounting for deletes that will clear up slots for inserts etc. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection to apply the changes to </td></tr>
    <tr><td class="paramname">validateOnly</td><td>true if the update should just be checked, false if the changes should actually be applied </td></tr>
    <tr><td class="paramname">insertItems</td><td>List of new items to insert </td></tr>
    <tr><td class="paramname">stackAdjustItems</td><td>Map of items to adjust the stack size of including deletes listed with stack size 0 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the changes could be applied (or validated), false if they cannot </dd></dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l01812">1812</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DatabaseChangeSet.html#a03a7037cb49e525b13310dfd97f469dc">libcomp::DatabaseChangeSet::Create()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="CharacterManager_8cpp_source.html#l01171">SendItemBoxData()</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l02176">UnequipItem()</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l01697">PayMacca()</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l02217">UpdateDurability()</a>.</p>

</div>
</div>
<a class="anchor" id="acce6083979c3bcd39245f63b8a9f4115"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::UpdateLNC </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>lnc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the client's character's LNC value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection containing the character </td></tr>
    <tr><td class="paramname">lnc</td><td>LNC alignment value </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l02408">2408</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00225">channel::ClientState::GetAccountUID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#aee1dbb724dcbb38c1a7b4093c0828cb9">libcomp::Packet::WriteS16Little()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>.</p>

</div>
</div>
<a class="anchor" id="a1bffcfac2ff7ced02d3eb0af6238e217"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::UpdateSkillPoints </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>points</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increase the client's character available skill points. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">points</td><td>Number of points to gain </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l03129">3129</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00225">channel::ClientState::GetAccountUID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>.</p>

</div>
</div>
<a class="anchor" id="a0c2fe74ade843973c2146200402fc55e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::UpdateSoulPoints </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>isAdjust</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the current partner demon's soul points. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">points</td><td>Set or adjusted soul points to update the demon with </td></tr>
    <tr><td class="paramname">isAdjust</td><td>true if the points value should be added to the current value, false if it should replace the curent value </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l02684">2684</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00225">channel::ClientState::GetAccountUID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00081">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00086">channel::ClientState::GetDemonState()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#a5eb388ce877d27a18bc3795cc1ca7875">MAX_SOUL_POINTS</a>, <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>, <a class="el" href="ChannelClientConnection_8h_source.html#l00128">channel::state()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>.</p>

</div>
</div>
<a class="anchor" id="a98b74f2446836083e4f991f4b0df7dab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> CharacterManager::UpdateStatusEffects </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>queueSave</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the status effects assigned directly on a character or demon entity from the current status effect states and save them to the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eState</td><td>Pointer to the entity to save the status effects for </td></tr>
    <tr><td class="paramname">queueSave</td><td>true if the save action should be queued, false if it should be done synchronously </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l03683">3683</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DatabaseChangeSet.html#a03a7037cb49e525b13310dfd97f469dc">libcomp::DatabaseChangeSet::Create()</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00831">channel::ActiveEntityStateImp&lt; T &gt;::GetEntity()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1PersistentObject.html#ad81a63b214eccb267d246000c33233a7">libcomp::PersistentObject::GetObjectByUUID()</a>, and <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l01008">StoreDemon()</a>.</p>

</div>
</div>
<a class="anchor" id="a856e6410ae3f414f2451cfcb59ada432"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CharacterManager::UpdateWorldDisplayState </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>entities</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the state of the supplied entities on the world server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entities</td><td>List of pointers to entities to update on the world server. If the supplied entities are not associated to any others at a world server level, nothing will be sent. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CharacterManager_8cpp_source.html#l04027">4027</a> of file <a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00331">channel::ClientState::GetEntityClientState()</a>, and <a class="el" href="CharacterManager_8h_source.html#l00927">mServer</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ab492ee0001c184164b55c06dce3ddcdc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::weak_ptr&lt;<a class="el" href="classchannel_1_1ChannelServer.html">ChannelServer</a>&gt; channel::CharacterManager::mServer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the channel server. </p>

<p>Definition at line <a class="el" href="CharacterManager_8h_source.html#l00927">927</a> of file <a class="el" href="CharacterManager_8h_source.html">CharacterManager.h</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l03464">AddMap()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l03573">AddPlugin()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l01350">AddRemoveItems()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l03511">AddRemoveValuable()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l04073">CalculateDemonBaseStats()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l03815">CancelStatusEffects()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02440">ContractDemon()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l01905">CreateLootFromDrops()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02363">EndExchange()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02071">EquipItem()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02739">ExperienceGain()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02532">GenerateDemon()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l01312">GenerateItem()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l03252">GetSynthOutcome()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l03150">LearnSkill()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00692">RecalculateStats()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00103">SendCharacterData()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00770">SendEntityStats()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l01182">SendItemBoxData()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l03622">SendMaterials()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00261">SendOtherCharacterData()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00526">SendOtherPartnerData()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00387">SendPartnerData()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00823">SetStatusIcon()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l01008">StoreDemon()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l00875">SummonDemon()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02176">UnequipItem()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02217">UpdateDurability()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02921">UpdateExpertise()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02978">UpdateExpertisePoints()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02600">UpdateFamiliarity()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l01812">UpdateItems()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02408">UpdateLNC()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l03129">UpdateSkillPoints()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l02684">UpdateSoulPoints()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l03683">UpdateStatusEffects()</a>, and <a class="el" href="CharacterManager_8cpp_source.html#l04027">UpdateWorldDisplayState()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="CharacterManager_8h_source.html">CharacterManager.h</a></li>
<li><a class="el" href="CharacterManager_8cpp_source.html">CharacterManager.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
