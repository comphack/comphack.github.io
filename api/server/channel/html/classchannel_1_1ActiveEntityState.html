<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>COMP_hack: channel::ActiveEntityState Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="reflogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">COMP_hack
   </div>
   <div id="projectbrief">Shin Megami Tensei Online: IMAGINE Server Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacechannel.html">channel</a></li><li class="navelem"><a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classchannel_1_1ActiveEntityState-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">channel::ActiveEntityState Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents an active entity on the channel server.  
 <a href="classchannel_1_1ActiveEntityState.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ActiveEntityState_8h_source.html">ActiveEntityState.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for channel::ActiveEntityState:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classchannel_1_1ActiveEntityState.png" usemap="#channel::ActiveEntityState_map" alt=""/>
  <map id="channel::ActiveEntityState_map" name="channel::ActiveEntityState_map">
<area href="classchannel_1_1ActiveEntityStateImp.html" alt="channel::ActiveEntityStateImp&lt; objects::Character &gt;" shape="rect" coords="0,112,304,136"/>
<area href="classchannel_1_1ActiveEntityStateImp.html" alt="channel::ActiveEntityStateImp&lt; objects::Demon &gt;" shape="rect" coords="314,112,618,136"/>
<area href="classchannel_1_1ActiveEntityStateImp.html" alt="channel::ActiveEntityStateImp&lt; objects::Enemy &gt;" shape="rect" coords="628,112,932,136"/>
<area href="classchannel_1_1ActiveEntityStateImp.html" title="Contains the state of an active entity related to a channel. " alt="channel::ActiveEntityStateImp&lt; T &gt;" shape="rect" coords="942,112,1246,136"/>
<area href="classchannel_1_1CharacterState.html" title="Contains the state of a player character on the channel. " alt="channel::CharacterState" shape="rect" coords="0,168,304,192"/>
<area href="classchannel_1_1DemonState.html" title="Contains the state of a partner demon related to a channel. " alt="channel::DemonState" shape="rect" coords="314,168,618,192"/>
<area href="classchannel_1_1EnemyState.html" title="Contains the state of an enemy related to a channel as well as functionality to be used by the script..." alt="channel::EnemyState" shape="rect" coords="628,168,932,192"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a005c58b0a1a9cc6d4cf33072314e29dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a005c58b0a1a9cc6d4cf33072314e29dc">ActiveEntityState</a> ()</td></tr>
<tr class="memdesc:a005c58b0a1a9cc6d4cf33072314e29dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new active entity state.  <a href="#a005c58b0a1a9cc6d4cf33072314e29dc">More...</a><br /></td></tr>
<tr class="separator:a005c58b0a1a9cc6d4cf33072314e29dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6545bb6fb1972d45c76aa28e0723ca35"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a6545bb6fb1972d45c76aa28e0723ca35">ActiveEntityState</a> (const <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &amp;other)</td></tr>
<tr class="memdesc:a6545bb6fb1972d45c76aa28e0723ca35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Explicitly defined copy constructor necessary due to removal of implicit constructor from non-copyable mutex member.  <a href="#a6545bb6fb1972d45c76aa28e0723ca35">More...</a><br /></td></tr>
<tr class="separator:a6545bb6fb1972d45c76aa28e0723ca35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1945edacc9db9dd0c0b8fc57ef0ba5a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ae1945edacc9db9dd0c0b8fc57ef0ba5a">AddRemoveOpponent</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> add, int32_t opponentID)</td></tr>
<tr class="memdesc:ae1945edacc9db9dd0c0b8fc57ef0ba5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add or remove an opponent with the specified entity ID.  <a href="#ae1945edacc9db9dd0c0b8fc57ef0ba5a">More...</a><br /></td></tr>
<tr class="separator:ae1945edacc9db9dd0c0b8fc57ef0ba5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66bf7fb8d7cd4587e53b9f51128857f2"><td class="memItemLeft" align="right" valign="top">std::set&lt; uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a66bf7fb8d7cd4587e53b9f51128857f2">AddStatusEffects</a> (const <a class="el" href="ActiveEntityState_8h.html#a8c121a6e760a339634841ced705f0616">AddStatusEffectMap</a> &amp;effects, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *definitionManager, uint32_t now=0, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> queueChanges=true)</td></tr>
<tr class="memdesc:a66bf7fb8d7cd4587e53b9f51128857f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add new status effects to the entity and activate them.  <a href="#a66bf7fb8d7cd4587e53b9f51128857f2">More...</a><br /></td></tr>
<tr class="separator:a66bf7fb8d7cd4587e53b9f51128857f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae18bb9a1c3476876a23040c08b5ce37a"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ae18bb9a1c3476876a23040c08b5ce37a">CanAct</a> ()</td></tr>
<tr class="memdesc:ae18bb9a1c3476876a23040c08b5ce37a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the entity is able to move or activate a skill.  <a href="#ae18bb9a1c3476876a23040c08b5ce37a">More...</a><br /></td></tr>
<tr class="separator:ae18bb9a1c3476876a23040c08b5ce37a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affba706127bff8c636e153cb69c29910"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#affba706127bff8c636e153cb69c29910">CancelStatusEffects</a> (uint8_t cancelFlags)</td></tr>
<tr class="memdesc:affba706127bff8c636e153cb69c29910"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel existing status effects via cancel event flags.  <a href="#affba706127bff8c636e153cb69c29910">More...</a><br /></td></tr>
<tr class="separator:affba706127bff8c636e153cb69c29910"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af56db75ec5333f4d99949f271c6a38de"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#af56db75ec5333f4d99949f271c6a38de">CanMove</a> ()</td></tr>
<tr class="memdesc:af56db75ec5333f4d99949f271c6a38de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the entity is able to move.  <a href="#af56db75ec5333f4d99949f271c6a38de">More...</a><br /></td></tr>
<tr class="separator:af56db75ec5333f4d99949f271c6a38de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a513eb93dd9e9b3d8956459355bc08a98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a513eb93dd9e9b3d8956459355bc08a98">ExpireStatusEffects</a> (const std::set&lt; uint32_t &gt; &amp;effectTypes)</td></tr>
<tr class="memdesc:a513eb93dd9e9b3d8956459355bc08a98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expire existing status effects by effect type ID.  <a href="#a513eb93dd9e9b3d8956459355bc08a98">More...</a><br /></td></tr>
<tr class="separator:a513eb93dd9e9b3d8956459355bc08a98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a209bb96b9316bf12724e0a48891acc97"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a209bb96b9316bf12724e0a48891acc97">ExpireStatusTimes</a> (uint64_t now)</td></tr>
<tr class="memdesc:a209bb96b9316bf12724e0a48891acc97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expire any status times that have passed.  <a href="#a209bb96b9316bf12724e0a48891acc97">More...</a><br /></td></tr>
<tr class="separator:a209bb96b9316bf12724e0a48891acc97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66d0c35bb1d4ee3e361fafb02fcf629a"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a66d0c35bb1d4ee3e361fafb02fcf629a">GetActionTime</a> (const <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1String.html">libcomp::String</a> &amp;action)</td></tr>
<tr class="memdesc:a66d0c35bb1d4ee3e361fafb02fcf629a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a timestamp associated to an enemy specific action.  <a href="#a66d0c35bb1d4ee3e361fafb02fcf629a">More...</a><br /></td></tr>
<tr class="separator:a66d0c35bb1d4ee3e361fafb02fcf629a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7683912a1ff2b1a5dd162b5441a7dcc5"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classchannel_1_1AIState.html">channel::AIState</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a7683912a1ff2b1a5dd162b5441a7dcc5">GetAIState</a> () const </td></tr>
<tr class="memdesc:a7683912a1ff2b1a5dd162b5441a7dcc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="classchannel_1_1AIState.html" title="Contains the state of an entity&#39;s AI information when controlled by the channel. ">AIState</a> of the entity.  <a href="#a7683912a1ff2b1a5dd162b5441a7dcc5">More...</a><br /></td></tr>
<tr class="separator:a7683912a1ff2b1a5dd162b5441a7dcc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d6d36cbc13f6afee27eac6ad1545a2e"><td class="memItemLeft" align="right" valign="top">virtual std::set&lt; uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a2d6d36cbc13f6afee27eac6ad1545a2e">GetAllSkills</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *definitionManager, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> includeTokusei)</td></tr>
<tr class="memdesc:a2d6d36cbc13f6afee27eac6ad1545a2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all skills that the entity currently has available.  <a href="#a2d6d36cbc13f6afee27eac6ad1545a2e">More...</a><br /></td></tr>
<tr class="separator:a2d6d36cbc13f6afee27eac6ad1545a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bae772edcb18a6edf81681b0331dd25"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr&lt; objects::EntityStats &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a0bae772edcb18a6edf81681b0331dd25">GetCoreStats</a> ()</td></tr>
<tr class="memdesc:a0bae772edcb18a6edf81681b0331dd25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the core stats associated to the active entity.  <a href="#a0bae772edcb18a6edf81681b0331dd25">More...</a><br /></td></tr>
<tr class="separator:a0bae772edcb18a6edf81681b0331dd25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa960f7643649ac1fc26d8baef048f5df"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#aa960f7643649ac1fc26d8baef048f5df">GetCorrectValue</a> (<a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a> tableID, std::shared_ptr&lt; objects::CalculatedEntityState &gt; calcState=nullptr)</td></tr>
<tr class="memdesc:aa960f7643649ac1fc26d8baef048f5df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the adjusted correct table value associated to the entity.  <a href="#aa960f7643649ac1fc26d8baef048f5df">More...</a><br /></td></tr>
<tr class="separator:aa960f7643649ac1fc26d8baef048f5df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9364c47b242a5691d9500504c2a3e2f8"><td class="memItemLeft" align="right" valign="top">std::list&lt; std::pair&lt; std::shared_ptr&lt; objects::StatusEffect &gt;, uint32_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a9364c47b242a5691d9500504c2a3e2f8">GetCurrentStatusEffectStates</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *definitionManager, uint32_t now=0)</td></tr>
<tr class="memdesc:a9364c47b242a5691d9500504c2a3e2f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a snapshot of status effects currently on the entity with their corresponding expiration time which is based upon he supplied time for relative duration effects.  <a href="#a9364c47b242a5691d9500504c2a3e2f8">More...</a><br /></td></tr>
<tr class="separator:a9364c47b242a5691d9500504c2a3e2f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38d4d0eba28e2c3dec7bee89df6c244a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a38d4d0eba28e2c3dec7bee89df6c244a">GetDistance</a> (float x, float y, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> squared=false)</td></tr>
<tr class="memdesc:a38d4d0eba28e2c3dec7bee89df6c244a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the distance between the entity and the specified X and Y coordiates.  <a href="#a38d4d0eba28e2c3dec7bee89df6c244a">More...</a><br /></td></tr>
<tr class="separator:a38d4d0eba28e2c3dec7bee89df6c244a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acef6b10c4095a4b2d0ed8b5f3ff94a5b"><td class="memItemLeft" align="right" valign="top">virtual const libobjgen::UUID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#acef6b10c4095a4b2d0ed8b5f3ff94a5b">GetEntityUUID</a> ()</td></tr>
<tr class="memdesc:acef6b10c4095a4b2d0ed8b5f3ff94a5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the the entity UUID associated to the entity this state represents.  <a href="#acef6b10c4095a4b2d0ed8b5f3ff94a5b">More...</a><br /></td></tr>
<tr class="separator:acef6b10c4095a4b2d0ed8b5f3ff94a5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1582e47b378c99a62134ebd97b68d3b"><td class="memItemLeft" align="right" valign="top">virtual uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ae1582e47b378c99a62134ebd97b68d3b">GetLNCType</a> ()</td></tr>
<tr class="memdesc:ae1582e47b378c99a62134ebd97b68d3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a numeric representation (also stored in constants) of the entity's current alignment.  <a href="#ae1582e47b378c99a62134ebd97b68d3b">More...</a><br /></td></tr>
<tr class="separator:ae1582e47b378c99a62134ebd97b68d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a11050fb65a386e982332da21db2c87"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a3a11050fb65a386e982332da21db2c87">GetMovementSpeed</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> altSpeed=false)</td></tr>
<tr class="memdesc:a3a11050fb65a386e982332da21db2c87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the entity's adjusted movement speed.  <a href="#a3a11050fb65a386e982332da21db2c87">More...</a><br /></td></tr>
<tr class="separator:a3a11050fb65a386e982332da21db2c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d841d6660fa605b5ca4f5628ec0c667"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a3d841d6660fa605b5ca4f5628ec0c667">GetNextActivatedAbilityID</a> ()</td></tr>
<tr class="memdesc:a3d841d6660fa605b5ca4f5628ec0c667"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the next activated ability ID from 0 to 127.  <a href="#a3d841d6660fa605b5ca4f5628ec0c667">More...</a><br /></td></tr>
<tr class="separator:a3d841d6660fa605b5ca4f5628ec0c667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac468fcaa3b7dd039c9924d1ef55e880a"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ac468fcaa3b7dd039c9924d1ef55e880a">GetNRAChance</a> (uint8_t nraIdx, <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a> type, std::shared_ptr&lt; objects::CalculatedEntityState &gt; calcState=nullptr)</td></tr>
<tr class="memdesc:ac468fcaa3b7dd039c9924d1ef55e880a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the entity's chance to null, reflect or absorb the specified affinity.  <a href="#ac468fcaa3b7dd039c9924d1ef55e880a">More...</a><br /></td></tr>
<tr class="separator:ac468fcaa3b7dd039c9924d1ef55e880a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28eb0b46ea358d21487b2f855ef3bfd3"><td class="memItemLeft" align="right" valign="top">std::set&lt; int32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a28eb0b46ea358d21487b2f855ef3bfd3">GetOpponentIDs</a> () const </td></tr>
<tr class="memdesc:a28eb0b46ea358d21487b2f855ef3bfd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the entity IDs of opponents this entity is in combat against.  <a href="#a28eb0b46ea358d21487b2f855ef3bfd3">More...</a><br /></td></tr>
<tr class="separator:a28eb0b46ea358d21487b2f855ef3bfd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af08840e2fef8a61e0737b61a85bb9c20"><td class="memItemLeft" align="right" valign="top">const std::unordered_map&lt; uint32_t, std::shared_ptr&lt; objects::StatusEffect &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#af08840e2fef8a61e0737b61a85bb9c20">GetStatusEffects</a> () const </td></tr>
<tr class="memdesc:af08840e2fef8a61e0737b61a85bb9c20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current status effect map.  <a href="#af08840e2fef8a61e0737b61a85bb9c20">More...</a><br /></td></tr>
<tr class="separator:af08840e2fef8a61e0737b61a85bb9c20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab75cc6f82b822318ec0816b6ccebd30a"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classchannel_1_1Zone.html">Zone</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ab75cc6f82b822318ec0816b6ccebd30a">GetZone</a> () const </td></tr>
<tr class="memdesc:ab75cc6f82b822318ec0816b6ccebd30a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the zone the entity currently exists in.  <a href="#ab75cc6f82b822318ec0816b6ccebd30a">More...</a><br /></td></tr>
<tr class="separator:ab75cc6f82b822318ec0816b6ccebd30a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2260cd031d413d44dd727a014cffc8a"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ad2260cd031d413d44dd727a014cffc8a">HasOpponent</a> (int32_t opponentID=0)</td></tr>
<tr class="memdesc:ad2260cd031d413d44dd727a014cffc8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the entity has an opponent with the specified entity ID.  <a href="#ad2260cd031d413d44dd727a014cffc8a">More...</a><br /></td></tr>
<tr class="separator:ad2260cd031d413d44dd727a014cffc8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6edd9f3b8abd577890af858d5dc85dc"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ab6edd9f3b8abd577890af858d5dc85dc">IsAlive</a> () const </td></tr>
<tr class="memdesc:ab6edd9f3b8abd577890af858d5dc85dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the entity is currently alive.  <a href="#ab6edd9f3b8abd577890af858d5dc85dc">More...</a><br /></td></tr>
<tr class="separator:ab6edd9f3b8abd577890af858d5dc85dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae897ad90fe5cb5f505f2de5a0da374c7"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ae897ad90fe5cb5f505f2de5a0da374c7">IsLNCType</a> (uint8_t lncType, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> invertFlag)</td></tr>
<tr class="memdesc:ae897ad90fe5cb5f505f2de5a0da374c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the entity matches the supplied LNC type.  <a href="#ae897ad90fe5cb5f505f2de5a0da374c7">More...</a><br /></td></tr>
<tr class="separator:ae897ad90fe5cb5f505f2de5a0da374c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa86a6658fd24aeafde4b18c0c97d0433"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#aa86a6658fd24aeafde4b18c0c97d0433">IsMoving</a> () const </td></tr>
<tr class="memdesc:aa86a6658fd24aeafde4b18c0c97d0433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the entity is currently not at their destination position.  <a href="#aa86a6658fd24aeafde4b18c0c97d0433">More...</a><br /></td></tr>
<tr class="separator:aa86a6658fd24aeafde4b18c0c97d0433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af995e3c25687f8b2692dc523f08c04b1"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#af995e3c25687f8b2692dc523f08c04b1">IsRotating</a> () const </td></tr>
<tr class="memdesc:af995e3c25687f8b2692dc523f08c04b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the entity is currently not at their destination rotation.  <a href="#af995e3c25687f8b2692dc523f08c04b1">More...</a><br /></td></tr>
<tr class="separator:af995e3c25687f8b2692dc523f08c04b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae83be0aeee9a600a99286fc1db8fc8d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ae83be0aeee9a600a99286fc1db8fc8d1">Move</a> (float xPos, float yPos, uint64_t now)</td></tr>
<tr class="memdesc:ae83be0aeee9a600a99286fc1db8fc8d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the entity's destination position based on the supplied values and uses the current position values to set the origin.  <a href="#ae83be0aeee9a600a99286fc1db8fc8d1">More...</a><br /></td></tr>
<tr class="separator:ae83be0aeee9a600a99286fc1db8fc8d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0539c15041b0ac7c49aa586f4b28eceb"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a0539c15041b0ac7c49aa586f4b28eceb">PopEffectTicks</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *definitionManager, uint32_t time, int32_t &amp;hpTDamage, int32_t &amp;mpTDamage, std::set&lt; uint32_t &gt; &amp;added, std::set&lt; uint32_t &gt; &amp;updated, std::set&lt; uint32_t &gt; &amp;removed)</td></tr>
<tr class="memdesc:a0539c15041b0ac7c49aa586f4b28eceb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pop effect events that have occurred past the specified time off the event mapping for the entity and their current zone.  <a href="#a0539c15041b0ac7c49aa586f4b28eceb">More...</a><br /></td></tr>
<tr class="separator:a0539c15041b0ac7c49aa586f4b28eceb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa40113ab2ad642f5a232f1807dcaca76"><td class="memItemLeft" align="right" valign="top">std::set&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#aa40113ab2ad642f5a232f1807dcaca76">PopNRAShields</a> (const std::list&lt; <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a> &gt; &amp;types)</td></tr>
<tr class="memdesc:aa40113ab2ad642f5a232f1807dcaca76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrease the corresponding NRA affinity shield effect stacks and return the NRA correct table indexes that apply.  <a href="#aa40113ab2ad642f5a232f1807dcaca76">More...</a><br /></td></tr>
<tr class="separator:aa40113ab2ad642f5a232f1807dcaca76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f03eb29a5e6c720d5eb4b1d82b79e66"><td class="memItemLeft" align="right" valign="top">virtual <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a1f03eb29a5e6c720d5eb4b1d82b79e66">Ready</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> ignoreDisplayState=false)</td></tr>
<tr class="memdesc:a1f03eb29a5e6c720d5eb4b1d82b79e66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the entity state has everything needed to start being used.  <a href="#a1f03eb29a5e6c720d5eb4b1d82b79e66">More...</a><br /></td></tr>
<tr class="separator:a1f03eb29a5e6c720d5eb4b1d82b79e66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59bfa238a72ef7535e35ebfd356c60d8"><td class="memItemLeft" align="right" valign="top">virtual <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a59bfa238a72ef7535e35ebfd356c60d8">RecalcDisabledSkills</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *definitionManager)</td></tr>
<tr class="memdesc:a59bfa238a72ef7535e35ebfd356c60d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculate the set of skills available ot the entity that are currently disabled.  <a href="#a59bfa238a72ef7535e35ebfd356c60d8">More...</a><br /></td></tr>
<tr class="separator:a59bfa238a72ef7535e35ebfd356c60d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a655ff2c1dfbc2b1393874c226a7d5c15"><td class="memItemLeft" align="right" valign="top">virtual uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a655ff2c1dfbc2b1393874c226a7d5c15">RecalculateStats</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *definitionManager, std::shared_ptr&lt; objects::CalculatedEntityState &gt; calcState=nullptr)</td></tr>
<tr class="memdesc:a655ff2c1dfbc2b1393874c226a7d5c15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculate the entity's stats, adjusted by equipment and effects.  <a href="#a655ff2c1dfbc2b1393874c226a7d5c15">More...</a><br /></td></tr>
<tr class="separator:a655ff2c1dfbc2b1393874c226a7d5c15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad58ca1704077c66eae6e6cfa5f93d137"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ad58ca1704077c66eae6e6cfa5f93d137">RefreshCurrentPosition</a> (uint64_t now)</td></tr>
<tr class="memdesc:ad58ca1704077c66eae6e6cfa5f93d137"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the entity's current position and rotation values based upon the source/destination ticks and the current time.  <a href="#ad58ca1704077c66eae6e6cfa5f93d137">More...</a><br /></td></tr>
<tr class="separator:ad58ca1704077c66eae6e6cfa5f93d137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad61a7487707c26af826391961d0fd7a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ad61a7487707c26af826391961d0fd7a5">RefreshKnockback</a> (uint64_t now, float recoveryBoost)</td></tr>
<tr class="memdesc:ad61a7487707c26af826391961d0fd7a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the entity's current knockback value based on the last ticks associated to the value and the current time.  <a href="#ad61a7487707c26af826391961d0fd7a5">More...</a><br /></td></tr>
<tr class="separator:ad61a7487707c26af826391961d0fd7a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae22c1b7e0c0ff0217bf4d5d255e4db13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ae22c1b7e0c0ff0217bf4d5d255e4db13">Rotate</a> (float rot, uint64_t now)</td></tr>
<tr class="memdesc:ae22c1b7e0c0ff0217bf4d5d255e4db13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the entity's destination rotation based on the supplied values and uses the current rotation values to set the origin.  <a href="#ae22c1b7e0c0ff0217bf4d5d255e4db13">More...</a><br /></td></tr>
<tr class="separator:ae22c1b7e0c0ff0217bf4d5d255e4db13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eca26bba7bcac79034d2adfa7f584f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a5eca26bba7bcac79034d2adfa7f584f7">SetActionTime</a> (const <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1String.html">libcomp::String</a> &amp;action, uint64_t time)</td></tr>
<tr class="memdesc:a5eca26bba7bcac79034d2adfa7f584f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores a timestamp associated to an enemy specific action.  <a href="#a5eca26bba7bcac79034d2adfa7f584f7">More...</a><br /></td></tr>
<tr class="separator:a5eca26bba7bcac79034d2adfa7f584f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23f9604c12ecf053dab3cb4511c7a624"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a23f9604c12ecf053dab3cb4511c7a624">SetAIState</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1AIState.html">channel::AIState</a> &gt; &amp;aiState)</td></tr>
<tr class="memdesc:a23f9604c12ecf053dab3cb4511c7a624"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the <a class="el" href="classchannel_1_1AIState.html" title="Contains the state of an entity&#39;s AI information when controlled by the channel. ">AIState</a> of the entity.  <a href="#a23f9604c12ecf053dab3cb4511c7a624">More...</a><br /></td></tr>
<tr class="separator:a23f9604c12ecf053dab3cb4511c7a624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6616f760c961b349baf3b81d0bea31dc"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a6616f760c961b349baf3b81d0bea31dc">SetHPMP</a> (int32_t hp, int32_t mp, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> adjust, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> canOverflow=false)</td></tr>
<tr class="memdesc:a6616f760c961b349baf3b81d0bea31dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the HP and/or MP of the entity to either a specified or adjusted value.  <a href="#a6616f760c961b349baf3b81d0bea31dc">More...</a><br /></td></tr>
<tr class="separator:a6616f760c961b349baf3b81d0bea31dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c6d6218e677353ee81718c7a821be17"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a7c6d6218e677353ee81718c7a821be17">SetHPMP</a> (int32_t hp, int32_t mp, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> adjust, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> canOverflow, int32_t clenchChance, int32_t &amp;hpAdjusted, int32_t &amp;mpAdjusted)</td></tr>
<tr class="memdesc:a7c6d6218e677353ee81718c7a821be17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the HP and/or MP of the entity to either a specified or adjusted value.  <a href="#a7c6d6218e677353ee81718c7a821be17">More...</a><br /></td></tr>
<tr class="separator:a7c6d6218e677353ee81718c7a821be17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc6fe40cb7d3047ea41b17ff76c3f7df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#abc6fe40cb7d3047ea41b17ff76c3f7df">SetStatusEffects</a> (const std::list&lt; std::shared_ptr&lt; objects::StatusEffect &gt;&gt; &amp;effects)</td></tr>
<tr class="memdesc:abc6fe40cb7d3047ea41b17ff76c3f7df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the status effects currently on the entity.  <a href="#abc6fe40cb7d3047ea41b17ff76c3f7df">More...</a><br /></td></tr>
<tr class="separator:abc6fe40cb7d3047ea41b17ff76c3f7df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad037282b3c14165da135e4205658a951"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ad037282b3c14165da135e4205658a951">SetStatusEffectsActive</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> activate, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *definitionManager, uint32_t now=0)</td></tr>
<tr class="memdesc:ad037282b3c14165da135e4205658a951"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate or deactivate the entity's status effect states.  <a href="#ad037282b3c14165da135e4205658a951">More...</a><br /></td></tr>
<tr class="separator:ad037282b3c14165da135e4205658a951"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30007b72d6e529ca1bb069a699f4ed31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a30007b72d6e529ca1bb069a699f4ed31">SetZone</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1Zone.html">Zone</a> &gt; &amp;zone, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> updatePrevious=true)</td></tr>
<tr class="memdesc:a30007b72d6e529ca1bb069a699f4ed31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the entity's current zone.  <a href="#a30007b72d6e529ca1bb069a699f4ed31">More...</a><br /></td></tr>
<tr class="separator:a30007b72d6e529ca1bb069a699f4ed31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aaf79e1f896744447d2db61abb9c9ec"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a7aaf79e1f896744447d2db61abb9c9ec">SkillAvailable</a> (uint32_t skillID)</td></tr>
<tr class="memdesc:a7aaf79e1f896744447d2db61abb9c9ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the entity has the supplied skill learned and not currently disabled.  <a href="#a7aaf79e1f896744447d2db61abb9c9ec">More...</a><br /></td></tr>
<tr class="separator:a7aaf79e1f896744447d2db61abb9c9ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cad211a8af9bca5239ab9f7579f3120"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a2cad211a8af9bca5239ab9f7579f3120">Stop</a> (uint64_t now)</td></tr>
<tr class="memdesc:a2cad211a8af9bca5239ab9f7579f3120"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the entity's movement based on the current postion information.  <a href="#a2cad211a8af9bca5239ab9f7579f3120">More...</a><br /></td></tr>
<tr class="separator:a2cad211a8af9bca5239ab9f7579f3120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4c9670f327a31be928b619b000110d4"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ab4c9670f327a31be928b619b000110d4">UpdateKnockback</a> (uint64_t now, float decrease, float recoveryBoost)</td></tr>
<tr class="memdesc:ab4c9670f327a31be928b619b000110d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refresh and then reduce the entity's knockback value.  <a href="#ab4c9670f327a31be928b619b000110d4">More...</a><br /></td></tr>
<tr class="separator:ab4c9670f327a31be928b619b000110d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a2d02b85123163c97fd1e593eb514640b"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a2d02b85123163c97fd1e593eb514640b">CorrectRotation</a> (float rot)</td></tr>
<tr class="memdesc:a2d02b85123163c97fd1e593eb514640b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Corrects rotation values that have exceeded the minimum or maximum allowed range.  <a href="#a2d02b85123163c97fd1e593eb514640b">More...</a><br /></td></tr>
<tr class="separator:a2d02b85123163c97fd1e593eb514640b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a002f85b0ac7e3213d13cce85ae1a5b1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a002f85b0ac7e3213d13cce85ae1a5b1c">ActivateStatusEffect</a> (const std::shared_ptr&lt; objects::StatusEffect &gt; &amp;effect, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *definitionManager, uint32_t now, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> timeOnly)</td></tr>
<tr class="memdesc:a002f85b0ac7e3213d13cce85ae1a5b1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate a status effect added to the entity's current status effect set.  <a href="#a002f85b0ac7e3213d13cce85ae1a5b1c">More...</a><br /></td></tr>
<tr class="separator:a002f85b0ac7e3213d13cce85ae1a5b1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a318eb1d9febb3704d218b14cde573230"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a318eb1d9febb3704d218b14cde573230">AdjustStats</a> (const std::list&lt; std::shared_ptr&lt; objects::MiCorrectTbl &gt;&gt; &amp;adjustments, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">libcomp::EnumMap</a>&lt; <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>, int16_t &gt; &amp;stats, std::shared_ptr&lt; objects::CalculatedEntityState &gt; calcState, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> baseMode)</td></tr>
<tr class="memdesc:a318eb1d9febb3704d218b14cde573230"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust the supplied correct table stat values based upon adjustments from equipment or status effects.  <a href="#a318eb1d9febb3704d218b14cde573230">More...</a><br /></td></tr>
<tr class="separator:a318eb1d9febb3704d218b14cde573230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa348c1deb923b21e640c586dbfc35506"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#aa348c1deb923b21e640c586dbfc35506">BaseStatsCalculated</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *definitionManager, std::shared_ptr&lt; objects::CalculatedEntityState &gt; calcState, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">libcomp::EnumMap</a>&lt; <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>, int16_t &gt; &amp;stats, std::list&lt; std::shared_ptr&lt; objects::MiCorrectTbl &gt;&gt; &amp;adjustments)</td></tr>
<tr class="memdesc:aa348c1deb923b21e640c586dbfc35506"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic handler for anything that needs to occur between calculating entity base stats and calculating the rest of the entity.  <a href="#aa348c1deb923b21e640c586dbfc35506">More...</a><br /></td></tr>
<tr class="separator:aa348c1deb923b21e640c586dbfc35506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34960657093fd4872631e886df4998e2"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a34960657093fd4872631e886df4998e2">CalculateLNCType</a> (int16_t lncPoints) const </td></tr>
<tr class="memdesc:a34960657093fd4872631e886df4998e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the numeric representation (also stored in constants) of the entity's alignment based off the supplied LNC point value.  <a href="#a34960657093fd4872631e886df4998e2">More...</a><br /></td></tr>
<tr class="separator:a34960657093fd4872631e886df4998e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3441ec808c0da0ebddb044fce70b52d4"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a3441ec808c0da0ebddb044fce70b52d4">CompareAndResetStats</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">libcomp::EnumMap</a>&lt; <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>, int16_t &gt; &amp;stats, int32_t extraHP=0)</td></tr>
<tr class="memdesc:a3441ec808c0da0ebddb044fce70b52d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare and set the entity's current stats and also keep track of if a change occurred.  <a href="#a3441ec808c0da0ebddb044fce70b52d4">More...</a><br /></td></tr>
<tr class="separator:a3441ec808c0da0ebddb044fce70b52d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5fda23fe92a4383277c28073712d106"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#af5fda23fe92a4383277c28073712d106">GetAdditionalCorrectTbls</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *definitionManager, std::shared_ptr&lt; objects::CalculatedEntityState &gt; calcState, std::list&lt; std::shared_ptr&lt; objects::MiCorrectTbl &gt;&gt; &amp;adjustments)</td></tr>
<tr class="memdesc:af5fda23fe92a4383277c28073712d106"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the correct table value adjustments from the entity's current skills and status effects.  <a href="#af5fda23fe92a4383277c28073712d106">More...</a><br /></td></tr>
<tr class="separator:af5fda23fe92a4383277c28073712d106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af93288af34867c22340a7da9f699b2fc"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#af93288af34867c22340a7da9f699b2fc">GetCurrentExpiration</a> (const std::shared_ptr&lt; objects::StatusEffect &gt; &amp;effect, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *definitionManager, uint32_t nextTime, uint32_t now)</td></tr>
<tr class="memdesc:af93288af34867c22340a7da9f699b2fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the relative or absolute expiration for an effect based upon the current system time and an absolute system time.  <a href="#af93288af34867c22340a7da9f699b2fc">More...</a><br /></td></tr>
<tr class="separator:af93288af34867c22340a7da9f699b2fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d0540419e8c3d02bb6485603c81133"><td class="memItemLeft" align="right" valign="top">std::set&lt; uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#af5d0540419e8c3d02bb6485603c81133">GetEffectiveTokuseiSkills</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *definitionManager)</td></tr>
<tr class="memdesc:af5d0540419e8c3d02bb6485603c81133"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the set of skill IDs granted by effective tokusei.  <a href="#af5d0540419e8c3d02bb6485603c81133">More...</a><br /></td></tr>
<tr class="separator:af5d0540419e8c3d02bb6485603c81133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa116a03fff76b59e8577b87cb6070365"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#aa116a03fff76b59e8577b87cb6070365">RecalculateDemonStats</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *definitionManager, std::shared_ptr&lt; objects::CalculatedEntityState &gt; calcState)</td></tr>
<tr class="memdesc:aa116a03fff76b59e8577b87cb6070365"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculate a demon or enemy entity's stats.  <a href="#aa116a03fff76b59e8577b87cb6070365">More...</a><br /></td></tr>
<tr class="separator:aa116a03fff76b59e8577b87cb6070365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb971ac4a2f29be3a316a5e12a4b51bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#abb971ac4a2f29be3a316a5e12a4b51bb">RegisterNextEffectTime</a> ()</td></tr>
<tr class="memdesc:abb971ac4a2f29be3a316a5e12a4b51bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the entity's next effect event time with the current zone.  <a href="#abb971ac4a2f29be3a316a5e12a4b51bb">More...</a><br /></td></tr>
<tr class="separator:abb971ac4a2f29be3a316a5e12a4b51bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b31da8ab8cf7529a93ae5ab43d8e6cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a7b31da8ab8cf7529a93ae5ab43d8e6cb">RemoveInactiveSwitchSkills</a> ()</td></tr>
<tr class="memdesc:a7b31da8ab8cf7529a93ae5ab43d8e6cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove any switch skills marked as active that are no longer available to the entity.  <a href="#a7b31da8ab8cf7529a93ae5ab43d8e6cb">More...</a><br /></td></tr>
<tr class="separator:a7b31da8ab8cf7529a93ae5ab43d8e6cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af048315581b26430c0dc62d15d5078dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#af048315581b26430c0dc62d15d5078dc">RemoveStatusEffects</a> (const std::set&lt; uint32_t &gt; &amp;effectTypes)</td></tr>
<tr class="memdesc:af048315581b26430c0dc62d15d5078dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the set of supplied status effects from all registered collections.  <a href="#af048315581b26430c0dc62d15d5078dc">More...</a><br /></td></tr>
<tr class="separator:af048315581b26430c0dc62d15d5078dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9d56a631bf512f8ac22671e78fb3864"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#af9d56a631bf512f8ac22671e78fb3864">SetNextEffectTime</a> (uint32_t effectType, uint32_t time)</td></tr>
<tr class="memdesc:af9d56a631bf512f8ac22671e78fb3864"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the next effect event time for a specified effect type for the entity's event map.  <a href="#af9d56a631bf512f8ac22671e78fb3864">More...</a><br /></td></tr>
<tr class="separator:af9d56a631bf512f8ac22671e78fb3864"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67dc06dcf10274170f0728f5f066588f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a67dc06dcf10274170f0728f5f066588f">SetStatusEffects</a> (const std::list&lt; <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ObjectReference.html">libcomp::ObjectReference</a>&lt; objects::StatusEffect &gt;&gt; &amp;effects)</td></tr>
<tr class="memdesc:a67dc06dcf10274170f0728f5f066588f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the status effects currently on the entity.  <a href="#a67dc06dcf10274170f0728f5f066588f">More...</a><br /></td></tr>
<tr class="separator:a67dc06dcf10274170f0728f5f066588f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab085e16b7b68c89e4f92763dbdf8e87d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ab085e16b7b68c89e4f92763dbdf8e87d">UpdateNRAChances</a> (<a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">libcomp::EnumMap</a>&lt; <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>, int16_t &gt; &amp;stats, std::shared_ptr&lt; objects::CalculatedEntityState &gt; calcState, const std::list&lt; std::shared_ptr&lt; objects::MiCorrectTbl &gt;&gt; &amp;adjustments={})</td></tr>
<tr class="memdesc:ab085e16b7b68c89e4f92763dbdf8e87d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the entity's calculated NRA chances for each affinity from base and equipment values.  <a href="#ab085e16b7b68c89e4f92763dbdf8e87d">More...</a><br /></td></tr>
<tr class="separator:ab085e16b7b68c89e4f92763dbdf8e87d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a54a791fd0f100e1e098d0c8579cd6298"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::string, uint64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a54a791fd0f100e1e098d0c8579cd6298">mActionTimes</a></td></tr>
<tr class="memdesc:a54a791fd0f100e1e098d0c8579cd6298"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map of timestamps associated to AI specific actions.  <a href="#a54a791fd0f100e1e098d0c8579cd6298">More...</a><br /></td></tr>
<tr class="separator:a54a791fd0f100e1e098d0c8579cd6298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafcef9fb7f80ea09775a6f00a008ee11"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classchannel_1_1AIState.html">AIState</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#aafcef9fb7f80ea09775a6f00a008ee11">mAIState</a></td></tr>
<tr class="memdesc:aafcef9fb7f80ea09775a6f00a008ee11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the AI state information bound to the entity.  <a href="#aafcef9fb7f80ea09775a6f00a008ee11">More...</a><br /></td></tr>
<tr class="separator:aafcef9fb7f80ea09775a6f00a008ee11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1f143a1f6904fd063477232e7477b92"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ab1f143a1f6904fd063477232e7477b92">mAlive</a></td></tr>
<tr class="memdesc:ab1f143a1f6904fd063477232e7477b92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signifies that the entity is alive.  <a href="#ab1f143a1f6904fd063477232e7477b92">More...</a><br /></td></tr>
<tr class="separator:ab1f143a1f6904fd063477232e7477b92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2878947ed3b4a723ba1804841658323b"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; uint8_t, std::set&lt; uint32_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a2878947ed3b4a723ba1804841658323b">mCancelConditions</a></td></tr>
<tr class="memdesc:a2878947ed3b4a723ba1804841658323b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Active effect type IDs mapped to cancel condition flags for quick access.  <a href="#a2878947ed3b4a723ba1804841658323b">More...</a><br /></td></tr>
<tr class="separator:a2878947ed3b4a723ba1804841658323b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dc568369cb1ff4d78a9db83c08375f8"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classchannel_1_1Zone.html">Zone</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a1dc568369cb1ff4d78a9db83c08375f8">mCurrentZone</a></td></tr>
<tr class="memdesc:a1dc568369cb1ff4d78a9db83c08375f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the current zone the entity is in.  <a href="#a1dc568369cb1ff4d78a9db83c08375f8">More...</a><br /></td></tr>
<tr class="separator:a1dc568369cb1ff4d78a9db83c08375f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7e6dc8b0b6c2ecf09c634c1e7cb701f"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ae7e6dc8b0b6c2ecf09c634c1e7cb701f">mEffectsActive</a></td></tr>
<tr class="memdesc:ae7e6dc8b0b6c2ecf09c634c1e7cb701f"><td class="mdescLeft">&#160;</td><td class="mdescRight">true if the status effects have been activated for the current zone  <a href="#ae7e6dc8b0b6c2ecf09c634c1e7cb701f">More...</a><br /></td></tr>
<tr class="separator:ae7e6dc8b0b6c2ecf09c634c1e7cb701f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace2da752766739a6149fc2b07b158d59"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ace2da752766739a6149fc2b07b158d59">mInitialCalc</a></td></tr>
<tr class="memdesc:ace2da752766739a6149fc2b07b158d59"><td class="mdescLeft">&#160;</td><td class="mdescRight">false if the entity has been assigned but never calculated  <a href="#ace2da752766739a6149fc2b07b158d59">More...</a><br /></td></tr>
<tr class="separator:ace2da752766739a6149fc2b07b158d59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade34713c4aec7ca929822a292b0223d3"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ade34713c4aec7ca929822a292b0223d3">mLastRefresh</a></td></tr>
<tr class="memdesc:ade34713c4aec7ca929822a292b0223d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last timestamp the entity's state was refreshed.  <a href="#ade34713c4aec7ca929822a292b0223d3">More...</a><br /></td></tr>
<tr class="separator:ade34713c4aec7ca929822a292b0223d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ba2ead908829f41707bdd3b36bcbb0a"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a8ba2ead908829f41707bdd3b36bcbb0a">mLock</a></td></tr>
<tr class="memdesc:a8ba2ead908829f41707bdd3b36bcbb0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Server lock for shared resources.  <a href="#a8ba2ead908829f41707bdd3b36bcbb0a">More...</a><br /></td></tr>
<tr class="separator:a8ba2ead908829f41707bdd3b36bcbb0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a201d4512bc8abb8059a6589999a48bdb"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a201d4512bc8abb8059a6589999a48bdb">mNextActivatedAbilityID</a></td></tr>
<tr class="memdesc:a201d4512bc8abb8059a6589999a48bdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Next available activated ability ID.  <a href="#a201d4512bc8abb8059a6589999a48bdb">More...</a><br /></td></tr>
<tr class="separator:a201d4512bc8abb8059a6589999a48bdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cec5b66c750593b2ad1f2b86c03e233"><td class="memItemLeft" align="right" valign="top">std::map&lt; uint32_t, std::set&lt; uint32_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a7cec5b66c750593b2ad1f2b86c03e233">mNextEffectTimes</a></td></tr>
<tr class="memdesc:a7cec5b66c750593b2ad1f2b86c03e233"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map of server system times mapped to the next event time associated to each active status effect.  <a href="#a7cec5b66c750593b2ad1f2b86c03e233">More...</a><br /></td></tr>
<tr class="separator:a7cec5b66c750593b2ad1f2b86c03e233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a203b30260e6d7f760c0b8071b6babc51"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; uint32_t, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">libcomp::EnumMap</a>&lt; <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>, std::set&lt; uint8_t &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a203b30260e6d7f760c0b8071b6babc51">mNRAShields</a></td></tr>
<tr class="memdesc:a203b30260e6d7f760c0b8071b6babc51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map of effect type IDs to NRA types and NRA indexes.  <a href="#a203b30260e6d7f760c0b8071b6babc51">More...</a><br /></td></tr>
<tr class="separator:a203b30260e6d7f760c0b8071b6babc51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac62ddc39f590dd556479f21152f0fb47"><td class="memItemLeft" align="right" valign="top">std::set&lt; int32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ac62ddc39f590dd556479f21152f0fb47">mOpponentIDs</a></td></tr>
<tr class="memdesc:ac62ddc39f590dd556479f21152f0fb47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set of entity IDs representing opponents that the entity is currently fighting.  <a href="#ac62ddc39f590dd556479f21152f0fb47">More...</a><br /></td></tr>
<tr class="separator:ac62ddc39f590dd556479f21152f0fb47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8339cd0b835314682a8419496ab3ff94"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; uint32_t, std::shared_ptr&lt; objects::StatusEffect &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#a8339cd0b835314682a8419496ab3ff94">mStatusEffects</a></td></tr>
<tr class="memdesc:a8339cd0b835314682a8419496ab3ff94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map of active status effects by effect type ID.  <a href="#a8339cd0b835314682a8419496ab3ff94">More...</a><br /></td></tr>
<tr class="separator:a8339cd0b835314682a8419496ab3ff94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6b71c46b84f4cb073667dd823ea0491"><td class="memItemLeft" align="right" valign="top">std::set&lt; uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1ActiveEntityState.html#ab6b71c46b84f4cb073667dd823ea0491">mTimeDamageEffects</a></td></tr>
<tr class="memdesc:ab6b71c46b84f4cb073667dd823ea0491"><td class="mdescLeft">&#160;</td><td class="mdescRight">IDs of status effects currently active that deal time damage for quick access.  <a href="#ab6b71c46b84f4cb073667dd823ea0491">More...</a><br /></td></tr>
<tr class="separator:ab6b71c46b84f4cb073667dd823ea0491"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents an active entity on the channel server. </p>
<p>An entity is active if it can move or perform actions independent of other entities. Active entities have stats and status effects in addition to the usual current zone position shared with non-active entities. </p>

<p>Definition at line <a class="el" href="ActiveEntityState_8h_source.html#l00114">114</a> of file <a class="el" href="ActiveEntityState_8h_source.html">ActiveEntityState.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a005c58b0a1a9cc6d4cf33072314e29dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ActiveEntityState::ActiveEntityState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new active entity state. </p>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00106">106</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6545bb6fb1972d45c76aa28e0723ca35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ActiveEntityState::ActiveEntityState </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Explicitly defined copy constructor necessary due to removal of implicit constructor from non-copyable mutex member. </p>
<p>This should never actually be used. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>The other entity to copy </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00112">112</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a002f85b0ac7e3213d13cce85ae1a5b1c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::ActivateStatusEffect </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; objects::StatusEffect &gt; &amp;&#160;</td>
          <td class="paramname"><em>effect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *&#160;</td>
          <td class="paramname"><em>definitionManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>timeOnly</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Activate a status effect added to the entity's current status effect set. </p>
<p>By activating an effect, it will be registered with the <a class="el" href="classchannel_1_1ActiveEntityState.html" title="Represents an active entity on the channel server. ">ActiveEntityState</a> and its current zone via their absolute server time expiration in addition to setting any quick access properties on the entity. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">effect</td><td>Pointer to the effect to activate </td></tr>
    <tr><td class="paramname">definitionManager</td><td>Pointer to the DefinitionManager to use when determining how the effect behaves </td></tr>
    <tr><td class="paramname">now</td><td>Current system timestamp to use when activating the effect </td></tr>
    <tr><td class="paramname">timeOnly</td><td>true if only the time will be registered, should only be used if the expiration is being updated </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01447">1447</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html#a80c664985084a1f36469110b77eb4df0">libcomp::DefinitionManager::GetStatusData()</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00768">mCancelConditions</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00777">mNextEffectTimes</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00792">mNRAShields</a>, and <a class="el" href="ActiveEntityState_8h_source.html#l00764">mTimeDamageEffects</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l00641">AddStatusEffects()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01065">SetStatusEffectsActive()</a>.</p>

</div>
</div>
<a class="anchor" id="ae1945edacc9db9dd0c0b8fc57ef0ba5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t ActiveEntityState::AddRemoveOpponent </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>add</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>opponentID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add or remove an opponent with the specified entity ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">add</td><td>true if the opponent will be added, false if it will be removed </td></tr>
    <tr><td class="paramname">opponentID</td><td>Entity ID of an opponent to add or remove </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of opponents associated to the entity after the operation </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01297">1297</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8h_source.html#l00816">mLock</a>, and <a class="el" href="ActiveEntityState_8h_source.html#l00785">mOpponentIDs</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l03859">channel::CharacterManager::AddRemoveOpponent()</a>, and <a class="el" href="ZoneManager_8cpp_source.html#l00542">channel::ZoneManager::LeaveZone()</a>.</p>

</div>
</div>
<a class="anchor" id="a66bf7fb8d7cd4587e53b9f51128857f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; uint32_t &gt; ActiveEntityState::AddStatusEffects </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="ActiveEntityState_8h.html#a8c121a6e760a339634841ced705f0616">AddStatusEffectMap</a> &amp;&#160;</td>
          <td class="paramname"><em>effects</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *&#160;</td>
          <td class="paramname"><em>definitionManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>now</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>queueChanges</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add new status effects to the entity and activate them. </p>
<p>If there are status effects that are replaced by the application of the new ones they will be expired and returned. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">effects</td><td>Map of status effect stacks and whether they are replaces or not by effect type ID </td></tr>
    <tr><td class="paramname">definitionManager</td><td>Pointer to the DefinitionManager to use when determining how the effects behave </td></tr>
    <tr><td class="paramname">now</td><td>Current system timestamp to use when activating the effects, defaults to the current time if not specified </td></tr>
    <tr><td class="paramname">queueChanges</td><td>If true and the entity is in an effect active state, the effect inserts, updates and removes will be queued as the next entity time-based events to be processed by the next server tick. Set to false if the changes will be communicated by some other means </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Set of expired effect IDs if any added effects cancel existing effects </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00641">641</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8cpp_source.html#l01447">ActivateStatusEffect()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00124">GetEntityUUID()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html#a80c664985084a1f36469110b77eb4df0">libcomp::DefinitionManager::GetStatusData()</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00795">mEffectsActive</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00816">mLock</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00777">mNextEffectTimes</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00760">mStatusEffects</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01561">RegisterNextEffectTime()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01421">RemoveStatusEffects()</a>.</p>

<p>Referenced by <a class="el" href="ChatManager_8cpp_source.html#l00499">channel::ChatManager::GMCommand_Effect()</a>.</p>

</div>
</div>
<a class="anchor" id="a318eb1d9febb3704d218b14cde573230"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::AdjustStats </td>
          <td>(</td>
          <td class="paramtype">const std::list&lt; std::shared_ptr&lt; objects::MiCorrectTbl &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>adjustments</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">libcomp::EnumMap</a>&lt; <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>, int16_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::CalculatedEntityState &gt;&#160;</td>
          <td class="paramname"><em>calcState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>baseMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adjust the supplied correct table stat values based upon adjustments from equipment or status effects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adjustments</td><td>List of adjustments to the correct table values supplied </td></tr>
    <tr><td class="paramname">stats</td><td>Output map parameter of base or calculated stats to adjust for the current entity </td></tr>
    <tr><td class="paramname">calcState</td><td>Override CalculatedEntityState to use instead of the entity's default </td></tr>
    <tr><td class="paramname">baseMode</td><td>If true only base stat correct table types will be adjusted, if false only the non-base stat correct table types will be adjusted and NRA values will be updated immediately. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l02177">2177</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="CharacterManager_8cpp_source.html#l04334">channel::CharacterManager::AdjustStatBounds()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l01394">channel::TokuseiManager::CalculateAttributeValue()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#ab7fc2757e5ed0bc18f0e15cd8fa0a4bf">NRA_ABSORB</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#a6e29b379505a7ce8fd12cdb539482aa0">NRA_NULL</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#aaf26eb773775b826ed777e41cd3a87d0">NRA_REFLECT</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l02498">RecalculateDemonStats()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01955">channel::ActiveEntityStateImp&lt; T &gt;::RecalculateStats()</a>.</p>

</div>
</div>
<a class="anchor" id="aa348c1deb923b21e640c586dbfc35506"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::BaseStatsCalculated </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *&#160;</td>
          <td class="paramname"><em>definitionManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::CalculatedEntityState &gt;&#160;</td>
          <td class="paramname"><em>calcState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">libcomp::EnumMap</a>&lt; <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>, int16_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::list&lt; std::shared_ptr&lt; objects::MiCorrectTbl &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>adjustments</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generic handler for anything that needs to occur between calculating entity base stats and calculating the rest of the entity. </p>
<p>This is also reponsible for setting the CalculatedEntityState's final tokusei effects. Should base stats be adjusted further by the outcome of this function, it is also responsible for setting the new values. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">definitionManager</td><td>Pointer to the DefinitionManager to use when determining how various things interact with the entity </td></tr>
    <tr><td class="paramname">calcState</td><td>Override CalculatedEntityState to use instead of the entity's default </td></tr>
    <tr><td class="paramname">stats</td><td>Output map parameter of base or calculated stats to adjust for the current entity </td></tr>
    <tr><td class="paramname">adjustments</td><td>List of adjustments to the correct table values supplied </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classchannel_1_1CharacterState.html#a029527a9a8a2699c49e47fbeda95d634">channel::CharacterState</a>.</p>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l02338">2338</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>Referenced by <a class="el" href="CharacterState_8cpp_source.html#l00408">channel::CharacterState::BaseStatsCalculated()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l02498">RecalculateDemonStats()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01955">channel::ActiveEntityStateImp&lt; T &gt;::RecalculateStats()</a>.</p>

</div>
</div>
<a class="anchor" id="a34960657093fd4872631e886df4998e2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ActiveEntityState::CalculateLNCType </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>lncPoints</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the numeric representation (also stored in constants) of the entity's alignment based off the supplied LNC point value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lncPoints</td><td>LNC points representing degrees of alignment </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Numeric representation of the entity's current alignment </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l02563">2563</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#ad1295ed62759dba28ede6809fd18c4cf">LNC_CHAOS</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#a95ca3c4ad903cab8acfa1f4cfbaad6ab">LNC_LAW</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#a4855e0708e68e30d55d03773d8002b8d">LNC_NEUTRAL</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l02134">channel::ActiveEntityStateImp&lt; T &gt;::GetLNCType()</a>.</p>

</div>
</div>
<a class="anchor" id="ae18bb9a1c3476876a23040c08b5ce37a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> ActiveEntityState::CanAct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the entity is able to move or activate a skill. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the entity can act, false if it cannot </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00199">199</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8cpp_source.html#l00204">CanMove()</a>, and <a class="el" href="ActiveEntityState_8h_source.html#l00798">mAlive</a>.</p>

</div>
</div>
<a class="anchor" id="affba706127bff8c636e153cb69c29910"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::CancelStatusEffects </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cancelFlags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel existing status effects via cancel event flags. </p>
<p>The expire event will be queued up for processing on the next server tick. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cancelFlags</td><td>Flags indicating conditions that can cause status effects to be cancelled. The set of valid status conditions are listed as constants on <a class="el" href="classchannel_1_1ActiveEntityState.html" title="Represents an active entity on the channel server. ">ActiveEntityState</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01041">1041</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8cpp_source.html#l01008">ExpireStatusEffects()</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00768">mCancelConditions</a>, and <a class="el" href="ActiveEntityState_8h_source.html#l00816">mLock</a>.</p>

</div>
</div>
<a class="anchor" id="af56db75ec5333f4d99949f271c6a38de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> ActiveEntityState::CanMove </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the entity is able to move. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the entity can move, false if it cannot </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00204">204</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8cpp_source.html#l00117">GetCorrectValue()</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00798">mAlive</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00086">STATUS_CHARGING</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00080">STATUS_HIT_STUN</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00077">STATUS_IMMOBILE</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00083">STATUS_KNOCKBACK</a>, and <a class="el" href="ActiveEntityState_8h_source.html#l00089">STATUS_RESTING</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l00199">CanAct()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00129">Move()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l00153">Rotate()</a>.</p>

</div>
</div>
<a class="anchor" id="a3441ec808c0da0ebddb044fce70b52d4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ActiveEntityState::CompareAndResetStats </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">libcomp::EnumMap</a>&lt; <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>, int16_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>extraHP</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compare and set the entity's current stats and also keep track of if a change occurred. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stats</td><td>Map of correct table IDs to calculated stats to set on the entity </td></tr>
    <tr><td class="paramname">extraHP</td><td>Extra HP amount to add to the base MaxHP. Used by enemies. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the calculation resulted in a change to the stats that should be sent to the client, 2 if one of the changes should be communicated to the world (for party members etc), 0 if no change resulted from the recalculation </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l02632">2632</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8h_source.html#l00071">ENTITY_CALC_MOVE_SPEED</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00065">ENTITY_CALC_STAT_LOCAL</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00068">ENTITY_CALC_STAT_WORLD</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01680">GetCoreStats()</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l02498">RecalculateDemonStats()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01955">channel::ActiveEntityStateImp&lt; T &gt;::RecalculateStats()</a>.</p>

</div>
</div>
<a class="anchor" id="a2d02b85123163c97fd1e593eb514640b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float ActiveEntityState::CorrectRotation </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>rot</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Corrects rotation values that have exceeded the minimum or maximum allowed range. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rot</td><td>Original rotation value to correct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Equivalent but corrected rotation value </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00243">243</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>Referenced by <a class="el" href="SkillManager_8cpp_source.html#l01089">channel::SkillManager::ProcessSkillResult()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00290">RefreshCurrentPosition()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l00153">Rotate()</a>.</p>

</div>
</div>
<a class="anchor" id="a513eb93dd9e9b3d8956459355bc08a98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::ExpireStatusEffects </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>effectTypes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expire existing status effects by effect type ID. </p>
<p>The expire event will be queued up for processing on the next server tick. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">effectTypes</td><td>Set of effect type IDs to expire </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01008">1008</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8h_source.html#l00795">mEffectsActive</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00816">mLock</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00777">mNextEffectTimes</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00760">mStatusEffects</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01561">RegisterNextEffectTime()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01421">RemoveStatusEffects()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01533">SetNextEffectTime()</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l01041">CancelStatusEffects()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01333">PopNRAShields()</a>.</p>

</div>
</div>
<a class="anchor" id="a209bb96b9316bf12724e0a48891acc97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::ExpireStatusTimes </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>now</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expire any status times that have passed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">now</td><td>Current timestamp of the server </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00371">371</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a66d0c35bb1d4ee3e361fafb02fcf629a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t ActiveEntityState::GetActionTime </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1String.html">libcomp::String</a> &amp;&#160;</td>
          <td class="paramname"><em>action</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a timestamp associated to an enemy specific action. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">action</td><td>Name of the action to retrieve information from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Timestamp associated to the action or 0 if not found </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00396">396</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1String.html#a45b79da926d19d372c8609c4ba82b4e5">libcomp::String::C()</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00810">mActionTimes</a>, and <a class="el" href="ActiveEntityState_8h_source.html#l00816">mLock</a>.</p>

</div>
</div>
<a class="anchor" id="af5fda23fe92a4383277c28073712d106"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::GetAdditionalCorrectTbls </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *&#160;</td>
          <td class="paramname"><em>definitionManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::CalculatedEntityState &gt;&#160;</td>
          <td class="paramname"><em>calcState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::list&lt; std::shared_ptr&lt; objects::MiCorrectTbl &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>adjustments</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the correct table value adjustments from the entity's current skills and status effects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">definitionManager</td><td>Pointer to the DefinitionManager to use when determining how the skills and effects behave </td></tr>
    <tr><td class="paramname">calcState</td><td>Override CalculatedEntityState to use instead of the entity's default </td></tr>
    <tr><td class="paramname">adjustments</td><td>Output list parameter to add the adjustments to </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l02415">2415</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html#a3a4fc617c009724b84e7926ae2a6caef">libcomp::DefinitionManager::GetSkillData()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html#a80c664985084a1f36469110b77eb4df0">libcomp::DefinitionManager::GetStatusData()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00618">GetStatusEffects()</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html#a63e55389b67d93da7d404b9fb7930b61">libcomp::DefinitionManager::GetTokuseiData()</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l02498">RecalculateDemonStats()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01955">channel::ActiveEntityStateImp&lt; T &gt;::RecalculateStats()</a>.</p>

</div>
</div>
<a class="anchor" id="a7683912a1ff2b1a5dd162b5441a7dcc5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classchannel_1_1AIState.html">AIState</a> &gt; ActiveEntityState::GetAIState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the <a class="el" href="classchannel_1_1AIState.html" title="Contains the state of an entity&#39;s AI information when controlled by the channel. ">AIState</a> of the entity. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the <a class="el" href="classchannel_1_1AIState.html" title="Contains the state of an entity&#39;s AI information when controlled by the channel. ">AIState</a> of the entity or null if the entity is not AI controlled </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00386">386</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8h_source.html#l00813">mAIState</a>.</p>

<p>Referenced by <a class="el" href="CharacterManager_8cpp_source.html#l03859">channel::CharacterManager::AddRemoveOpponent()</a>.</p>

</div>
</div>
<a class="anchor" id="a2d6d36cbc13f6afee27eac6ad1545a2e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; uint32_t &gt; ActiveEntityState::GetAllSkills </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *&#160;</td>
          <td class="paramname"><em>definitionManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>includeTokusei</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get all skills that the entity currently has available. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">definitionManager</td><td>Pointer to the definition manager to use for skill source definitions </td></tr>
    <tr><td class="paramname">includeTokusei</td><td>false if tokusei skills should not be included </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Set of all skill IDs the entity currently has available </dd></dl>

<p>Reimplemented in <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#ac075a9a83fff521f63c812a67b4db32b">channel::ActiveEntityStateImp&lt; T &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a19514040a764761305712225b33c1a58">channel::ActiveEntityStateImp&lt; T &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a269e524baeece0d36a570357c7751832">channel::ActiveEntityStateImp&lt; T &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#ab49cdbfc8d64fb90019f421a9f182597">channel::ActiveEntityStateImp&lt; T &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#ab49cdbfc8d64fb90019f421a9f182597">channel::ActiveEntityStateImp&lt; objects::Demon &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#ab49cdbfc8d64fb90019f421a9f182597">channel::ActiveEntityStateImp&lt; objects::Enemy &gt;</a>, and <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#ab49cdbfc8d64fb90019f421a9f182597">channel::ActiveEntityStateImp&lt; objects::Character &gt;</a>.</p>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01667">1667</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l01955">channel::ActiveEntityStateImp&lt; T &gt;::RecalculateStats()</a>.</p>

</div>
</div>
<a class="anchor" id="a0bae772edcb18a6edf81681b0331dd25"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; objects::EntityStats &gt; ActiveEntityState::GetCoreStats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the core stats associated to the active entity. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the active entity's core stats </dd></dl>

<p>Reimplemented in <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a9f5302b984250a7215f0fd2ba9987d57">channel::ActiveEntityStateImp&lt; T &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a9f5302b984250a7215f0fd2ba9987d57">channel::ActiveEntityStateImp&lt; objects::Demon &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a9f5302b984250a7215f0fd2ba9987d57">channel::ActiveEntityStateImp&lt; objects::Enemy &gt;</a>, and <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a9f5302b984250a7215f0fd2ba9987d57">channel::ActiveEntityStateImp&lt; objects::Character &gt;</a>.</p>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01680">1680</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l01394">channel::TokuseiManager::CalculateAttributeValue()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l02632">CompareAndResetStats()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l02498">RecalculateDemonStats()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l00492">SetHPMP()</a>.</p>

</div>
</div>
<a class="anchor" id="aa960f7643649ac1fc26d8baef048f5df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t ActiveEntityState::GetCorrectValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>&#160;</td>
          <td class="paramname"><em>tableID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::CalculatedEntityState &gt;&#160;</td>
          <td class="paramname"><em>calcState</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the adjusted correct table value associated to the entity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tableID</td><td>ID of the correct table value to retrieve </td></tr>
    <tr><td class="paramname">calcState</td><td>Override CalculatedEntityState to use instead of the entity's default </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Adjusted correct table value </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00117">117</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l00204">CanMove()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00264">GetMovementSpeed()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01122">PopEffectTicks()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l00414">RefreshKnockback()</a>.</p>

</div>
</div>
<a class="anchor" id="af93288af34867c22340a7da9f699b2fc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ActiveEntityState::GetCurrentExpiration </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; objects::StatusEffect &gt; &amp;&#160;</td>
          <td class="paramname"><em>effect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *&#160;</td>
          <td class="paramname"><em>definitionManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nextTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the relative or absolute expiration for an effect based upon the current system time and an absolute system time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">effect</td><td>Pointer to the effect to calculate the expiration of </td></tr>
    <tr><td class="paramname">definitionManager</td><td>Pointer to the DefinitionManager to use when determining how the effect behaves </td></tr>
    <tr><td class="paramname">nextTime</td><td>Absolute system time to use when calculating the expiration </td></tr>
    <tr><td class="paramname">now</td><td>Current system timestamp to use when activating the effect </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated expiration for the effect </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01570">1570</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html#a80c664985084a1f36469110b77eb4df0">libcomp::DefinitionManager::GetStatusData()</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l01229">GetCurrentStatusEffectStates()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01065">SetStatusEffectsActive()</a>.</p>

</div>
</div>
<a class="anchor" id="a9364c47b242a5691d9500504c2a3e2f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; std::pair&lt; std::shared_ptr&lt; objects::StatusEffect &gt;, uint32_t &gt; &gt; ActiveEntityState::GetCurrentStatusEffectStates </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *&#160;</td>
          <td class="paramname"><em>definitionManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>now</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a snapshot of status effects currently on the entity with their corresponding expiration time which is based upon he supplied time for relative duration effects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">definitionManager</td><td>Pointer to the DefinitionManager to use when determining how the effects behave </td></tr>
    <tr><td class="paramname">now</td><td>Current system timestamp to use for caculating relative duration expirations remaining, if nothing is specified, the current time will be used </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>List of current status effects paired with their expiration time remaining </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01229">1229</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8cpp_source.html#l01570">GetCurrentExpiration()</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00795">mEffectsActive</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00816">mLock</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00777">mNextEffectTimes</a>, and <a class="el" href="ActiveEntityState_8h_source.html#l00760">mStatusEffects</a>.</p>

</div>
</div>
<a class="anchor" id="a38d4d0eba28e2c3dec7bee89df6c244a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float ActiveEntityState::GetDistance </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>squared</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the distance between the entity and the specified X and Y coordiates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>X coordinate to calculate the distance for </td></tr>
    <tr><td class="paramname">y</td><td>Y coordinate to calculate the distance for </td></tr>
    <tr><td class="paramname">squared</td><td>Optional parameter to return the distance squared for faster radius comparisons </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Distance between the entity and the specified point </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00257">257</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l00129">Move()</a>.</p>

</div>
</div>
<a class="anchor" id="af5d0540419e8c3d02bb6485603c81133"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; uint32_t &gt; ActiveEntityState::GetEffectiveTokuseiSkills </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *&#160;</td>
          <td class="paramname"><em>definitionManager</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the set of skill IDs granted by effective tokusei. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">definitionManager</td><td>Pointer to the definition manager to use for tokusei definitions </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Set of skill IDs granted by effective tokusei </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l02591">2591</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html#a63e55389b67d93da7d404b9fb7930b61">libcomp::DefinitionManager::GetTokuseiData()</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l01838">channel::ActiveEntityStateImp&lt; T &gt;::GetAllSkills()</a>.</p>

</div>
</div>
<a class="anchor" id="acef6b10c4095a4b2d0ed8b5f3ff94a5b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const libobjgen::UUID ActiveEntityState::GetEntityUUID </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the the entity UUID associated to the entity this state represents. </p>
<dl class="section return"><dt>Returns</dt><dd>Entity UUID or null UUID if not specified </dd></dl>

<p>Reimplemented in <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a08331a3138f8741dca735749c7a5ae22">channel::ActiveEntityStateImp&lt; T &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#ad41f7d9ee46d8c39294d21ce0fd8da9d">channel::ActiveEntityStateImp&lt; T &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a0cfb74e2eceb3dc71f4ad33ecbf09dfb">channel::ActiveEntityStateImp&lt; T &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#aa1e73078f5e79d3b16ecd0e1119ee9f7">channel::ActiveEntityStateImp&lt; T &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#aa1e73078f5e79d3b16ecd0e1119ee9f7">channel::ActiveEntityStateImp&lt; objects::Demon &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#aa1e73078f5e79d3b16ecd0e1119ee9f7">channel::ActiveEntityStateImp&lt; objects::Enemy &gt;</a>, and <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#aa1e73078f5e79d3b16ecd0e1119ee9f7">channel::ActiveEntityStateImp&lt; objects::Character &gt;</a>.</p>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00124">124</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l00641">AddStatusEffects()</a>.</p>

</div>
</div>
<a class="anchor" id="ae1582e47b378c99a62134ebd97b68d3b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ActiveEntityState::GetLNCType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a numeric representation (also stored in constants) of the entity's current alignment. </p>
<dl class="section return"><dt>Returns</dt><dd>Numeric representation of the entity's current alignment </dd></dl>

<p>Reimplemented in <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a905748c9d118f7e48f7ad1e1410fc651">channel::ActiveEntityStateImp&lt; T &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a4e3f5b0de8a1a3868da4ddff5dfd1140">channel::ActiveEntityStateImp&lt; T &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a525cee625938e5046b4808ba3f6f5d51">channel::ActiveEntityStateImp&lt; T &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a4100067bbe779db70c897cf343f7943c">channel::ActiveEntityStateImp&lt; T &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a4100067bbe779db70c897cf343f7943c">channel::ActiveEntityStateImp&lt; objects::Demon &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a4100067bbe779db70c897cf343f7943c">channel::ActiveEntityStateImp&lt; objects::Enemy &gt;</a>, and <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a4100067bbe779db70c897cf343f7943c">channel::ActiveEntityStateImp&lt; objects::Character &gt;</a>.</p>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01675">1675</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l01608">IsLNCType()</a>.</p>

</div>
</div>
<a class="anchor" id="a3a11050fb65a386e982332da21db2c87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float ActiveEntityState::GetMovementSpeed </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>altSpeed</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the entity's adjusted movement speed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">altSpeed</td><td>true if the alternate speed used for walking should be retrieved instead of the default run speed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Movement speed of the entity </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00264">264</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8cpp_source.html#l00117">GetCorrectValue()</a>, and <a class="el" href="ActiveEntityState_8h_source.html#l00785">mOpponentIDs</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l00129">Move()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l00153">Rotate()</a>.</p>

</div>
</div>
<a class="anchor" id="a3d841d6660fa605b5ca4f5628ec0c667"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t ActiveEntityState::GetNextActivatedAbilityID </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the next activated ability ID from 0 to 127. </p>
<dl class="section return"><dt>Returns</dt><dd>The next activated ability ID for the client </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01381">1381</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8h_source.html#l00816">mLock</a>, and <a class="el" href="ActiveEntityState_8h_source.html#l00807">mNextActivatedAbilityID</a>.</p>

</div>
</div>
<a class="anchor" id="ac468fcaa3b7dd039c9924d1ef55e880a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t ActiveEntityState::GetNRAChance </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>nraIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::CalculatedEntityState &gt;&#160;</td>
          <td class="paramname"><em>calcState</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the entity's chance to null, reflect or absorb the specified affinity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nraIdx</td><td>Correct table index for affinity NRA 1) Null 2) Reflect 3) Absorb Defines exist in the Constants header for each of these. </td></tr>
    <tr><td class="paramname">type</td><td>Correct table type of the affinity to retrieve </td></tr>
    <tr><td class="paramname">calcState</td><td>Override CalculatedEntityState to use instead of the entity's default </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Integer representation of the chance to avoid affinity damage, 0 if the supplied values are invalid </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01312">1312</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#ab7fc2757e5ed0bc18f0e15cd8fa0a4bf">NRA_ABSORB</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#a6e29b379505a7ce8fd12cdb539482aa0">NRA_NULL</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#aaf26eb773775b826ed777e41cd3a87d0">NRA_REFLECT</a>.</p>

</div>
</div>
<a class="anchor" id="a28eb0b46ea358d21487b2f855ef3bfd3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; int32_t &gt; ActiveEntityState::GetOpponentIDs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the entity IDs of opponents this entity is in combat against. </p>
<dl class="section return"><dt>Returns</dt><dd>Set of opponent entity IDs </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01285">1285</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8h_source.html#l00785">mOpponentIDs</a>.</p>

</div>
</div>
<a class="anchor" id="af08840e2fef8a61e0737b61a85bb9c20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::unordered_map&lt; uint32_t, std::shared_ptr&lt; objects::StatusEffect &gt; &gt; &amp; ActiveEntityState::GetStatusEffects </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current status effect map. </p>
<dl class="section return"><dt>Returns</dt><dd>Map of current status effects by type ID </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00618">618</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8h_source.html#l00760">mStatusEffects</a>.</p>

<p>Referenced by <a class="el" href="EventManager_8cpp_source.html#l01001">channel::EventManager::EvaluateCondition()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l02415">GetAdditionalCorrectTbls()</a>.</p>

</div>
</div>
<a class="anchor" id="ab75cc6f82b822318ec0816b6ccebd30a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classchannel_1_1Zone.html">Zone</a> &gt; ActiveEntityState::GetZone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the zone the entity currently exists in. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the entity's current zone, nullptr if they are not currently in a zone </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00468">468</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8h_source.html#l00780">mCurrentZone</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l01394">channel::TokuseiManager::CalculateAttributeValue()</a>, <a class="el" href="SkillManager_8cpp_source.html#l01007">channel::SkillManager::ExecuteNormalSkill()</a>, <a class="el" href="SkillManager_8cpp_source.html#l05239">channel::SkillManager::FinalizeSkillExecution()</a>, <a class="el" href="SkillManager_8cpp_source.html#l01089">channel::SkillManager::ProcessSkillResult()</a>, <a class="el" href="SkillManager_8cpp_source.html#l01535">channel::SkillManager::ProcessSkillResultFinal()</a>, <a class="el" href="SkillManager_8cpp_source.html#l06529">channel::SkillManager::SendActivateSkill()</a>, <a class="el" href="SkillManager_8cpp_source.html#l06653">channel::SkillManager::SendCompleteSkill()</a>, <a class="el" href="SkillManager_8cpp_source.html#l06564">channel::SkillManager::SendExecuteSkill()</a>, and <a class="el" href="SkillManager_8cpp_source.html#l06612">channel::SkillManager::SendExecuteSkillInstant()</a>.</p>

</div>
</div>
<a class="anchor" id="ad2260cd031d413d44dd727a014cffc8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> ActiveEntityState::HasOpponent </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>opponentID</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the entity has an opponent with the specified entity ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opponentID</td><td>Entity ID of an opponent to find or 0 to check for any </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the entity ID is associated as an opponent to this entity </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01290">1290</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8h_source.html#l00816">mLock</a>, and <a class="el" href="ActiveEntityState_8h_source.html#l00785">mOpponentIDs</a>.</p>

</div>
</div>
<a class="anchor" id="ab6edd9f3b8abd577890af858d5dc85dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> ActiveEntityState::IsAlive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the entity is currently alive. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the entity is alive, false if they are not </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00183">183</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8h_source.html#l00798">mAlive</a>.</p>

</div>
</div>
<a class="anchor" id="ae897ad90fe5cb5f505f2de5a0da374c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> ActiveEntityState::IsLNCType </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>lncType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>invertFlag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the entity matches the supplied LNC type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lncType</td><td>LNC tpe to compare to. This can be in two formats based upon the invertFlag parameter. </td></tr>
    <tr><td class="paramname">invertFlag</td><td>If true compare using the inverted flag format </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the LNC matches, false if it does not </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01608">1608</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8cpp_source.html#l01675">GetLNCType()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#ad1295ed62759dba28ede6809fd18c4cf">LNC_CHAOS</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#a95ca3c4ad903cab8acfa1f4cfbaad6ab">LNC_LAW</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#a4855e0708e68e30d55d03773d8002b8d">LNC_NEUTRAL</a>.</p>

</div>
</div>
<a class="anchor" id="aa86a6658fd24aeafde4b18c0c97d0433"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> ActiveEntityState::IsMoving </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the entity is currently not at their destination position. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the entity is moving, false if they are not </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00188">188</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af995e3c25687f8b2692dc523f08c04b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> ActiveEntityState::IsRotating </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the entity is currently not at their destination rotation. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the entity is rotating, false if they are not </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00194">194</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae83be0aeee9a600a99286fc1db8fc8d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::Move </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>xPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>yPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the entity's destination position based on the supplied values and uses the current position values to set the origin. </p>
<p>Communicating that the move has taken place must be done elsewhere. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xPos</td><td>X position to move to </td></tr>
    <tr><td class="paramname">yPos</td><td>Y position to move to </td></tr>
    <tr><td class="paramname">now</td><td>Server time to use as the origin ticks </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00129">129</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8cpp_source.html#l00204">CanMove()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00257">GetDistance()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l00264">GetMovementSpeed()</a>.</p>

</div>
</div>
<a class="anchor" id="a0539c15041b0ac7c49aa586f4b28eceb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> ActiveEntityState::PopEffectTicks </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *&#160;</td>
          <td class="paramname"><em>definitionManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t &amp;&#160;</td>
          <td class="paramname"><em>hpTDamage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t &amp;&#160;</td>
          <td class="paramname"><em>mpTDamage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>added</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>updated</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>removed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pop effect events that have occurred past the specified time off the event mapping for the entity and their current zone. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">definitionManager</td><td>Pointer to the DefinitionManager to use when determining how the effects behave </td></tr>
    <tr><td class="paramname">time</td><td>System timestamp to use for comparing effect events that have passed </td></tr>
    <tr><td class="paramname">hpTDamage</td><td>Output parameter to store the amount of HP time damage that should be dealt </td></tr>
    <tr><td class="paramname">mpTDamage</td><td>Output parameter to store the amount of MP time damage that should be dealt </td></tr>
    <tr><td class="paramname">added</td><td>Output set to store the effect type IDs of newly added effects that have been queued since the specified time </td></tr>
    <tr><td class="paramname">updated</td><td>Output set to store the effect type IDs of updated effects that have been queued since the specified time </td></tr>
    <tr><td class="paramname">removed</td><td>Output set to store the effect type IDs of removed effects that have been queued since the specified time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if any events have passed, false if none have </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01122">1122</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8cpp_source.html#l00117">GetCorrectValue()</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html#a80c664985084a1f36469110b77eb4df0">libcomp::DefinitionManager::GetStatusData()</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00798">mAlive</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00816">mLock</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00777">mNextEffectTimes</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00764">mTimeDamageEffects</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01561">RegisterNextEffectTime()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01421">RemoveStatusEffects()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01533">SetNextEffectTime()</a>.</p>

</div>
</div>
<a class="anchor" id="aa40113ab2ad642f5a232f1807dcaca76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; uint8_t &gt; ActiveEntityState::PopNRAShields </td>
          <td>(</td>
          <td class="paramtype">const std::list&lt; <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>types</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decrease the corresponding NRA affinity shield effect stacks and return the NRA correct table indexes that apply. </p>
<p>Index values are 1) Null 2) Reflect 3) Absorb Defines exist in the Constants header for each of these. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">types</td><td>Correct table types of the affinity to retrieve </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Set of all corresponding NRA indexes that existed as shield effects </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01333">1333</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8cpp_source.html#l01008">ExpireStatusEffects()</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00816">mLock</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00792">mNRAShields</a>, and <a class="el" href="ActiveEntityState_8h_source.html#l00760">mStatusEffects</a>.</p>

</div>
</div>
<a class="anchor" id="a1f03eb29a5e6c720d5eb4b1d82b79e66"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> ActiveEntityState::Ready </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>ignoreDisplayState</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the entity state has everything needed to start being used. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ignoreDisplayState</td><td>Optional parameter to ignore the display state of the entity and return true if the entity is at least set, defaults to false </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the state is ready to use, otherwise false </dd></dl>

<p>Reimplemented in <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a66ce4e4014373250c4e7a32108fdda78">channel::ActiveEntityStateImp&lt; T &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a66ce4e4014373250c4e7a32108fdda78">channel::ActiveEntityStateImp&lt; objects::Demon &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a66ce4e4014373250c4e7a32108fdda78">channel::ActiveEntityStateImp&lt; objects::Enemy &gt;</a>, and <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a66ce4e4014373250c4e7a32108fdda78">channel::ActiveEntityStateImp&lt; objects::Character &gt;</a>.</p>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01685">1685</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a59bfa238a72ef7535e35ebfd356c60d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> ActiveEntityState::RecalcDisabledSkills </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *&#160;</td>
          <td class="paramname"><em>definitionManager</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recalculate the set of skills available ot the entity that are currently disabled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">definitionManager</td><td>Pointer to the DefinitionManager to use when determining skill definitions </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the set of disabled skills has been updated, false if it has not </dd></dl>

<p>Reimplemented in <a class="el" href="classchannel_1_1CharacterState.html#ae9ae03995aab6df6229fdcdfcac94ef2">channel::CharacterState</a>.</p>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01661">1661</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa116a03fff76b59e8577b87cb6070365"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ActiveEntityState::RecalculateDemonStats </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *&#160;</td>
          <td class="paramname"><em>definitionManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::CalculatedEntityState &gt;&#160;</td>
          <td class="paramname"><em>calcState</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recalculate a demon or enemy entity's stats. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">definitionManager</td><td>Pointer to the DefinitionManager to use when determining how effects and items interact with the entity </td></tr>
    <tr><td class="paramname">calcState</td><td>Override CalculatedEntityState to use instead of the entity's default </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the calculation resulted in a change to the stats that should be sent to the client, 2 if one of the changes should be communicated to the world (for party members etc), 0 otherwise </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l02498">2498</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8cpp_source.html#l02177">AdjustStats()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l02338">BaseStatsCalculated()</a>, <a class="el" href="CharacterManager_8cpp_source.html#l04245">channel::CharacterManager::CalculateDependentStats()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l02632">CompareAndResetStats()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l02415">GetAdditionalCorrectTbls()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01680">GetCoreStats()</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00801">mInitialCalc</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00816">mLock</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l02351">UpdateNRAChances()</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l02051">channel::ActiveEntityStateImp&lt; T &gt;::RecalculateStats()</a>.</p>

</div>
</div>
<a class="anchor" id="a655ff2c1dfbc2b1393874c226a7d5c15"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ActiveEntityState::RecalculateStats </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *&#160;</td>
          <td class="paramname"><em>definitionManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::CalculatedEntityState &gt;&#160;</td>
          <td class="paramname"><em>calcState</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recalculate the entity's stats, adjusted by equipment and effects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">definitionManager</td><td>Pointer to the DefinitionManager to use when determining how effects and items interact with the entity </td></tr>
    <tr><td class="paramname">calcState</td><td>Override CalculatedEntityState to use instead of the entity's default. If a value is supplied for this, the entity's stats will not be updated as a result of the calculation, instead the supplied state will be updated to simulate "effective stats". </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Flags indicating if the calculation resulted in a change that should be communicated to the client or world: 0x01) ENTITY_CALC_STAT_LOCAL = locallly visible stats were changed 0x02) ENTITY_CALC_STAT_WORLD = stats changed that are visible to the world 0x04) ENTITY_CALC_SKILL = skill set has changed (character only) </dd></dl>

<p>Reimplemented in <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#af74e66d3422612236b534b2e4286d137">channel::ActiveEntityStateImp&lt; T &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a2ef429f5a558175b002bdad91a08e619">channel::ActiveEntityStateImp&lt; T &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#a47b03f9cc32e5a7f99747e476cddc926">channel::ActiveEntityStateImp&lt; T &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#aa13eeaec58b7c32b8d8569f026b59e3f">channel::ActiveEntityStateImp&lt; T &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#aa13eeaec58b7c32b8d8569f026b59e3f">channel::ActiveEntityStateImp&lt; objects::Demon &gt;</a>, <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#aa13eeaec58b7c32b8d8569f026b59e3f">channel::ActiveEntityStateImp&lt; objects::Enemy &gt;</a>, and <a class="el" href="classchannel_1_1ActiveEntityStateImp.html#aa13eeaec58b7c32b8d8569f026b59e3f">channel::ActiveEntityStateImp&lt; objects::Character &gt;</a>.</p>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01653">1653</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad58ca1704077c66eae6e6cfa5f93d137"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::RefreshCurrentPosition </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>now</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the entity's current position and rotation values based upon the source/destination ticks and the current time. </p>
<p>If now matches the last refresh time, no work is done. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">now</td><td>Current timestamp of the server </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00290">290</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8cpp_source.html#l00243">CorrectRotation()</a>, and <a class="el" href="ActiveEntityState_8h_source.html#l00804">mLastRefresh</a>.</p>

</div>
</div>
<a class="anchor" id="ad61a7487707c26af826391961d0fd7a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::RefreshKnockback </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>recoveryBoost</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the entity's current knockback value based on the last ticks associated to the value and the current time. </p>
<p>If the value reaches or exceeds the maximum knockback resistance, the max value will be used and the last update tick will be cleared. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">now</td><td>Current timestamp of the server </td></tr>
    <tr><td class="paramname">recoveryBoost</td><td>Recovery rate increase percentage </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00414">414</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8cpp_source.html#l00117">GetCorrectValue()</a>, and <a class="el" href="ActiveEntityState_8h_source.html#l00816">mLock</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l00444">UpdateKnockback()</a>.</p>

</div>
</div>
<a class="anchor" id="abb971ac4a2f29be3a316a5e12a4b51bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::RegisterNextEffectTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register the entity's next effect event time with the current zone. </p>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01561">1561</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8h_source.html#l00780">mCurrentZone</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00795">mEffectsActive</a>, and <a class="el" href="ActiveEntityState_8h_source.html#l00777">mNextEffectTimes</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l00641">AddStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01008">ExpireStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01122">PopEffectTicks()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00623">SetStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01065">SetStatusEffectsActive()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l00473">SetZone()</a>.</p>

</div>
</div>
<a class="anchor" id="a7b31da8ab8cf7529a93ae5ab43d8e6cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::RemoveInactiveSwitchSkills </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove any switch skills marked as active that are no longer available to the entity. </p>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l02579">2579</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l01955">channel::ActiveEntityStateImp&lt; T &gt;::RecalculateStats()</a>.</p>

</div>
</div>
<a class="anchor" id="af048315581b26430c0dc62d15d5078dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::RemoveStatusEffects </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>effectTypes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove the set of supplied status effects from all registered collections. </p>
<p>This function should not be called directly in place of being expired first. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">effectTypes</td><td>Set of effect type IDs to remove </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01421">1421</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8h_source.html#l00768">mCancelConditions</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00792">mNRAShields</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00760">mStatusEffects</a>, and <a class="el" href="ActiveEntityState_8h_source.html#l00764">mTimeDamageEffects</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l00641">AddStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01008">ExpireStatusEffects()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01122">PopEffectTicks()</a>.</p>

</div>
</div>
<a class="anchor" id="ae22c1b7e0c0ff0217bf4d5d255e4db13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::Rotate </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>rot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the entity's destination rotation based on the supplied values and uses the current rotation values to set the origin. </p>
<p>Communicating that the rotation has taken place must be done elsewhere. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rot</td><td>New rotation value to set </td></tr>
    <tr><td class="paramname">now</td><td>Server time to use as the origin ticks </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00153">153</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8cpp_source.html#l00204">CanMove()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00243">CorrectRotation()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l00264">GetMovementSpeed()</a>.</p>

</div>
</div>
<a class="anchor" id="a5eca26bba7bcac79034d2adfa7f584f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::SetActionTime </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1String.html">libcomp::String</a> &amp;&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores a timestamp associated to an enemy specific action. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">action</td><td>Name of the action to store </td></tr>
    <tr><td class="paramname">time</td><td>Timestamp of the specified action </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00408">408</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1String.html#a45b79da926d19d372c8609c4ba82b4e5">libcomp::String::C()</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00810">mActionTimes</a>, and <a class="el" href="ActiveEntityState_8h_source.html#l00816">mLock</a>.</p>

</div>
</div>
<a class="anchor" id="a23f9604c12ecf053dab3cb4511c7a624"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::SetAIState </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1AIState.html">channel::AIState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>aiState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the <a class="el" href="classchannel_1_1AIState.html" title="Contains the state of an entity&#39;s AI information when controlled by the channel. ">AIState</a> of the entity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Pointer</td><td>to the <a class="el" href="classchannel_1_1AIState.html" title="Contains the state of an entity&#39;s AI information when controlled by the channel. ">AIState</a> of the entity </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00391">391</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8h_source.html#l00813">mAIState</a>.</p>

</div>
</div>
<a class="anchor" id="a6616f760c961b349baf3b81d0bea31dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> ActiveEntityState::SetHPMP </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>hp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>mp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>adjust</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>canOverflow</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the HP and/or MP of the entity to either a specified or adjusted value. </p>
<p>Use this instead of a raw EntityStats function to avoid conflicting updats running at the same time. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hp</td><td>Specified or adjusted HP value to apply </td></tr>
    <tr><td class="paramname">mp</td><td>Specified or adjusted MP value to apply </td></tr>
    <tr><td class="paramname">adjust</td><td>If true the supplied HP and MP values will be added to the current value instead of being set explicitly </td></tr>
    <tr><td class="paramname">canOverflow</td><td>true if the entity can be changed from alive to dead and vice-versa </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If adjust and canOverflow are both true, the returned value will be whether the entity's HP has overflowed. If one of those params is false, the returned value represents if the HP or MP were changed </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00485">485</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7c6d6218e677353ee81718c7a821be17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> ActiveEntityState::SetHPMP </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>hp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>mp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>adjust</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>canOverflow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>clenchChance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t &amp;&#160;</td>
          <td class="paramname"><em>hpAdjusted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t &amp;&#160;</td>
          <td class="paramname"><em>mpAdjusted</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the HP and/or MP of the entity to either a specified or adjusted value. </p>
<p>Use this instead of a raw EntityStats function to avoid conflicting updats running at the same time. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hp</td><td>Specified or adjusted HP value to apply </td></tr>
    <tr><td class="paramname">mp</td><td>Specified or adjusted MP value to apply </td></tr>
    <tr><td class="paramname">adjust</td><td>If true the supplied HP and MP values will be added to the current value instead of being set explicitly </td></tr>
    <tr><td class="paramname">canOverflow</td><td>true if the entity can be changed from alive to dead and vice-versa </td></tr>
    <tr><td class="paramname">clenchChance</td><td>Chance to survive a lethal hit from more than 1 starting HP, represented as a 2 decimal precision value (10000 = 100%) </td></tr>
    <tr><td class="paramname">hpAdjusted</td><td>If not adjusting, this will be the HP damage dealt, otherwise it matches the value supplied </td></tr>
    <tr><td class="paramname">mpAdjusted</td><td>If not adjusting, this will be the MP damage dealt, otherwise it matches the value supplied </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If adjust and canOverflow are both true, the returned value will be whether the entity's HP has overflowed. If one of those params is false, the returned value represents if the HP or MP were changed </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00492">492</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8cpp_source.html#l01680">GetCoreStats()</a>, <a class="el" href="ChannelServer_8cpp_source.html#l00621">channel::ChannelServer::GetServerTime()</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00798">mAlive</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00816">mLock</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Randomizer_8h.html#a0d86a2bee95f162f95aacb8451b3078f">RNG</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l00171">Stop()</a>.</p>

</div>
</div>
<a class="anchor" id="af9d56a631bf512f8ac22671e78fb3864"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::SetNextEffectTime </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>effectType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the next effect event time for a specified effect type for the entity's event map. </p>
<p>The zone itself must be updated using RegisterNextEffectTime after each effect is set using this function. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">effectType</td><td>Effect type ID to register an event for </td></tr>
    <tr><td class="paramname">time</td><td>Absolute system time to register for the event </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01533">1533</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8h_source.html#l00777">mNextEffectTimes</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l01008">ExpireStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01122">PopEffectTicks()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01065">SetStatusEffectsActive()</a>.</p>

</div>
</div>
<a class="anchor" id="abc6fe40cb7d3047ea41b17ff76c3f7df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::SetStatusEffects </td>
          <td>(</td>
          <td class="paramtype">const std::list&lt; std::shared_ptr&lt; objects::StatusEffect &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>effects</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the status effects currently on the entity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">List</td><td>of status effects currently on the entity </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00623">623</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8h_source.html#l00768">mCancelConditions</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00816">mLock</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00777">mNextEffectTimes</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00792">mNRAShields</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00760">mStatusEffects</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00764">mTimeDamageEffects</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01561">RegisterNextEffectTime()</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l01717">channel::ActiveEntityStateImp&lt; T &gt;::SetEntity()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01410">SetStatusEffects()</a>.</p>

</div>
</div>
<a class="anchor" id="a67dc06dcf10274170f0728f5f066588f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::SetStatusEffects </td>
          <td>(</td>
          <td class="paramtype">const std::list&lt; <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1ObjectReference.html">libcomp::ObjectReference</a>&lt; objects::StatusEffect &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>effects</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the status effects currently on the entity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">List</td><td>of status effects currently on the entity as object references </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01410">1410</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8cpp_source.html#l00623">SetStatusEffects()</a>.</p>

</div>
</div>
<a class="anchor" id="ad037282b3c14165da135e4205658a951"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::SetStatusEffectsActive </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>activate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1DefinitionManager.html">libcomp::DefinitionManager</a> *&#160;</td>
          <td class="paramname"><em>definitionManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>now</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activate or deactivate the entity's status effect states. </p>
<p>By activating effects, they will be registered with the <a class="el" href="classchannel_1_1ActiveEntityState.html" title="Represents an active entity on the channel server. ">ActiveEntityState</a> and its current zone via their absolute server time expiration in addition to setting any quick access properties on the entity. By deactivating effects, they will be unregistered from the zone, the quick access properties will be cleared and the expiration time of relative effects will be updated. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">activate</td><td>true if the effects will activated, else they will be deactivated </td></tr>
    <tr><td class="paramname">definitionManager</td><td>Pointer to the DefinitionManager to use when determining how the effects behave </td></tr>
    <tr><td class="paramname">now</td><td>Current system timestamp to use when activating the effects, defaults to the current time if not specified </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01065">1065</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8cpp_source.html#l01447">ActivateStatusEffect()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01570">GetCurrentExpiration()</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00768">mCancelConditions</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00780">mCurrentZone</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00795">mEffectsActive</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00816">mLock</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00777">mNextEffectTimes</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00760">mStatusEffects</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00764">mTimeDamageEffects</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01561">RegisterNextEffectTime()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01533">SetNextEffectTime()</a>.</p>

</div>
</div>
<a class="anchor" id="a30007b72d6e529ca1bb069a699f4ed31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::SetZone </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1Zone.html">Zone</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>zone</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>updatePrevious</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the entity's current zone. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">zone</td><td>Pointer to the zone the entity has entered </td></tr>
    <tr><td class="paramname">updatePrevious</td><td>true if the previous zone should be notified of the change, false if this is being handled elsewhere </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00473">473</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8h_source.html#l00780">mCurrentZone</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01561">RegisterNextEffectTime()</a>.</p>

<p>Referenced by <a class="el" href="Zone_8cpp_source.html#l00972">channel::Zone::Cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="a7aaf79e1f896744447d2db61abb9c9ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> ActiveEntityState::SkillAvailable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>skillID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the entity has the supplied skill learned and not currently disabled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">skillID</td><td>ID of the skill to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the skill is available, false if it is not </dd></dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l01603">1603</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2cad211a8af9bca5239ab9f7579f3120"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::Stop </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>now</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the entity's movement based on the current postion information. </p>
<p>Communicating that the movement has stopped must be done elsewhere. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">now</td><td>Server time to use as the origin ticks </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00171">171</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l00492">SetHPMP()</a>.</p>

</div>
</div>
<a class="anchor" id="ab4c9670f327a31be928b619b000110d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float ActiveEntityState::UpdateKnockback </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>decrease</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>recoveryBoost</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Refresh and then reduce the entity's knockback value. </p>
<p>If the value goes under zero, it will be set to zero. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">now</td><td>Current timestamp of the server </td></tr>
    <tr><td class="paramname">decrease</td><td>Value to decrease the knockback value by </td></tr>
    <tr><td class="paramname">recoveryBoost</td><td>Recovery rate increase percentage </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l00444">444</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="el" href="ActiveEntityState_8h_source.html#l00816">mLock</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l00414">RefreshKnockback()</a>.</p>

</div>
</div>
<a class="anchor" id="ab085e16b7b68c89e4f92763dbdf8e87d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ActiveEntityState::UpdateNRAChances </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">libcomp::EnumMap</a>&lt; <a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>, int16_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::CalculatedEntityState &gt;&#160;</td>
          <td class="paramname"><em>calcState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::list&lt; std::shared_ptr&lt; objects::MiCorrectTbl &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>adjustments</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the entity's calculated NRA chances for each affinity from base and equipment values. </p>
<p>NRA chances will further be modified for status effects within AdjustStats during the calculated stat mode. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stats</td><td>Map containing the base NRA values </td></tr>
    <tr><td class="paramname">calcState</td><td>Override CalculatedEntityState to use instead of the entity's default </td></tr>
    <tr><td class="paramname">adjustments</td><td>List of adjustments to the correct table values supplied by equipment </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ActiveEntityState_8cpp_source.html#l02351">2351</a> of file <a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a>.</p>

<p>References <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#ab7fc2757e5ed0bc18f0e15cd8fa0a4bf">NRA_ABSORB</a>, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#a6e29b379505a7ce8fd12cdb539482aa0">NRA_NULL</a>, and <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/Constants_8h.html#aaf26eb773775b826ed777e41cd3a87d0">NRA_REFLECT</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l02498">RecalculateDemonStats()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01955">channel::ActiveEntityStateImp&lt; T &gt;::RecalculateStats()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a54a791fd0f100e1e098d0c8579cd6298"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;std::string, uint64_t&gt; channel::ActiveEntityState::mActionTimes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map of timestamps associated to AI specific actions. </p>

<p>Definition at line <a class="el" href="ActiveEntityState_8h_source.html#l00810">810</a> of file <a class="el" href="ActiveEntityState_8h_source.html">ActiveEntityState.h</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l00396">GetActionTime()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l00408">SetActionTime()</a>.</p>

</div>
</div>
<a class="anchor" id="aafcef9fb7f80ea09775a6f00a008ee11"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classchannel_1_1AIState.html">AIState</a>&gt; channel::ActiveEntityState::mAIState</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the AI state information bound to the entity. </p>

<p>Definition at line <a class="el" href="ActiveEntityState_8h_source.html#l00813">813</a> of file <a class="el" href="ActiveEntityState_8h_source.html">ActiveEntityState.h</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l00386">GetAIState()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l02051">channel::ActiveEntityStateImp&lt; T &gt;::RecalculateStats()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l00391">SetAIState()</a>.</p>

</div>
</div>
<a class="anchor" id="ab1f143a1f6904fd063477232e7477b92"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> channel::ActiveEntityState::mAlive</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Signifies that the entity is alive. </p>

<p>Definition at line <a class="el" href="ActiveEntityState_8h_source.html#l00798">798</a> of file <a class="el" href="ActiveEntityState_8h_source.html">ActiveEntityState.h</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l00199">CanAct()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00204">CanMove()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00183">IsAlive()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01122">PopEffectTicks()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01717">channel::ActiveEntityStateImp&lt; T &gt;::SetEntity()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l00492">SetHPMP()</a>.</p>

</div>
</div>
<a class="anchor" id="a2878947ed3b4a723ba1804841658323b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;uint8_t, std::set&lt;uint32_t&gt; &gt; channel::ActiveEntityState::mCancelConditions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Active effect type IDs mapped to cancel condition flags for quick access. </p>

<p>Definition at line <a class="el" href="ActiveEntityState_8h_source.html#l00768">768</a> of file <a class="el" href="ActiveEntityState_8h_source.html">ActiveEntityState.h</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l01447">ActivateStatusEffect()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01041">CancelStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01421">RemoveStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00623">SetStatusEffects()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01065">SetStatusEffectsActive()</a>.</p>

</div>
</div>
<a class="anchor" id="a1dc568369cb1ff4d78a9db83c08375f8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classchannel_1_1Zone.html">Zone</a>&gt; channel::ActiveEntityState::mCurrentZone</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the current zone the entity is in. </p>

<p>Definition at line <a class="el" href="ActiveEntityState_8h_source.html#l00780">780</a> of file <a class="el" href="ActiveEntityState_8h_source.html">ActiveEntityState.h</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l00468">GetZone()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01561">RegisterNextEffectTime()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01065">SetStatusEffectsActive()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l00473">SetZone()</a>.</p>

</div>
</div>
<a class="anchor" id="ae7e6dc8b0b6c2ecf09c634c1e7cb701f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> channel::ActiveEntityState::mEffectsActive</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>true if the status effects have been activated for the current zone </p>

<p>Definition at line <a class="el" href="ActiveEntityState_8h_source.html#l00795">795</a> of file <a class="el" href="ActiveEntityState_8h_source.html">ActiveEntityState.h</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l00641">AddStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01008">ExpireStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01229">GetCurrentStatusEffectStates()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01561">RegisterNextEffectTime()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01065">SetStatusEffectsActive()</a>.</p>

</div>
</div>
<a class="anchor" id="ace2da752766739a6149fc2b07b158d59"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> channel::ActiveEntityState::mInitialCalc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>false if the entity has been assigned but never calculated </p>

<p>Definition at line <a class="el" href="ActiveEntityState_8h_source.html#l00801">801</a> of file <a class="el" href="ActiveEntityState_8h_source.html">ActiveEntityState.h</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l02498">RecalculateDemonStats()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01955">channel::ActiveEntityStateImp&lt; T &gt;::RecalculateStats()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01717">channel::ActiveEntityStateImp&lt; T &gt;::SetEntity()</a>.</p>

</div>
</div>
<a class="anchor" id="ade34713c4aec7ca929822a292b0223d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t channel::ActiveEntityState::mLastRefresh</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Last timestamp the entity's state was refreshed. </p>

<p>Definition at line <a class="el" href="ActiveEntityState_8h_source.html#l00804">804</a> of file <a class="el" href="ActiveEntityState_8h_source.html">ActiveEntityState.h</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l00290">RefreshCurrentPosition()</a>.</p>

</div>
</div>
<a class="anchor" id="a8ba2ead908829f41707bdd3b36bcbb0a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex channel::ActiveEntityState::mLock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Server lock for shared resources. </p>

<p>Definition at line <a class="el" href="ActiveEntityState_8h_source.html#l00816">816</a> of file <a class="el" href="ActiveEntityState_8h_source.html">ActiveEntityState.h</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l01297">AddRemoveOpponent()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00641">AddStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01041">CancelStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01008">ExpireStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00396">GetActionTime()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01229">GetCurrentStatusEffectStates()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01381">GetNextActivatedAbilityID()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01290">HasOpponent()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01122">PopEffectTicks()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01333">PopNRAShields()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l02498">RecalculateDemonStats()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01955">channel::ActiveEntityStateImp&lt; T &gt;::RecalculateStats()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00414">RefreshKnockback()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00408">SetActionTime()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01717">channel::ActiveEntityStateImp&lt; T &gt;::SetEntity()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00492">SetHPMP()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00623">SetStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01065">SetStatusEffectsActive()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l00444">UpdateKnockback()</a>.</p>

</div>
</div>
<a class="anchor" id="a201d4512bc8abb8059a6589999a48bdb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int8_t channel::ActiveEntityState::mNextActivatedAbilityID</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Next available activated ability ID. </p>

<p>Definition at line <a class="el" href="ActiveEntityState_8h_source.html#l00807">807</a> of file <a class="el" href="ActiveEntityState_8h_source.html">ActiveEntityState.h</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l01381">GetNextActivatedAbilityID()</a>.</p>

</div>
</div>
<a class="anchor" id="a7cec5b66c750593b2ad1f2b86c03e233"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;uint32_t, std::set&lt;uint32_t&gt; &gt; channel::ActiveEntityState::mNextEffectTimes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map of server system times mapped to the next event time associated to each active status effect. </p>
<p>Natural HP/MP regen is stored here as a 0. Actual effects will be stored here as reserved values 1 (inticating a new effect was added), 2 (indicating an efect has been updated) or 3 (indicating an effect has expired). Any other value stored will be an absolute system time when the regen or T-Damage will be applied or the effect associated will be expired. </p>

<p>Definition at line <a class="el" href="ActiveEntityState_8h_source.html#l00777">777</a> of file <a class="el" href="ActiveEntityState_8h_source.html">ActiveEntityState.h</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l01447">ActivateStatusEffect()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00641">AddStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01008">ExpireStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01229">GetCurrentStatusEffectStates()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01122">PopEffectTicks()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01561">RegisterNextEffectTime()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01533">SetNextEffectTime()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00623">SetStatusEffects()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01065">SetStatusEffectsActive()</a>.</p>

</div>
</div>
<a class="anchor" id="a203b30260e6d7f760c0b8071b6babc51"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;uint32_t, <a class="elRef" doxygen="C:/projects/comp-hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a1442fc2425910540ae92c53a56c03cc6">libcomp::EnumMap</a>&lt;<a class="el" href="ActiveEntityState_8h.html#ae5e46bc20c247425b6c26aa4d9636868">CorrectTbl</a>, std::set&lt;uint8_t&gt; &gt; &gt; channel::ActiveEntityState::mNRAShields</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map of effect type IDs to NRA types and NRA indexes. </p>
<p>This represents a 100% NRA result whenever a skill of the corresponding type is used which will decrease the effect stack until being cancelled out should it occur before the effect's expiration time. </p>

<p>Definition at line <a class="el" href="ActiveEntityState_8h_source.html#l00792">792</a> of file <a class="el" href="ActiveEntityState_8h_source.html">ActiveEntityState.h</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l01447">ActivateStatusEffect()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01333">PopNRAShields()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01421">RemoveStatusEffects()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l00623">SetStatusEffects()</a>.</p>

</div>
</div>
<a class="anchor" id="ac62ddc39f590dd556479f21152f0fb47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;int32_t&gt; channel::ActiveEntityState::mOpponentIDs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set of entity IDs representing opponents that the entity is currently fighting. </p>
<p>If an entity is in this set, this entity should be in their set as well. </p>

<p>Definition at line <a class="el" href="ActiveEntityState_8h_source.html#l00785">785</a> of file <a class="el" href="ActiveEntityState_8h_source.html">ActiveEntityState.h</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l01297">AddRemoveOpponent()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00264">GetMovementSpeed()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01285">GetOpponentIDs()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01290">HasOpponent()</a>.</p>

</div>
</div>
<a class="anchor" id="a8339cd0b835314682a8419496ab3ff94"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;uint32_t, std::shared_ptr&lt;objects::StatusEffect&gt; &gt; channel::ActiveEntityState::mStatusEffects</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map of active status effects by effect type ID. </p>

<p>Definition at line <a class="el" href="ActiveEntityState_8h_source.html#l00760">760</a> of file <a class="el" href="ActiveEntityState_8h_source.html">ActiveEntityState.h</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l00641">AddStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01008">ExpireStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01229">GetCurrentStatusEffectStates()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00618">GetStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01333">PopNRAShields()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01421">RemoveStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00623">SetStatusEffects()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01065">SetStatusEffectsActive()</a>.</p>

</div>
</div>
<a class="anchor" id="ab6b71c46b84f4cb073667dd823ea0491"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;uint32_t&gt; channel::ActiveEntityState::mTimeDamageEffects</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>IDs of status effects currently active that deal time damage for quick access. </p>

<p>Definition at line <a class="el" href="ActiveEntityState_8h_source.html#l00764">764</a> of file <a class="el" href="ActiveEntityState_8h_source.html">ActiveEntityState.h</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l01447">ActivateStatusEffect()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01122">PopEffectTicks()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l01421">RemoveStatusEffects()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00623">SetStatusEffects()</a>, and <a class="el" href="ActiveEntityState_8cpp_source.html#l01065">SetStatusEffectsActive()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="ActiveEntityState_8h_source.html">ActiveEntityState.h</a></li>
<li><a class="el" href="ActiveEntityState_8cpp_source.html">ActiveEntityState.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
