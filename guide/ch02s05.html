<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Configuration Files</title><link rel="stylesheet" type="text/css" href="static/docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="COMP_hack: The Definitive Guide" /><link rel="up" href="ch02.html" title="Chapter 2. Server Setup" /><link rel="prev" href="ch02s04.html" title="Website with PHP &amp; Nginx" /><link rel="next" href="ch03.html" title="Chapter 3. Game Content" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Configuration Files</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s04.html">Prev</a> </td><th width="60%" align="center">Chapter 2. Server Setup</th><td width="20%" align="right"> <a accesskey="n" href="ch03.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm45361529292512"></a>Configuration Files</h2></div></div></div><p>There are three configuration files to worry about:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="bold"><strong>lobby.xml</strong></span> is used for the
		lobby server</p></li><li class="listitem"><p><span class="bold"><strong>world.xml</strong></span> is used for
		the world server</p></li><li class="listitem"><p><span class="bold"><strong>channel.xml</strong></span> is used for
		the channel server</p></li></ul></div><p>Note that these files can have a different name. By default, the server
will search for this configuration file in the following location:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="bold"><strong>Windows</strong></span> - the file
		<span class="emphasis"><em>lobby.xml</em></span> or <span class="emphasis"><em>world.xml</em></span> or <span class="emphasis"><em>channel.xml</em></span>
		(depending on which server) in the current working directory</p></li><li class="listitem"><p><span class="bold"><strong>Linux</strong></span> - the <span class="emphasis"><em>
		lobby.xml</em></span> or <span class="emphasis"><em>world.xml</em></span> or <span class="emphasis"><em>channel.xml</em></span> (depending on
		which server) in <span class="emphasis"><em>/etc/comp_hack</em></span></p></li></ul></div><p>If you don’t want to use the default name and location, you can specify
the configuration file path on the command line:</p><p><code class="code">comp_channel /path/to/my/config.xml</code></p><p>All three configuration files share some settings in common. Those settings are documented here.</p><p>As with any xml file, it should start with this line:</p><p><code class="code">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</code></p><p>All settings are enclosed between the <span class="emphasis"><em>&lt;object&gt;</em></span>
and <span class="emphasis"><em>&lt;/object&gt;</em></span> tags. This <span class="emphasis"><em>&lt;object&gt;</em></span> section is wrapped by the tags <span class="emphasis"><em>&lt;objgen&gt;</em></span> and <span class="emphasis"><em>&lt;/objgen&gt;</em></span>. Inside the <span class="emphasis"><em>&lt;object&gt;</em></span> section is a series of <span class="emphasis"><em>&lt;member&gt;</em></span> tags for each setting. Here is an example of how this should look:</p><pre class="programlisting">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;objgen&gt;
    &lt;object&gt;
        &lt;member name="DatabaseType"&gt;SQLITE3&lt;/member&gt;
    &lt;/object&gt;
&lt;/objgen&gt;
</pre><p>Some settings may be a group of other settings. In this case the <span class="emphasis"><em>&lt;member&gt;</em></span> tag encloses an <span class="emphasis"><em>&lt;object&gt;</em></span> with more settings. Here is an example:</p><pre class="programlisting">
&lt;member name="SQLite3Config"&gt;
    &lt;object&gt;
        &lt;member name="FileDirectory"&gt;/var/lib/comp_hack/database&lt;/member&gt;
    &lt;/object&gt;
&lt;/member&gt;
</pre><p>Each <span class="emphasis"><em>&lt;member&gt;</em></span> tag has a <span class="emphasis"><em>name</em></span> attribute that specifies which configuration option is being changed. What follows is a description of the configuration options. These configuration options are split into five sections. These sections cover the common configuration shared by all three server, the database configuration shared by the lobby and world servers, and any configuration specific to a server.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm45361517656064"></a>Common Server Configuration</h3></div></div></div><p>These settings apply to all three server configurations.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361515039440"></a>DiffieHellmanKeyPair</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> string</p><p><span class="strong"><strong>Default:</strong></span> <span class="emphasis"><em>blank</em></span></p><p>This is the public key pair used for encrypting new client connections. Leave this option out and the server will generate a new pair for your server to add to the configuration.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361518623440"></a>Example</h5></div></div></div><p>&lt;member name="DiffieHellmanKeyPair"&gt;940134C09FB9BABE187BCE1030E63...&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361527841600"></a>Port</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> integer</p><p><span class="strong"><strong>Default:</strong></span> 10666 (lobby), 18666 (channel) or 14666 (channel)</p><p>Main port for the server to listen for connections on. For the lobby and channel these should be open to the internet for clients. For the world server this port should be blocked by your firewall. For the lobby this is usually 10666. For the channel this is usually 14666, 15666, etc. For the world this is usually 18666.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361530751056"></a>Example</h5></div></div></div><p>&lt;member name="Port"&gt;10666&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361530495152"></a>DatabaseType</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> enumeration</p><p><span class="strong"><strong>Default:</strong></span> MARIADB</p><p>The type of database being used. Must be either <span class="emphasis"><em>MARIADB</em></span> or <span class="emphasis"><em>SQLITE3</em></span>. <span class="emphasis"><em>MARIADB</em></span> is strongly recommended for production servers and testing.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361524289696"></a>Example</h5></div></div></div><p>&lt;member name="DatabaseType"&gt;MARIADB&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361530687552"></a>MultithreadMode</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> boolean</p><p><span class="strong"><strong>Default:</strong></span> true</p><p>Just leave it on unless your computer is an 8086.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361521381664"></a>Example</h5></div></div></div><p>&lt;member name="MultithreadMode"&gt;true&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361521345296"></a>DataStore</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> string</p><p><span class="strong"><strong>Default:</strong></span> <span class="emphasis"><em>blank</em></span></p><p>Location of the game data directory.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361518104224"></a>Example</h5></div></div></div><p>&lt;member name="DataStore"&gt;/var/lib/comp_hack&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361530538352"></a>DataStoreSync</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> boolean</p><p><span class="strong"><strong>Default:</strong></span> true</p><p>This feature is not implemented yet but it would sync the data store between servers (if they were on different systems and need this).</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361527282384"></a>Example</h5></div></div></div><p>&lt;member name="DataStoreSync"&gt;true&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361523610656"></a>LogFile</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> string</p><p><span class="strong"><strong>Default:</strong></span> <span class="emphasis"><em>blank</em></span></p><p>Path to the log file.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361524504992"></a>Example</h5></div></div></div><p>&lt;member name="LogFile"&gt;/var/log/comp_hack/lobby.log&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361524368160"></a>LogFileTimestamp</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> boolean</p><p><span class="strong"><strong>Default:</strong></span> true</p><p>Indicates if the log file should include timestamps.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361523697984"></a>Example</h5></div></div></div><p>&lt;member name="LogFileTimestamp"&gt;true&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361522754448"></a>LogFileAppend</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> boolean</p><p><span class="strong"><strong>Default:</strong></span> true</p><p>Appends to an existing log file if it exists. If disabled, the log file is replaced.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361523710112"></a>Example</h5></div></div></div><p>&lt;member name="LogFileAppend"&gt;true&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361523246768"></a>LogDebug</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> boolean</p><p><span class="strong"><strong>Default:</strong></span> true</p><p>Indicates if debug log messages should be produced.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361528691808"></a>Example</h5></div></div></div><p>&lt;member name="LogDebug"&gt;true&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361523376336"></a>LogInfo</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> boolean</p><p><span class="strong"><strong>Default:</strong></span> true</p><p>Indicates if info log messages should be produced.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361521749840"></a>Example</h5></div></div></div><p>&lt;member name="LogInfo"&gt;true&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361525297728"></a>LogWarning</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> boolean</p><p><span class="strong"><strong>Default:</strong></span> true</p><p>Indicates if warning log messages should be produced.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361521135952"></a>Example</h5></div></div></div><p>&lt;member name="LogWarning"&gt;true&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361525429024"></a>LogError</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> boolean</p><p><span class="strong"><strong>Default:</strong></span> true</p><p>Indicates if error log messages should be produced.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361527402576"></a>Example</h5></div></div></div><p>&lt;member name="LogError"&gt;true&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361523498928"></a>LogCritical</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> boolean</p><p><span class="strong"><strong>Default:</strong></span> true</p><p>Indicates if critical log messages should be produced.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361521607616"></a>Example</h5></div></div></div><p>&lt;member name="LogCritical"&gt;true&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361520669904"></a>CapturePath</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> string</p><p><span class="strong"><strong>Default:</strong></span> <span class="emphasis"><em>blank</em></span></p><p>Directory to store packet captures of client sessions. If this is empty, client sessions are not saved.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361518404848"></a>Example</h5></div></div></div><p>&lt;member name="CapturePath"&gt;/var/log/comp_hack/captures&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361518415088"></a>ServerConstantsPath</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> string</p><p><span class="strong"><strong>Default:</strong></span> <span class="emphasis"><em>blank</em></span></p><p>Path to the server constants.xml file. If this is blank it defaults to the same directory as the lobby, world and channel config files.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361521291408"></a>Example</h5></div></div></div><p>&lt;member name="ServerConstantsPath"&gt;/var/log/comp_hack/captures&lt;/member&gt;</p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm45361523451152"></a>Lobby Server Configuration</h3></div></div></div><p>These settings apply to only the lobby server configuration.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361525759248"></a>WebListeningPort</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> integer</p><p><span class="strong"><strong>Default:</strong></span> 10999</p><p>Port to listen for web authentication or REST API requests on. This defaults to 10999. Do not expose this to clients if you use the REST API for your own site. Have users login through your site instead. If you give clients access to this port you should disable the REST API.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361525279568"></a>Example</h5></div></div></div><p>&lt;member name="WebListeningPort"&gt;10999&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361524153408"></a>WebCertificate</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> string</p><p><span class="strong"><strong>Default:</strong></span> <span class="emphasis"><em>blank</em></span></p><p>SSL certificate for the web authentication or REST API. If blank, SSL is not used. It is highly recommended to use SSL, especially if the port is exposed to the internet. This should combine the certificate and any other certificates you need (like the CA cert).</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361527428352"></a>Example</h5></div></div></div><p>&lt;member name="WebCertificate"&gt;/etc/ssl/mysite.crt&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361522909888"></a>WebRoot</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> string</p><p><span class="strong"><strong>Default:</strong></span> <span class="emphasis"><em>blank</em></span></p><p>Directory to add to the web authentication server. If blank no directory is added. This may not be safe when exposed to the internet. This directory should not contain symlinks as they may be followed.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361525889456"></a>Example</h5></div></div></div><p>&lt;member name="WebRoot"&gt;/var/www/comp_hack&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361522605392"></a>WebAuthTimeOut</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> integer</p><p><span class="strong"><strong>Default:</strong></span> 15</p><p>Number of seconds until a new lobby connection via web auth expires. If the user does not log into the lobby before this expires they have to start the login process over again.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361523212368"></a>Example</h5></div></div></div><p>&lt;member name="WebAuthTimeOut"&gt;10&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361520928736"></a>ClientVersion</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> float</p><p><span class="strong"><strong>Default:</strong></span> 1.666</p><p>Version the client must be to login. This defaults to 1.666 (the last Japanese client release).</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361523507984"></a>Example</h5></div></div></div><p>&lt;member name="ClientVersion"&gt;1.666&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361516542576"></a>CharacterDeletionDelay</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> integer</p><p><span class="strong"><strong>Default:</strong></span> 1440</p><p>Number of minutes unil a character marked for deletion is deleted. This defaults to 24 hours.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361525412208"></a>Example</h5></div></div></div><p>&lt;member name="CharacterDeletionDelay"&gt;10&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361524127456"></a>CharacterTicketCost</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> integer</p><p><span class="strong"><strong>Default:</strong></span> 0</p><p>Cost (in CP) to purchase another character ticket.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361518696288"></a>Example</h5></div></div></div><p>&lt;member name="CharacterTicketCost"&gt;10&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361516384688"></a>RegistrationCP</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> integer</p><p><span class="strong"><strong>Default:</strong></span> 0</p><p>Amount of CP to give new accounts.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361519819664"></a>Example</h5></div></div></div><p>&lt;member name="RegistrationCP"&gt;1000&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361527283408"></a>RegistrationTicketCount</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> integer</p><p><span class="strong"><strong>Default:</strong></span> 1</p><p>Amount of character tickets to give new accounts.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361522917216"></a>Example</h5></div></div></div><p>&lt;member name="RegistrationTicketCount"&gt;3&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361523487184"></a>RegistrationUserLevel</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> integer</p><p><span class="strong"><strong>Default:</strong></span> 0</p><p>User level of new accounts. 0 is a normal account, anything non-zero is a GM and 1000 is a full GM with all permissions.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361520754720"></a>Example</h5></div></div></div><p>&lt;member name="RegistrationUserLevel"&gt;1000&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361520196832"></a>RegistrationAccountEnabled</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> boolean</p><p><span class="strong"><strong>Default:</strong></span> true</p><p>Indicates if new accounts should be enabled by default.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361518408416"></a>Example</h5></div></div></div><p>&lt;member name="RegistrationAccountEnabled"&gt;false&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361518596704"></a>PlayOpeningMovie</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> boolean</p><p><span class="strong"><strong>Default:</strong></span> true</p><p>When set the opening cutscene will play for new accounts.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361522950096"></a>Example</h5></div></div></div><p>&lt;member name="PlayOpeningMovie"&gt;false&lt;/member&gt;</p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm45361525845584"></a>World Server Configuration</h3></div></div></div><p>These settings apply to only the world server configuration.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361515394256"></a>ID</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> integer</p><p><span class="strong"><strong>Default:</strong></span> 0</p><p>ID of the world when registering it with the lobby. Should start at 0 and increment for each new world. Must be in the range (0, 255).</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361520390336"></a>Example</h5></div></div></div><p>&lt;member name="ID"&gt;0&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361521628688"></a>Name</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> string</p><p><span class="strong"><strong>Default:</strong></span> <span class="emphasis"><em>blank</em></span></p><p>Name of the world (shown in lobby).</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361515156448"></a>Example</h5></div></div></div><p>&lt;member name="Name"&gt;Test World&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361516996784"></a>LobbyIP</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> string</p><p><span class="strong"><strong>Default:</strong></span> 127.0.0.1</p><p>IP address of the lobby server to connect to. This defaults to 127.0.0.1 (localhost).</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361519326768"></a>Example</h5></div></div></div><p>&lt;member name="LobbyIP"&gt;127.0.0.1&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361518523040"></a>LobbyPort</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> integer</p><p><span class="strong"><strong>Default:</strong></span> 10666</p><p>Port of the lobby server to connect to. This defaults to 10666.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361523278624"></a>Example</h5></div></div></div><p>&lt;member name="LobbyPort"&gt;127.0.0.1&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361523248368"></a>ChannelConnectionTimeOut</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> integer</p><p><span class="strong"><strong>Default:</strong></span> 15</p><p>Number of seconds until a new channel connection expires. If the user does not log into the channel before this expires they have to start the login process over again.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361521965328"></a>Example</h5></div></div></div><p>&lt;member name="ChannelConnectionTimeOut"&gt;10&lt;/member&gt;</p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm45361525295904"></a>Channel Server Configuration</h3></div></div></div><p>These settings apply to only the channel server configuration.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361520186224"></a>Name</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> string</p><p><span class="strong"><strong>Default:</strong></span> <span class="emphasis"><em>blank</em></span></p><p>Name of the channel (shown in the old channel list).</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361520756240"></a>Example</h5></div></div></div><p>&lt;member name="Name"&gt;Test Channel&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361523659264"></a>ExternalIP</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> string</p><p><span class="strong"><strong>Default:</strong></span> <span class="emphasis"><em>blank</em></span></p><p>IP of the channel to give clients. If blank, the IP is auto-detected.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361515161072"></a>Example</h5></div></div></div><p>&lt;member name="ExternalIP"&gt;Test Channel&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361520615440"></a>WorldIP</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> string</p><p><span class="strong"><strong>Default:</strong></span> 127.0.0.1</p><p>IP address of the world server to connect to. This defaults to 127.0.0.1 (localhost).</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361523699136"></a>Example</h5></div></div></div><p>&lt;member name="WorldIP"&gt;127.0.0.1&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361522218784"></a>WorldPort</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> integer</p><p><span class="strong"><strong>Default:</strong></span> 18666</p><p>Port of the world server to connect to. This defaults to 18666.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361523374656"></a>Example</h5></div></div></div><p>&lt;member name="WorldPort"&gt;18666&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361524663232"></a>Timeout</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> integer</p><p><span class="strong"><strong>Default:</strong></span> 0</p><p>Number of seconds with no new packets until the client will timeout and be disconnected. Defaults to 0 (no timeout).</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361521983248"></a>Example</h5></div></div></div><p>&lt;member name="Timeout"&gt;15&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361516909760"></a>SystemMessage</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> string</p><p><span class="strong"><strong>Default:</strong></span> <span class="emphasis"><em>blank</em></span></p><p>System ticker message to show client upon connection to the channel. If blank, no ticker is shown.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361523179920"></a>Example</h5></div></div></div><p>&lt;member name="SystemMessage"&gt;Welcome to the server!&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361523566704"></a>AutoCompressCurrency</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> boolean</p><p><span class="strong"><strong>Default:</strong></span> false</p><p>When set Macca and Magnetite will combine into notes and pressures when selling items and picking up drops.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361523200160"></a>Example</h5></div></div></div><p>&lt;member name="AutoCompressCurrency"&gt;true&lt;/member&gt;</p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm45361520494080"></a>Database Configuration</h3></div></div></div><p>These settings configure the database.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361516594800"></a>DatabaseName</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> string</p><p><span class="strong"><strong>Default:</strong></span> <span class="emphasis"><em>comp_hack</em></span> / <span class="emphasis"><em>world</em></span></p><p>Name of the database to use. This defaults to <span class="emphasis"><em>comp_hack</em></span> for the lobby server and <span class="emphasis"><em>world</em></span> for the world server.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361523762000"></a>Example</h5></div></div></div><p>&lt;member name="DatabaseName"&gt;comp_hack&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361522373392"></a>MockData</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> boolean</p><p><span class="strong"><strong>Default:</strong></span> false</p><p>If the database should be pre-loaded with data.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361518772688"></a>Example</h5></div></div></div><p>&lt;member name="MockData"&gt;comp_hack&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361516510048"></a>MockDataFilename</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> string</p><p><span class="strong"><strong>Default:</strong></span> <span class="emphasis"><em>blank</em></span></p><p>File of objects to pre-load the database with.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361519765600"></a>Example</h5></div></div></div><p>&lt;member name="MockDataFilename"&gt;/etc/comphack/test_lobby_setup.xml&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361519790800"></a>AutoSchemaUpdate</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> boolean</p><p><span class="strong"><strong>Default:</strong></span> true</p><p>If disabled, this will prevent the database from being updated.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361524626640"></a>Example</h5></div></div></div><p>&lt;member name="AutoSchemaUpdate"&gt;true&lt;/member&gt;</p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm45361523158144"></a>MariaDB Configuration</h3></div></div></div><p>These settings configure the MariaDB database.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361516968992"></a>IP</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> string</p><p><span class="strong"><strong>Default:</strong></span> 127.0.0.1</p><p>IP address of the MariaDB or MySQL server. This defaults to 127.0.0.1 (localhost).</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361516464256"></a>Example</h5></div></div></div><p>&lt;member name="IP"&gt;127.0.0.1&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361519837664"></a>Port</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> integer</p><p><span class="strong"><strong>Default:</strong></span> 3306</p><p>Port of the MariaDB or MySQL server. If omitted this uses the default port.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361524103056"></a>Example</h5></div></div></div><p>&lt;member name="Port"&gt;127.0.0.1&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361518476816"></a>Username</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> string</p><p><span class="strong"><strong>Default:</strong></span> <span class="emphasis"><em>blank</em></span></p><p>Username to use for the database connection.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361519740176"></a>Example</h5></div></div></div><p>&lt;member name="Username"&gt;admin&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361527455152"></a>Password</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> string</p><p><span class="strong"><strong>Default:</strong></span> <span class="emphasis"><em>blank</em></span></p><p>Password to use for the database connection.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361519484592"></a>Example</h5></div></div></div><p>&lt;member name="Password"&gt;hackme&lt;/member&gt;</p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm45361518179552"></a>SQLite3 Database Configuration</h3></div></div></div><p>These settings configure the SQLite3 database.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361518580176"></a>FileDirectory</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> string</p><p><span class="strong"><strong>Default:</strong></span> <span class="emphasis"><em>blank</em></span></p><p>The directory to store the database file in.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361516382224"></a>Example</h5></div></div></div><p>&lt;member name="FileDirectory"&gt;/var/lib/comp_hack/&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361523276704"></a>MaxRetryCount</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> integer</p><p><span class="strong"><strong>Default:</strong></span> 3</p><p>Number of times to retry a SQL operation. This defaults to 3.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361523315392"></a>Example</h5></div></div></div><p>&lt;member name="MaxRetryCount"&gt;1&lt;/member&gt;</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm45361521222144"></a>RetryDelay</h4></div></div></div><p><span class="strong"><strong>Type:</strong></span> integer</p><p><span class="strong"><strong>Default:</strong></span> 500</p><p>Number of milliseconds to wait before retrying an SQL operation. This defaults to 500 milliseconds.</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm45361523856864"></a>Example</h5></div></div></div><p>&lt;member name="RetryDelay"&gt;250&lt;/member&gt;</p></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s04.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Website with PHP &amp; Nginx </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 3. Game Content</td></tr></table></div></body></html>